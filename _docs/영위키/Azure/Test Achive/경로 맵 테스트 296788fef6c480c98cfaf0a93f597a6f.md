# 경로 맵 테스트

---

- 테스트1 (규칙 계속-계속, 규칙 두개로 나눠서, 인바운드에 적용)
    
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image.png)
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%201.png)
    
    결과 → 65.141.1.64/26, 65.141.1.192/26만 살아남고 나머지 대역 사라짐
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%202.png)
    
- 테스트2 (규칙 종료-종료, 규칙 두개로 나눠서 ,인바운드에 적용)
    
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%203.png)
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%204.png)
    
    결과 → 테스트1과 달라지지 않은 결과
    
- 테스트3 (경로 맵 수정할 때 연결에서 빼고 나서 수정하고 다시 연결에 적용해야 하나?)
    
    테스트2 내용을 경로 맵 수정할 때 연결에서 빼고 나서 수정하고 다시 연결에 적용해도 192랑 64만 살아남..
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%205.png)
    
- 테스트4 (65.141.1.0/26, 65.141.1.64/26 규칙 하나만 살려둠)
    
    결과 → 65.141.1.128/25 (정상), 65.141.1.64/26(생김), 65.141.1.0/26←없음;;;
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%206.png)
    

원래 매커니즘상 경로 맵 활용해서 프리픽스 나누는게 안된다네여; 삽질했음

---

- 테스트5 (경로 /25짜리 /24로 합치기 #1) → 종료.(규칙1개)
    
    규칙 : 종료, /25 → /24, As Path 추가. 65.141.1.128/25는 어떻게 되려나?
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%207.png)
    
    결과 : 65.141.1.128/25는 가마니, AS 경로 1000 추가됨, 65.141.1.0/25만 /24로 바뀜
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%208.png)
    
- 테스트6 (경로 /25짜리 /24로 합치기 #2) → 계속-계속
    
    규칙 : 계속-계속, 새로운 규칙으로 65.141.1.128/25→/24 추가, ASN 다른걸로
    
    01번 규칙은 테스트 5와 동일, 02번 규칙은 아래와 같음
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%209.png)
    
    결과 : 둘 다 합쳐진 것 같은데 02번 규칙 ASN이 이김
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%2010.png)
    
- 테스트7 (경로 /25짜리 /24로 합치기 #3) → 계속-종료, 계속-계속
    
    규칙 : 계속-종료, 이외 모든 조건 테스트 6과 동일
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%2011.png)
    
    결과 : ASN이 1번규칙걸로 바뀜…..
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%2012.png)
    
    또다시 계속-계속으로 바꿔봄. 위 결과랑 동일함…. 대체뭐지
    
- 테스트8 (경로 /25짜리 /24로 합치기 #3) → 종료-계속
    
    규칙 : 종료-계속, 이외 모든 조건 테스트 6과 동일
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%2013.png)
    
    결과 : ASN이 2번 규칙걸로 바뀜.. 뭐냐고
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%2014.png)
    
- 테스트9 ASN 테스트
    
    사용가능 : 61500, 68300등 사설 ASN 제외 넘버
    
    사용불가능 : 65100 등 사설 ASN (**16비트 ASN**: `64512 ~ 65534` / **32비트 ASN**: `4200000000 ~ 4294967294`)
    
- 테스트10 경로 삭제
    
    규칙 : 경로 접두사 같을 시 경로 삭제
    
    1
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%2015.png)
    
    → 저렇게 설정하면 그냥 작업 부분이 삭제로 바뀜
    
    결과 : 경로 삭제됨
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%2016.png)
    
- 테스트11 일치조건 두개 동시에, 수정값 1개
    
    조건
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%2017.png)
    
    결과
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%2018.png)
    
- 테스트12 일치조건 두개, 수정값 두개
    
    조건
    
    ![image.png](%EA%B2%BD%EB%A1%9C%20%EB%A7%B5%20%ED%85%8C%EC%8A%A4%ED%8A%B8/image%2019.png)
    
    결과 → 테스트 11이랑 똑같음 작업 값 두개 안먹힘