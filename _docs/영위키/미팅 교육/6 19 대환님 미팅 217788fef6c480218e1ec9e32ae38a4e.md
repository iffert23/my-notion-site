# 6/19 대환님 미팅

---

쿠버네티스 ….. 해야할지도

계약

CSP

- 파트너사가 구독을 만들 수 있음.
- 파트너센터라는 포털이 있고 거기 들어가면 고객사 등록하고, 고객사 등록할 때 테넌트를 만들어야 함. 그럼 테넌트밑에 구독을 구매할 수 있는 버튼이 생기고 그걸 사면 테넌트 밑에 구독을 하면 됨.
- 고객사는 구독을 직접적으로 관리하지만 고객사의 소유는 아님. SR 요청할때도 파트너 통해야 함. 15%의 마진이 남음. 마진률이 높은편은 아님. 많이 사용하면 월천만원 사용함, 대부분 3~500만원 사용함
- 단점 : 마켓플레이스 구매가 안됨. 파트너 포탈에서 전체관리를 함. CSP를 관리하는 포탈을 따로 만들어서 관리하고있음
- CSP 쓰다가 규모가 커지면 EA로 계약해야하고 그러면 구독 이전을 해야 함
- 매월과금. MS가 갑임. 2개월 텀으로 계산서 끊는데 회사가 망하면 그정도 손실이 남. 그래도 그정도 사용분을 파트너가 MS에 줘야함

EA

- commit 계약. Azure Portal에서 관리함. 내가 1년에 얼마를 쓰겠다는 얘기를 걸고 3~5년 계약 기간을 가짐. 가끔 제로 커밋이 있긴 함. 커밋 포인트가 할인폭을 좌우함. 많이 하면 3년에 500억. 씨젠은 5년에 200억 계약인데 만약에 200억을 다 못쓰고 계약기간이 만료되면 못 쓴 금액만큼 우리쪽에서 MS에 돈을 줘야 함
- 일년에 억단위를 써야 EA계약을 함
- Admin 계정에 Account Owner라는 권한으로 구독생성
- 전체 계약.

Web Direct : 카드로 결제. 크레딧 구독. 제한이 있긴함. 애저 사용하는데에는 제한이 없는데 마켓플레이스 제한은 있음. 할인 없고 돈만있으면 살 수 있음. 기본적인 계약. MS와 다이렉트로 하는 계약

SCE : 온프렘(윈도우즈), 애저 합친 계약

MACC : Azure만 계약

SA(Software Assurance 계약)

- 윈도우즈 업그레이드 계약. 윈도우즈 버전 상관 없이 다 쓸 수 있음
- 프로 이상의 DSP 라이선스를 구매한 서버나 유저만.

A-Hub SQL 서버가 비싼데 ,,, 이부분은 잘 이해가 안됨.. 일단 40퍼 할인 되고 되게 싸지고 가격경쟁이 됨 

하이브리드 계약 : SA가 있어야 함.

---

VM

CPU, Memory(RAM)

- 만약에 5세대 성능 100
- 6세대 성능 3% 향상됐따고 헤ㅐㅆ을 때 계산해보면 성능은 90정도
- AWS쪽 세대가 좀 더 빠름
- 시리즈별
    - A : 테ㅐ스트용
    - B : 버스터블
    - D : 4배수 (2코어 8기가)
    - E : 메모리 8배수 (2코어 16기가), 메모리많은 VM
    - F : CPU전용, 2배수 (2코어 4기가)
    - D→E→F시리즈 순으로 많이 씀 D시리즈 제일 많이씀

디스크

- HDD 타입(IDE, SCSI ,,,) → SSD 나옴
- SSD : 스탠다드 프리미엄 울트라
- 만약에 VM으로 특정 디스크를 생성하겠다고 하면 저멀리의 SAN 디스크에서 원하는 만큼 할당받아서 사용하는거임
- 매니지드디스크. 스토리지 어카운트 계정에서 쓰는 스토리지는 독립적임.
- files : NAS 느낌. 하나의 디렉토리처럼 공간을 제공함. i/o가 정해져있음. 스탠다드랑 프리미엄으로 나눠져있는데 프리미엄쪽은 가격이 비쌈
    - 스탠다드 : 할당받은거랑 별개로 쓴만큼 비용나옴, io가 천 이상 넘어가면 누군가가 다 걍 자름(쓰롯트링)
    - 프리미엄 : 할당받은만큼 비용남음. io를 올릴수있음
    - 네뎃 ..? 스탠다드가files보다 조금느리고 프리미엄은 조금더빠름. 근데 10배 비쌈
- Blob : 컨테이너베이스 endpoint url 있고 거기서 데이터를 가져옴. 각각에 대한 경로가 다 있음 파일 읽고 쓰고 삭제하는 용도으ㅣ API가 있음
- Table : DB의 테이블이랑 같음. 용량이 커지면 감당할 수 없음. 쿼리해서 사용할 수 있는 정도의 간단한 테이블 용도로만.
- 

존과 셋의 차이 sla가 달라지는 부분..? 

SLA

- 무중단 보장 퍼센테이지.
- Azure는 99.5%
- 한달에 5시간
- 가용성을 늘리려면 이중화를 하면됨. 이중화 vm 가용성 set으로 묶으면 랙 별 구역이 다르게 생성됨.
- Data Center마다 각 랙별로 구역을 만들어둠. → 아예 데이터센터들에서 물리적 분리되는게 Zone
- PaaS로 이중화를 할 때Zone을 지정할 수 있는 서비스가 있음
- 노드배포시 zone 지정 가능
- AKS 클러스터 시 배포할때 알아서 존을 나눠줌 비용이 들지도 아닐지도
-