# 6/20 윤영신님 교육

---

거버넌스

명명규칙

- MS 오피셜이 있지만 고객사에 맞춰 통일하기도 함
- 리소스별로 정의하는 범위 제약사항이 있음. 그거에 따라서 리소스별 명명규칙이 필요함
- 명명규칙 가이드라인 만들기
- 코드 분류 : 환경 코드, 지역 코드, 리소스 유형 코드

태깅 전략

- 잘 사용하는 곳은 많지 않음. 사용하는 곳들은 잘 사용함
- 기능, 분류, 회계, 용도 등 리소스 네임에서 볼 수 없는 외적인 부분에 대한 것을 태깅으로 해결
- 태그를 이용해서 IaC 코딩할때 필터링할수있음
- CAF 권장 태그 기반으로 고객 요구사항에 맞춰서 잘 맞추면 됨

네트워크

- 기본적인 구조 : 네트워크 토폴로지 정의
- 연결 : 온프렘↔애져, Paas 연결
- 네트워크 보안 : 인아웃바운드 처리 계획, 내부 네트워크 세분화, 트래픽 검사, DNS
- High Level : 가장 단순함
- 랜딩존이 제일 나중에 구축돼서 기존 장비랑 연결해야할 필요성이 있음
- 통합 모니터링 서비스(FromDoor : waf+cdn, 글로벌)
- 고객사 사용 대역에 대한 정보가 필요함. 해당 대역 이외의 대역으로 vnet, 서브넷 할당해줘야함
- 애저 FW 보안관제 하는 회사가 없음
- 가상머신과 컨테이너 워크로드를 분류하여 필요 리소스가 배치될 수 있는 워크로드 네트워크 설계
- Azure 리소스 전용 서브넷
- 하이브리드 네트워크
- vHub 라우팅 설정..
- NSG 모두 사용됨. NSG가 배포되자마자 Azure Policy 설정
- UDR., 사용자 정의 라우팅
- 프라이빗 엔드포인트 : 퍼블릭 네트워크를 추상화해서 사설 네트워크로 끌어오는거 → nic 생기고 private DNS 생김
- 프라이빗 엔드포인트가 생성된다고 해도 퍼블릭이 아니게 됨. 프라이빗을 쓰고 퍼블릭을 안쓰겠다는 정의를 해야함
- noth-south 통신 : 인터넷에서 애저로 들어옴
- east-west 통신 : 스포크들끼리 통신
- Azure FW SKU 선택 : Basic, Standard, Primiam
- FW 정책 규칙 집합
- 기본 규칙 처리 순서 : Dnat-nw-app
- 네트워크 보안 그룹
- NSG 네트워크 보안 그룹 흐름 로그 → 네트워크 와쳐에서 모니터링 기능 있음 nsg fram log 걸고 로그 받아서 까봐야함
- 가상 네트워크 흐름 로그