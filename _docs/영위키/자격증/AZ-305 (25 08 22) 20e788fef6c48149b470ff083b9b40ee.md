# AZ-305 (25.08.22)

---

- **참고**
    
    학습 가이드 : https://learn.microsoft.com/ko-kr/credentials/certifications/resources/study-guides/az-305
    
    시험 정보, MS Learn : https://learn.microsoft.com/ko-kr/credentials/certifications/exams/az-305/#two-ways-to-prepare
    

[연습평가 오답노트](AZ-305%20(25%2008%2022)/%EC%97%B0%EC%8A%B5%ED%8F%89%EA%B0%80%20%EC%98%A4%EB%8B%B5%EB%85%B8%ED%8A%B8%20255788fef6c4804fb902d9b0dbd591fe.md)

[계속 틀리는것들](AZ-305%20(25%2008%2022)/%EA%B3%84%EC%86%8D%20%ED%8B%80%EB%A6%AC%EB%8A%94%EA%B2%83%EB%93%A4%20255788fef6c480e396c5fb4ac729e938.md)

하놔.. 한번떨어짐

---

### Azure 컴퓨팅 및 네트워킹 서비스 설명

- 가상 머신 설명
    
    VM은 IaaS다 → OS에 대한 완전한 제어, 사용자 지정 소프트웨어를 실행함, 사용자 지정 호스팅 구성함
    
    ⇒ 유지관리 개귀찮고 VM 생성이후의 모든 관리를 사용자가 다 신경써야함
    
    VM 스케일링
    
    → 가상 머신 크기 집합 :스케일셋, 부하분산된 동일한 VM 그룹 만들 수 있음, 네트워크 라우팅해서 효율적으로 관리할수있게 해야함, 사용모니터댐, 확장 집합 이용 시 중앙에서 수많은 VM 관리가능, 대규모 서비스 구축 가능
    
    → 가상 머신 가용성 집합 :복원력최고, HA, VM 업데이트할때 시차두고 따로따로 업데이트함, 업데이트 도메인(동시에 같이 부팅가능한 VM 그룹으로 묶어서 그 그룹대로 한꺼번에 업뎃함), 장애 도메인(공통 전원, 네트워크 스위치별로 VM 나누기 때문에 물리적인 에러에 대비가능)
    
    VM 사용 예시 : 테스트 개발, 클라우드에서 앱실행, 데이터센터를 클라우드로 확장, 재해복구
    
- Azure Virtual Desktop
    
    클라우드에서 실행되는 데스크톱 및 애플리케이션 가상화 서비스
    
    사용자가 word나 excel 사용 시 원격 데스크톱에서만 수정할 수 있으면 기밀정보 유출 방지 가능
    
    일반적으로 쓰는 원격 데스크톱이 아니라 원격 데스크톱에서 실행하는 작업인데 사용자 PC에 잇는 로컬 작업 수정 하는 것처럼 서비스를 제공해주는데 엄밀히 말하면 작업결과가 사용자 PC에 저장되는게 아니라 원격 데스크탑에 저장되는 것 같음
    
    다단계 인증, RBAC 할당하여 보안강화 최고
    
- Azure 컨테이너
    
    가상화 환경인데 되게 많은 VM을 한꺼번에 관리하는거랑 되게 유사하지만 VM 관리하는거랑 다른 점은 컨테이너에서는 OS 관리하지 않는다는거임
    
    운영체제 위에서 돌리는게 아니라 도커나 컨테이너라는거 자체가 대따 큰 운영체제인건가
    
    필요에 따라 스케일 아웃이나 중지나 생성을 동적으로 할 수 있다
    
    가상머신은 하드웨어를 가상화하지만 컨테이너는 운영체제를 가상화한다고 함
    
    VM : 완벽한 환경제어가 필요할때, 그게 아니면 컨테이너가 좋음
    
    컨테이너 인스턴스 : PaaS임, Azure에서 컨테이너를 실행하는 가장 빠른 방법, 컨테이너 업로드 가능, 컨테이너 자동 실행
    
    컨테이너 앱 : 컨테이너 인스턴스랑 비슷함, PaaS임, 부하분산&크기조정 가능
    
    쿠버네티스 서비스 : 컨테이너 오케스트레이션 서비스, 컨테이너 수명 주기 관리, 컨테이너 플릿 관리
    
    사용환경 : 마이크로 서비스 아키텍쳐(??) 사용하여 솔루션 만들때 → 용도별 컨테이너로 분할
    
- Function
    
    서버리스 기반의 컴퓨팅 옵션, 가상머신이나 컨테이너 필요없음
    
    서비스 실행하는 코드에만 관심있으면 찰떡으로 잘맞음, 주로 REST 요청을 통한 이벤트나 타이머, 다른 Azure 서비스로부터 받은 메시지에 대한 응답으로 작업을 수행해야 하거나 작업을 대따빠르게 완료할 수 있는 경우에 주로 사용됨
    
    수요에 따라 자동적으로 스케일링되기 때문에 수요가 가변적일때 좋은 선택임
    
    상태비저장(요청올때마다 새로운기분새로운마음으로), 상태저장(기억해놨다가 이어서)
    
    함수 실행되는동안 사용되는 CPU에 대한 비용만 청구
    
- 애플리케이션 호스팅 옵션
    
    어쩌고저쩌고 앱서비스랑 어쩌구저쩌구
    

### Azure 스토리지 서비스 설명

- 스토리지 계정 설명
    - LRS(로컬 중복 스토리지)
    - GRS(지역 중복 스토리지)
    - RA-GRS(읽기 액세스 지역 중복 스토리지)
    - ZRS(영역 중복 스토리지)
    - GZRS(지역 영역 중복 스토리지)
    - RA-GZRS(읽기 액세스 지역 영역 중복 스토리지)
    
    ![image.png](AZ-305%20(25%2008%2022)/image.png)
    
- 스토리지 중복성 설명
    
    
- 스토리지 서비스 설명
    - **Azure Blob**: 텍스트 및 이진 데이터에 대한 확장성이 뛰어난 개체 저장소입니다. 또한 Data Lake Storage Gen2를 통한 빅 데이터 분석 지원도 포함합니다.
    - **Azure Files**: 클라우드 또는 온-프레미스 배포에 대한 관리되는 파일 공유입니다.
    - **Azure 큐**: 애플리케이션 구성 요소 간에 안정적인 메시징을 위한 메시징 저장소입니다.
    - **Azure 디스크**: Azure VM용 블록 수준 스토리지 볼륨입니다.
    - **Azure 테이블:** 정형의 비관계형 데이터를 위한 NoSQL 테이블 옵션입니다.
    
    이점 : 내구성 및 고가용성, 보안(모든 데이터 암호화), 스케일링 가능, 엑세스 가능
    
    ## **Azure Blobs**
    
    Azure Blob Storage는 텍스트나 이진 데이터 등 대량의 비정형 데이터를 저장하는 클라우드 개체 스토리지입니다. 데이터 유형에 제한이 없으며, 동시 업로드, 대용량 비디오, 로그 파일을 처리하고 인터넷을 통해 어디서나 접근 가능합니다.
    
    Blob은 파일 형식에 제한이 없어 과학 데이터, 암호화된 메시지, 사용자 지정 데이터를 포함할 수 있습니다. 개발자는 디스크 관리 없이 데이터를 업로드하면 Azure가 물리적 스토리지를 처리합니다.
    
    Blob 스토리지 사용 사례:
    
    - 브라우저에 이미지 또는 문서 직접 제공
    - 분산 액세스용 파일 저장
    - 비디오 및 오디오 스트리밍
    - 백업/복원, 재해 복구 및 보관
    - 데이터 분석 저장소
    
    ### **Blob Storage 액세스**
    
    Blob은 HTTP/HTTPS로 전 세계에서 접근 가능합니다. URL, REST API, PowerShell, CLI, 다양한 언어용 클라이언트 라이브러리를 통해 액세스할 수 있습니다.
    
    ### **Blob Storage 계층**
    
    데이터 증가에 따른 비용 관리를 위해 액세스 빈도와 보존 기간 기반으로 데이터를 구성할 수 있습니다. 데이터는 수명주기에 따라 액세스 패턴이 다르므로, Azure는 다양한 액세스 요구사항에 맞는 여러 스토리지 계층을 제공합니다.
    
    비용 효율적인 개체 데이터 저장을 위한 액세스 계층:
    
    - **핫 액세스 계층**: 자주 액세스하는 데이터(웹사이트 이미지 등)에 최적화
    - **쿨 액세스 계층**: 30일 이상 저장되는 덜 자주 액세스하는 데이터(고객 송장 등)
    - **콜드 액세스 계층**: 90일 이상 저장되는 드물게 액세스하는 데이터
    - **보관 액세스 계층**: 180일 이상 보관되는 거의 액세스하지 않는 데이터(장기 백업 등)
    
    액세스 계층 고려사항:
    
    - 핫, 쿨, 콜드 계층은 계정 수준에서 설정 가능, 보관 계층은 불가
    - 모든 계층은 Blob 수준에서 업로드 중/후 설정 가능
    - 쿨/콜드 데이터는 가용성이 약간 낮지만 내구성과 처리량은 유지, 액세스 비용은 높고 스토리지 비용은 낮음
    - 보관 스토리지는 오프라인 저장, 최저 스토리지 비용, 최고 액세스 비용
    
    ## **Azure 파일**
    
    Azure File Storage는 SMB/NFS 프로토콜로 접근 가능한 관리형 파일 공유를 제공합니다. 클라우드나 온프레미스에서 동시 탑재 가능하며, 다양한 OS에서 접근할 수 있습니다. Azure 파일 동기화로 Windows Server에 캐싱 가능합니다.
    
    ### **Azure Files 주요 이점:**
    
    - **공유 액세스**: SMB/NFS 지원으로 온프레미스 파일 공유를 쉽게 대체
    - **완전 관리형**: 하드웨어/OS 관리 불필요
    - **스크립팅 및 도구**: PowerShell, CLI, Portal로 관리 가능
    - **복원력**: 항상 가용하도록 설계됨
    - **친숙한 프로그래밍**: 표준 API로 접근 가능
    
    ## **Azure Queues**
    
    대량 메시지 저장 서비스로, HTTP/HTTPS로 전역 접근 가능합니다. 스토리지 계정에 수백만 메시지(최대 64KB)를 저장하며, 비동기 작업 백로그에 주로 사용됩니다.
    
    Azure Functions와 결합하여 메시지 수신 시 작업을 수행할 수 있습니다. 예: 웹사이트 양식 제출 시 메시지 트리거 후 Functions로 작업 실행.
    
    ## **Azure 디스크**
    
    Azure VM용 관리형 블록 스토리지로, 가상화로 높은 복원력과 가용성을 제공합니다. 사용자는 디스크만 프로비저닝하면 Azure가 나머지를 처리합니다.
    
    ## **Azure Tables**
    
    구조화된 대량 데이터 저장소로, Azure 내외부에서 접근 가능한 NoSQL 데이터베이스입니다. 하이브리드/멀티클라우드 솔루션 구축에 적합하며 비관계형 구조화 데이터에 최적화되어 있습니다.
    
- 데이터 마이그레이션 옵션 식별
    
    ### **Azure Migrate (Azure 마이그레이션)**
    
    Azure Migrate는 온-프레미스에서 클라우드로 마이그레이션을 위한 허브 서비스로, 데이터 센터 평가 및 마이그레이션 관리를 지원합니다. 주요 기능:
    
    - **통합 마이그레이션 플랫폼**: 마이그레이션 시작, 실행, 추적을 위한 단일 포털
    - **도구 범위**: 평가 및 마이그레이션용 도구 제공. Azure Migrate 도구(검색 및 평가, 서버 마이그레이션)와 ISV 제품 통합
    - **평가 및 마이그레이션**: 허브에서 온-프레미스 인프라 평가 및 Azure 마이그레이션 가능
    
    ### **통합 도구**
    
    Azure Migrate 허브에 포함된 주요 마이그레이션 도구:
    
    - **Azure Migrate: 검색 및 평가**. VMware, Hyper-V, 물리적 서버 검색 및 평가
    - **Azure Migrate: 서버 마이그레이션**. 다양한 서버 유형을 Azure로 마이그레이션
    - **Data Migration Assistant**. SQL Server 평가 도구로 마이그레이션 문제 식별
    - **Azure Database Migration Service**. 온-프레미스 데이터베이스를 Azure로 마이그레이션
    - **Azure App Service 마이그레이션 도우미**. 웹 사이트 평가 및 .NET/PHP 웹앱 마이그레이션
    - **Azure Data Box**. 대량 오프라인 데이터 이동
    
    ## **Azure Data Box**
    
    Data Box는 대량 데이터 전송용 물리적 마이그레이션 서비스로, 최대 80TB 용량의 스토리지 디바이스를 제공합니다. 보안 전송을 위한 러기드 케이스와 이동통신사 배송을 통해 안전하게 데이터를 이동합니다.
    
    Azure Portal에서 주문 가능하며, 로컬 웹 UI로 설정 후 사용합니다. 데이터 이동 완료 후 반환하면 자동 업로드되며, 전체 과정은 Portal에서 추적됩니다.
    
    ### **사용 사례**
    
    40TB 이상 데이터 전송에 적합하며, 일회성/정기적/초기 대량 후 정기 전송 시나리오에 활용됩니다.
    
    주요 가져오기 시나리오:
    
    - 일회성 마이그레이션 - 대용량 온-프레미스 데이터 이동
    - 오프라인 미디어 라이브러리를 Azure로 이동
    - VM, SQL Server, 애플리케이션 마이그레이션
    - 분석용 기록 데이터 이동
    - 초기 대량 전송 후 증분 데이터 전송
    - 주기적 대용량 데이터 업로드
    
    주요 내보내기 시나리오:
    
    - 재해 복구 - Azure 데이터를 온-프레미스로 빠르게 복원
    - 보안 요구사항에 따른 데이터 내보내기
    - 온-프레미스/타 클라우드로 재마이그레이션
    
    데이터 처리 후 디바이스 디스크는 NIST 표준에 따라 완전히 초기화됩니다.
    
- 파일 이동 옵션 식별
    
    대규모 마이그레이션용 Azure Migrate와 Data Box 외에도, 개별 파일이나 소규모 파일 그룹 이동을 위한 도구가 있습니다: AzCopy, Azure Storage Explorer, Azure 파일 동기화.
    
    ## **AzCopy**
    
    AzCopy는 스토리지 계정 간 BLOB/파일 복사용 명령줄 유틸리티입니다. 파일 업로드, 다운로드, 계정 간 복사, 동기화가 가능하며 타 클라우드 제공업체와도 연동됩니다.
    
    **중요**
    
    AzCopy 동기화는 단방향입니다. 원본과 대상을 지정하면 해당 방향으로만 파일/Blob을 복사하며, 메타데이터 기반 양방향 동기화는 지원하지 않습니다.
    
    ## **Azure Storage Explorer**
    
    Azure Storage Explorer는 스토리지 계정의 파일/BLOB 관리용 GUI 앱입니다. Windows, macOS, Linux에서 작동하며 백엔드에서 AzCopy를 사용합니다. Azure 업로드/다운로드 및 계정 간 이동이 가능합니다.
    
    ## **Azure 파일 동기화**
    
    Azure 파일 동기화는 Azure Files의 파일 공유를 중앙화하면서 Windows 파일 서버의 장점을 유지하는 도구입니다. Windows 서버를 미니 CDN처럼 활용하며, 설치 시 Azure와 자동 양방향 동기화됩니다.
    
    주요 기능:
    
    - Windows Server의 모든 프로토콜(SMB, NFS, FTPS 등)로 로컬 데이터 액세스
    - 전 세계에 필요한 만큼 캐시 배포 가능
    - 동일 데이터센터의 새 서버에 설치하여 장애 서버 대체 가능
    - 클라우드 계층화로 자주 사용하는 파일만 로컬에 유지하고 나머지는 클라우드에 보관
- 요약
    
    이 모듈에서는 Azure 스토리지 서비스에 대해 알아보았습니다. Azure Storage 계정 및 해당 계정이 다양한 스토리지 서비스와 어떻게 관련되는지 알아보았습니다. 스토리지 BLOB 및 중복성 옵션과 Azure로 데이터를 마이그레이션하고 Azure 내에서 데이터를 이동하는 방법을 소개했습니다.
    
    ## **학습 목표**
    
    이제 다음을 수행할 수 있습니다.
    
    - Azure Storage 서비스를 비교합니다.
    - 스토리지 계층에 대해 설명합니다.
    - 중복성 옵션을 설명합니다.
    - 스토리지 계정 옵션 및 스토리지 유형에 대해 설명합니다.
    - AzCopy, Azure Storage Explorer 및 Azure 파일 동기화 포함하여 파일을 이동하기 위한 옵션을 식별합니다.
    - Azure Migrate 및 Azure Data Box를 비롯한 마이그레이션 옵션을 설명합니다.
    
    ## **추가 리소스**
    
    다음 리소스는 이 모듈 또는 이 모듈과 관련된 항목에 대한 자세한 정보를 제공합니다.
    
    - [Azure에 데이터 저장](https://learn.microsoft.com/ko-kr/learn/paths/store-data-in-azure/)은 Azure에 데이터를 저장하는 방법에 대한 자세한 내용을 다루는 Microsoft Learn 과정입니다.
    - [Microsoft Certified: Azure 데이터 기본 사항](https://learn.microsoft.com/ko-kr/learn/certifications/azure-data-fundamentals/)은 전체 인증이며, Azure의 데이터 기본 사항에 대해 자세히 알아보는 관련 학습을 제공합니다.

### Azure ID, 엑세스 및 보안 설명

- Azure 디렉터리 서비스 설명
    
    Microsoft Entra ID는 클라우드 애플리케이션 로그인 및 액세스를 위한 디렉터리 서비스로, 온-프레미스 Active Directory 관리도 지원합니다.
    
    온-프레미스 환경에서는 Windows Server의 Active Directory가 ID 및 액세스 관리를 제공합니다. Microsoft Entra ID는 클라우드 기반 동등 서비스로, 전역적으로 ID 계정을 관리합니다.
    
    Microsoft Entra ID와 Active Directory 연결 시 추가 비용 없이 의심스러운 로그인 시도 감지 보호 기능을 제공합니다.
    
    ## **Microsoft Entra ID는 누가 사용하나요?**
    
    Microsoft Entra ID는 다음을 위한 것입니다.
    
    - **IT 관리자.** 비즈니스 요구에 따른 리소스 액세스 제어
    - **앱 개발자.** SSO 기능 추가 및 사용자 자격 증명 활용을 위한 표준 기반 접근법 제공
    - **사용자**. ID 관리 및 셀프 서비스 암호 재설정 수행
    - **온라인 서비스 구독자.** Microsoft 365, Office 365, Azure, Dynamics CRM Online 인증
    
    ## **Microsoft Entra ID는 무엇을 하나요?**
    
    Microsoft Entra ID는 다음과 같은 서비스를 제공합니다.
    
    - **인증**: ID 확인, 셀프 서비스 암호 재설정, 다단계 인증, 금지된 암호 목록, 스마트 잠금 서비스
    - **Single Sign-On**: 하나의 사용자 이름과 암호로 여러 애플리케이션 액세스, 간소화된 보안 모델, 효율적인 액세스 관리
    - **애플리케이션 관리**: 클라우드 및 온-프레미스 앱 관리, 애플리케이션 프록시, SaaS 앱, My Apps 포털 지원
    - **디바이스 관리**: 디바이스 등록 지원, Intune 통합, 디바이스 기반 조건부 액세스 정책
    
    ## **온-프레미스 AD를 Microsoft Entra ID와 연결할 수 있나요?**
    
    온-프레미스 AD와 Microsoft Entra ID를 연결하여 클라우드와 온-프레미스 간 일관된 ID 환경을 구현할 수 있습니다.
    
    Microsoft Entra Connect를 통해 온-프레미스 AD와 Microsoft Entra ID 간 사용자 ID를 동기화하여 SSO, 다단계 인증, 셀프 서비스 암호 재설정 기능을 활용할 수 있습니다.
    
    ## **Microsoft Entra Domain Services란?**
    
    관리형 도메인 서비스로 도메인 가입, 그룹 정책, LDAP, Kerberos/NTLM 인증을 제공합니다. 클라우드에서 DC 배포 없이 도메인 서비스 이점을 얻을 수 있습니다.
    
    레거시 애플리케이션을 클라우드에서 실행하고 온-프레미스에서 관리형 도메인으로 리프트 앤 시프트할 수 있습니다.
    
    Microsoft Entra 테넌트와 통합되어 기존 자격 증명으로 로그인하고 그룹/사용자 계정으로 리소스 액세스를 보호합니다.
    
    ### **Microsoft Entra Domain Services는 어떻게 작동하나요?**
    
    고유한 네임스페이스(도메인 이름)를 정의하고 두 개의 Windows Server 도메인 컨트롤러가 선택한 Azure 지역에 배포됩니다.
    
    DC 관리가 필요 없으며 Azure 플랫폼이 백업 및 암호화를 포함한 관리형 도메인으로 처리합니다.
    
    ### **정보가 동기화되었나요?**
    
    Microsoft Entra ID에서 Domain Services로 단방향 동기화가 이루어집니다. 하이브리드 환경에서는 Entra Connect가 ID 정보를 Microsoft Entra ID와 동기화한 후 관리형 도메인과 동기화합니다.
    
    ![온-프레미스 AD에서 Microsoft Entra 테넌트로 정보를 다시 동기화하는 Microsoft Entra Connect 동기화 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/describe-azure-identity-access-security/media/azure-active-directory-sync-topology-7359f2b8-427db2d4.png)
    
    이를 통해 Azure의 애플리케이션, 서비스, VM에서 도메인 조인, 그룹 정책, LDAP, Kerberos/NTLM 인증 기능을 사용할 수 있습니다.
    
- Azure 인증 방식 설명
    
    인증은 사람, 서비스 또는 디바이스의 ID를 확인하는 프로세스로, 신원 증명을 위한 자격 증명 제공을 요구합니다. 여행 중 ID 제시와 유사하며 주장하는 신원을 증명합니다. Azure는 표준 암호, SSO, MFA, 암호 없는 인증 등 다양한 방법을 지원합니다.
    
    과거에는 보안과 편의성이 상충했으나, 새로운 인증 솔루션은 두 가지를 모두 제공합니다.
    
    다음 다이어그램은 편의성 대비 보안 수준을 보여줍니다. 암호 없는 인증은 보안과 편의성이 모두 높은 반면, 암호는 편의성은 높지만 보안은 낮습니다.
    
    ![암호 + 2단계 인증이 보안은 높지만 편의성은 낮게 나타나는 보안 대 편의성을 보여주는 사분면 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/describe-azure-identity-access-security/media/passwordless-convenience-security-30321b4d-18aa7d73.png)
    
    ## **Single Sign-On이란?**
    
    SSO를 통해 사용자는 한 번 로그인하여 여러 리소스와 애플리케이션에 접근할 수 있습니다. 작동을 위해서는 다른 애플리케이션과 공급자가 초기 인증자를 신뢰해야 합니다.
    
    ID가 많을수록 기억하고 변경해야 할 암호가 늘어납니다. 복잡한 암호 정책은 기억을 어렵게 하며, 관리할 암호가 많을수록 보안 사고 위험이 높아집니다.
    
    여러 ID 관리는 기술 지원팀에 부담을 주고, 사용자 퇴사 시 모든 ID를 추적하여 비활성화하는 것이 어렵습니다. ID 누락 시 제거해야 할 접근 권한이 유지될 수 있습니다.
    
    SSO 사용 시 하나의 ID와 암호만 기억하면 되며, 보안 모델이 간소화됩니다. 역할 변경이나 퇴사 시 접근 권한이 단일 ID로 제한되어 계정 관리가 쉬워집니다. SSO로 사용자와 IT 부서 모두 관리가 용이해집니다.
    
    **중요**
    
    SSO는 초기 인증자의 보안 수준만큼만 안전합니다. 모든 후속 연결이 초기 인증의 보안에 의존하기 때문입니다.
    
    ## **다단계 인증이란?**
    
    다단계 인증은 로그인 시 추가 식별 요소를 요구하는 프로세스로, 암호가 손상되어도 두 번째 요소가 안전하면 보호 기능을 제공합니다.
    
    웹사이트나 서비스 로그인 시 사용자 이름과 암호 입력 후 휴대폰으로 전송된 코드를 입력한 경험이 있다면, 다단계 인증을 사용한 것입니다.
    
    다단계 인증은 2개 이상의 요소로 ID를 보호하며, 이는 세 가지 범주로 나뉩니다.
    
    - 사용자가 알고 있는 것 - 본인 확인 질문
    - 사용자가 가지고 있는 것 - 휴대폰으로 전송되는 코드
    - 사용자의 존재인 것 - 지문이나 얼굴 스캔 같은 생체 인식
    
    다단계 인증은 자격 증명 노출 영향을 제한하여 보안을 강화합니다. 공격자가 암호를 알아도 사용자의 기기나 생체정보 없이는 완전한 인증이 불가능합니다.
    
    단일 단계 인증에서는 사용자 이름과 암호만으로 인증이 가능한 반면, 다단계 인증은 상당한 보안 이점을 제공하므로 가능한 활성화해야 합니다.
    
    ### **Microsoft Entra 다단계 인증이란?**
    
    Microsoft Entra 다단계 인증은 추가 인증 형식을 제공하는 서비스로, 사용자는 로그인 중 전화 통화나 모바일 앱 알림과 같은 옵션을 선택할 수 있습니다.
    
    ## **암호 없는 인증이란?**
    
    MFA는 보안에 좋지만 암호와 추가 보안 계층으로 사용자 경험이 불편합니다. 암호 없는 인증은 암호 대신 사용자 소유물이나 지식으로 대체하여 더 편리합니다.
    
    암호 없는 인증은 먼저 디바이스에서 설정이 필요합니다. 컴퓨터가 등록되면 Azure는 이를 사용자와 연결하여, PIN이나 생체인식 같은 요소로 암호 없이 인증할 수 있게 합니다.
    
    Microsoft는 Azure에서 Entra ID와 통합되는 세 가지 암호 없는 인증 옵션을 제공합니다.
    
    - 비즈니스용 Windows Hello
    - Microsoft Authenticator 앱
    - FIDO2 보안 키
    
    ### **비즈니스용 Windows Hello**
    
    Windows Hello는 고유 PC가 있는 정보 근로자에게 적합합니다. 생체 인식과 PIN은 PC에 직접 연결되어 소유자만 접근 가능합니다. PKI 통합과 SSO를 통해 온-프레미스와 클라우드 리소스에 편리하게 접근할 수 있습니다.
    
    ### **Microsoft Authenticator 앱**
    
    직원 휴대폰을 암호 없는 인증 방법으로 사용할 수 있습니다. Authenticator 앱은 MFA 옵션으로도, 암호 없는 옵션으로도 활용 가능합니다.
    
    Authenticator 앱은 iOS나 Android 휴대폰을 강력한 암호 없는 자격 증명으로 전환합니다. 사용자는 알림을 받고 숫자 대조 후 생체 인식이나 PIN으로 로그인할 수 있습니다.
    
    ### **FIDO2 보안 키**
    
    FIDO Alliance는 공개 인증 표준을 장려하고 암호 사용을 줄이도록 지원합니다. FIDO2는 WebAuthn 표준을 통합한 최신 표준입니다.
    
    FIDO2 보안 키는 다양한 형태로 제공되는 피싱 방지 암호 없는 인증 방법입니다. FIDO를 통해 사용자와 조직은 외부 보안 키나 디바이스 키로 사용자 이름이나 암호 없이 로그인할 수 있습니다.
    
    사용자는 FIDO2 보안 키를 등록하여 주요 인증 수단으로 선택할 수 있습니다. 이러한 키는 주로 USB 디바이스지만 Bluetooth나 NFC도 가능합니다. 하드웨어 인증은 암호 노출 위험이 없어 계정 보안이 강화됩니다.
    
- Azure  외부 ID
    
    외부 ID는 조직 외부의 사람, 디바이스, 서비스를 의미합니다. Microsoft Entra 외부 ID를 통해 조직 외부 사용자와 안전하게 상호작용할 수 있습니다. 파트너나 공급업체와 협업 시 리소스 공유 및 액세스 방법을 정의할 수 있고, 개발자는 고객용 앱의 ID 환경을 관리할 수 있습니다.
    
    외부 ID는 "자신의 ID 가져오기" 개념으로 SSO와 유사합니다. 회사 발급 ID나 Google 같은 소셜 ID로 로그인할 수 있으며, 외부 사용자의 ID는 해당 공급자가 관리하고 Microsoft Entra ID나 Azure AD B2C로 앱 액세스를 관리합니다.
    
    ![테넌트에 액세스하는 B2B 협력자와 AD B2C 테넌트에 액세스하는 B2C 협력자를 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/describe-azure-identity-access-security/media/azure-active-directory-external-identities-5a892021-ca79a69c.png)
    
    외부 ID 주요 기능:
    
    - **B2B Collaboration** - 외부 사용자가 선호하는 ID로 Microsoft 및 기타 앱에 로그인하여 협업할 수 있으며, 이들은 일반적으로 게스트 사용자로 표시됩니다.
    - **B2B 직접 연결** - 다른 Microsoft Entra 조직과 양방향 트러스트를 구축합니다. Teams 공유 채널을 지원하며, 사용자는 디렉터리에 표시되지 않지만 Teams에서 확인 가능합니다.
    - **Azure AD B2C** - 소비자와 고객에게 SaaS 앱이나 사용자 지정 앱을 제공하면서 ID 및 액세스 관리에 활용합니다.
    
    외부 조직과의 상호작용 방식과 공유 리소스 유형에 따라 이러한 기능들을 조합하여 사용할 수 있습니다.
    
    Microsoft Entra B2B 기능으로 조직 경계를 넘어 쉽게 협업할 수 있습니다. 다른 테넌트의 게스트 사용자는 관리자나 사용자가 초대할 수 있으며, 이는 Microsoft 계정 같은 소셜 ID에도 적용됩니다.
    
    게스트 사용자에게 적절한 액세스 권한을 부여하고 정기적인 액세스 검토를 통해 관리할 수 있습니다. 검토자는 Microsoft Entra ID의 제안을 기반으로 각 사용자의 액세스 필요성을 평가하고, 완료 후 변경사항을 적용하거나 불필요한 액세스를 제거할 수 있습니다.
    
- Azure 조건부 액세스 설명
    
    조건부 액세스는 ID 신호(사용자 신분, 위치, 디바이스)에 따라 리소스 액세스를 허용/거부하는 Microsoft Entra ID 도구입니다.
    
    IT 관리자는 조건부 액세스로 다음을 수행할 수 있습니다.
    
    - 사용자 생산성 향상
    - 조직 자산 보호
    
    조건부 액세스는 세분화된 다단계 인증을 제공합니다. 알려진 위치에서는 추가 인증이 필요 없지만, 비정상 로그인이나 예기치 않은 위치에서는 추가 인증이 요구됩니다.
    
    로그인 시 사용자 신호를 수집하고, 이를 기반으로 결정을 내려 액세스 허용, 거부 또는 추가 인증 요구 등의 조치를 취합니다.
    
    다음 다이어그램은 이러한 흐름을 보여줍니다.
    
    ![결정으로 이어지고 적용으로 이어지는 조건부 액세스 신호 흐름을 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/describe-azure-identity-access-security/media/conditional-access-9bd268b8-757297cb.png)
    
    신호는 사용자 위치, 디바이스 또는 접근하려는 애플리케이션입니다.
    
    정상 위치에서 로그인 시 액세스를 허용하고, 비정상 위치나 고위험 지역에서는 추가 인증 후 액세스가 허용되거나 차단됩니다.
    
    적용은 액세스 허용이나 추가 인증 요구와 같은 의사결정 작업입니다.
    
    ## **조건부 액세스를 언제 사용할 수 있나요?**
    
    조건부 액세스는 다음 경우에 유용합니다.
    
    - 역할, 위치, 네트워크에 따른 MFA 요구 - 관리자나 외부 네트워크 사용자에게 추가 인증 요청
    - 승인된 클라이언트 앱으로만 서비스 액세스 제한 - 예: 특정 메일 앱으로만 메일 서비스 접근 허용
    - 관리 디바이스로만 앱 액세스 제한 - 보안 및 규정 준수 기준 충족 디바이스만 허용
    - 신뢰할 수 없는 소스(예상치 못한 위치)에서의 액세스 차단
- Azure 역할 기반 액세스 제어 설명(RBAC)
    
    여러 IT 및 엔지니어링 팀이 있을 때 클라우드 리소스 액세스 제어는 어떻게 할까요? 최소 권한 원칙에 따르면 필요한 수준까지만 액세스 권한을 부여해야 합니다. 예를 들어, 스토리지 Blob에 읽기만 필요하면 읽기 권한만 부여하고 쓰기나 다른 Blob 접근은 차단해야 합니다.
    
    개별 액세스 관리는 번거롭습니다. Azure RBAC(역할 기반 액세스 제어)를 사용하면 리소스나 팀원 변경 시 일일이 권한을 업데이트할 필요 없이 효율적으로 액세스를 관리할 수 있습니다.
    
    Azure는 기본 역할을 제공하며 사용자 지정 역할도 정의할 수 있습니다. 각 역할에는 관련 액세스 권한 세트가 있으며, 역할에 할당된 개인이나 그룹은 해당 권한을 모두 얻습니다.
    
    새 엔지니어를 Azure RBAC 그룹에 추가하면 그룹 내 다른 엔지니어와 동일한 권한을 자동으로 얻습니다. 새 리소스에 같은 RBAC를 적용하면 그룹 사용자들은 즉시 해당 리소스에 접근할 수 있습니다.
    
    ## **리소스에 역할 기반 액세스 제어는 어떻게 적용되나요?**
    
    역할 기반 액세스 제어는 액세스가 적용되는 리소스나 리소스 세트인 '범위'에 적용됩니다.
    
    아래 다이어그램은 역할과 범위 관계를 보여줍니다. 소유자 역할은 관리 그룹, 구독 또는 리소스 그룹에 부여되어 제어 권한을 강화합니다. 관찰자에게는 읽기 권한자 역할이 부여되어 검토만 가능합니다.
    
    ![범위와 역할을 보여 주는 다이어그램. 역할 및 범위 조합은 관찰자 또는 관리자와 같은 특정 유형의 사용자 또는 계정에 매핑됩니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/describe-azure-identity-access-security/media/role-based-access-scope-4b12a8f3-7f40fc55.png)
    
    범위는 다음과 같습니다:
    
    - 관리 그룹(여러 구독의 컬렉션)
    - 단일 구독
    - 리소스 그룹
    - 단일 리소스
    
    관찰자, 리소스 관리자, 관리자, 자동화 프로세스는 일반적으로 각기 다른 역할에 할당됩니다.
    
    Azure RBAC는 계층적입니다. 상위 범위에서 부여된 권한은 모든 하위 범위로 상속됩니다. 예:
    
    - 관리 그룹에서 소유자 역할을 받은 사용자는 해당 그룹 내 모든 구독의 모든 항목을 관리할 수 있습니다.
    - 구독 범위에서 읽기 권한자 역할을 받은 그룹은 해당 구독의 모든 리소스 그룹과 리소스를 볼 수 있습니다.
    
    ## **Azure RBAC는 어떻게 적용되나요?**
    
    Azure RBAC는 Resource Manager를 통해 시작되는 모든 Azure 리소스 작업에 적용됩니다. Resource Manager는 클라우드 리소스 구성과 보호를 담당하는 관리 서비스입니다.
    
    일반적으로 Azure Portal, Cloud Shell, PowerShell, CLI에서 Resource Manager에 접근합니다. RBAC는 애플리케이션이나 데이터 수준 액세스는 제어하지 않으며, 이는 애플리케이션에서 처리해야 합니다.
    
    Azure RBAC는 허용 모델을 사용합니다. 역할 할당 시 해당 범위 내 작업 수행이 가능합니다. 리소스 그룹에 읽기와 쓰기 권한이 모두 부여되면 사용자는 두 권한을 모두 갖습니다.
    
- 제로 트러스트 모델 설명
    
    제로 트러스트는 최악의 상황을 가정하고 그에 맞춰 리소스를 보호하는 보안 모델입니다. 모든 요청을 신뢰하지 않고 외부 네트워크에서 온 것처럼 검증합니다.
    
    현대 조직은 복잡한 IT 환경에 적응하고, 모바일 인력을 지원하며, 모든 위치에서 자산을 보호할 수 있는 새로운 보안 접근법이 필요합니다.
    
    Microsoft는 다음 원칙에 기반한 제로 트러스트 모델을 권장합니다:
    
    - **명시적 확인** - 모든 데이터 요소를 활용해 항상 인증 및 권한 부여
    - **최소 권한** - JIT/JEA, 위험 기반 정책, 데이터 보호로 액세스 제한
    - **침해 가정** - 피해 범위 최소화, 권한 분리, 암호화 확인, 분석 활용
    
    ## **제로 트러스트에 적응하기**
    
    과거에는 회사 네트워크가 안전하다고 가정했습니다. 관리 컴퓨터만 연결 가능하고, VPN 접근이 엄격히 통제되며, 개인 기기는 제한되었습니다.
    
    제로 트러스트는 이 패러다임을 전환합니다. 네트워크 위치가 아닌 인증 상태에 따라 모든 사용자를 검증하고 접근 권한을 부여합니다.
    
    ![모든 사람을 인증하는 제로 트러스트와 네트워크 위치에 의존하는 클래식을 비교하는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/describe-azure-identity-access-security/media/zero-trust-cf9202be-d5c6882e.png)
    
- 심층 방어 설정
    
    심층 방어는 정보 보호와 무단 접근 방지를 위한 전략입니다.
    
    여러 메커니즘을 사용해 데이터 무단 접근 공격의 진행 속도를 늦춥니다.
    
    ## **심층 방어 계층**
    
    중앙의 데이터와 이를 보호하는 여러 계층으로 심층 방어를 시각화할 수 있습니다.
    
    ![심층 방어 계층을 보여 주는 다이어그램 가운데부터: 데이터, 애플리케이션, 컴퓨팅, 네트워크, 경계, ID 및 액세스, 물리적 보안](https://learn.microsoft.com/ko-kr/training/wwl-azure/describe-azure-identity-access-security/media/defense-depth-486afc12-71a03f12.png)
    
    각 레이어가 보호를 제공해 한 레이어가 침해되어도 후속 레이어가 추가 노출을 방지합니다. 이 방식은 단일 보호 계층 의존을 피하고, 공격 속도를 늦추며 보안 팀의 대응을 지원합니다.
    
    각 계층의 역할 개요:
    
    - 물리적 보안 계층: 데이터 센터 하드웨어 보호를 위한 첫 방어선
    - ID 및 액세스 계층: 인프라와 변경 제어 접근 관리
    - 경계 계층: DDoS 보호로 대규모 공격 필터링
    - 네트워크 계층: 리소스 간 통신 제한
    - 컴퓨팅 계층: VM 접근 보호
    - 애플리케이션 계층: 애플리케이션 보호, 보안 취약점 제거
    - 데이터 계층: 비즈니스/고객 데이터 접근 제어
    
    이 계층들은 애플리케이션의 보안 구성 결정에 지침을 제공합니다.
    
    Azure는 모든 심층 방어 수준에서 보안 툴과 기능을 제공합니다.
    
    ### **물리적 보안**
    
    건물 접근 보호와 데이터 센터 내 하드웨어 접근 제어가 첫 방어선입니다.
    
    자산에 대한 물리적 보호로 다른 레이어 보호와 도난 방지를 지원합니다. Microsoft는 클라우드 데이터 센터에 다양한 물리적 보안을 적용합니다.
    
    ### **ID 및 액세스**
    
    ID 보호, 최소 권한 부여, 로그인/변경 기록을 담당합니다.
    
    주요 작업:
    
    - 인프라 접근 및 제어 변경 통제
    - SSO 및 다단계 인증 사용
    - 이벤트/변경 감사
    
    ### **경계**
    
    네트워크 기반 공격으로부터 리소스를 보호하고 공격 감지 및 대응을 담당합니다.
    
    주요 작업:
    
    - DDoS 방지로 대규모 공격 필터링
    - 경계 방화벽으로 악의적 공격 식별/경고
    
    ### **네트워크**
    
    필요한 네트워크 연결만 허용하여 공격 확산 위험을 줄입니다.
    
    주요 작업:
    
    - 리소스 간 통신 제한
    - 기본 거부 정책 적용
    - 인바운드 인터넷 접근 금지, 아웃바운드 제한
    - 온-프레미스 네트워크 보안 연결 구현
    
    ### **컴퓨팅**
    
    맬웨어, 미패치 시스템, 불충분한 보호는 취약점을 유발합니다. 이 계층은 컴퓨팅 리소스 보호와 보안 문제 최소화에 중점을 둡니다.
    
    주요 작업:
    
    - VM 접근 보호
    - 엔드포인트 보호 구현, 시스템 패치 및 유지관리
    
    ### **애플리케이션**
    
    개발 수명주기에 보안을 통합하여 코드 취약점을 줄입니다.
    
    주요 작업:
    
    - 애플리케이션 보안 및 취약점 점검
    - 중요 비밀 안전 저장
    - 모든 개발에 보안 요구사항 포함
    
    ### **데이터**
    
    데이터 관리자는 보안 책임이 있으며, 규제 요구사항은 기밀성, 무결성, 가용성을 위한 제어를 요구합니다.
    
    공격자의 주요 대상:
    
    - 데이터베이스 데이터
    - VM 디스크 데이터
    - SaaS 애플리케이션(office 365 등) 데이터
    - 클라우드 스토리지 데이터
- Microsoft Defender for Cloud에 대해 설명
    
    클라우드용 Defender는 보안 태세 관리와 위협 방지를 위한 모니터링 도구로, 다양한 환경에서 보안 강화 지침과 알림을 제공합니다.
    
    리소스 강화, 보안 상태 추적, 사이버 공격 방어, 보안 관리 간소화 도구를 제공하며, Azure에 기본 통합되어 있습니다.
    
    ## **배포된 모든 곳에서 보호**
    
    Azure 네이티브 서비스로 배포 없이 Azure 서비스를 보호하지만, 온-프레미스나 다른 클라우드 환경에서는 추가 모니터링이 필요할 수 있습니다.
    
    필요시 Log Analytics 에이전트를 자동 배포해 보안 데이터를 수집합니다. Azure Arc를 통해 비 Azure 환경으로 확장되며, CSPM 기능은 에이전트 없이도 다중 클라우드로 확장됩니다.
    
    ### **Azure 네이티브 보호**
    
    Defender for Cloud로 다음 위협을 탐지할 수 있습니다:
    
    - Azure PaaS 서비스 - App Service, SQL, Storage 등 Azure 서비스 대상 위협 탐지. 하이브리드 및 다중 클라우드 환경인 경우 Microsoft Defender for Cloud Apps와 통합해 활동 로그 변칙 검색.
    - Azure 데이터 서비스 - Azure SQL 데이터 자동 분류, 취약성 평가 및 완화 권장사항 제공.
    - 네트워크 - 무차별 대입 공격 노출 제한. Just-In-Time VM 액세스로 불필요한 접근 방지, 권한 있는 사용자, 허용된 IP주소/범위에게만 제한된 시간 동안 포트 접근 허용.
    
    ### **하이브리드 리소스 방어**
    
    하이브리드 클라우드 환경에서 비 Azure 서버 보호. 환경별 맞춤형 위협 인텔리전스와 우선순위 경고 제공.
    
    온-프레미스 보호 확장은 Azure Arc 배포와 향상된 보안 기능 활성화로 가능합니다.
    
    ### **다른 클라우드에서 실행되는 리소스 방어**
    
    AWS, GCP 등 타 클라우드 리소스도 보호 가능합니다.
    
    예를 들어, AWS 계정 연결 시 다음 보호 기능 활성화 가능:
    
    - CSPM 기능 - AWS 리소스 평가, 보안 점수 반영, 표준 준수 여부 확인. 자산 인벤토리로 다중 클라우드 리소스 관리.
    - 컨테이너용 Defender - 컨테이너 위협 탐지 및 고급 방어를 Amazon EKS Linux 클러스터로 확장.
    - 서버용 Defender - 위협 탐지 및 고급 방어를 Windows 및 Linux EC2 인스턴스로 확장.
    
    ## **평가, 보안 및 방어**
    
    클라우드와 온-프레미스 환경에서 세 가지 주요 보안 요구사항 충족:
    
    - 지속적인 평가 – 보안 태세 파악, 취약성 식별 및 추적.
    - 보안 – Azure Security Benchmark로 리소스 및 서비스 강화.
    - 방어 - 위협 탐지 및 해결.
    
    ![액세스, 보안 및 방어를 강화하는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/describe-azure-identity-access-security/media/assess-secure-defend-46228306-c726aca3.png)
    
    ### **지속적인 평가**
    
    환경 지속 평가 가능. VM, 컨테이너 레지스트리, SQL 서버에 대한 취약성 평가 솔루션 포함.
    
    서버용 Defender는 엔드포인트용 Defender와 자동 네이티브 통합이 포함되어 있고 사용 설정 시 위협 및 취약성 관리 결과 제공.
    
    컴퓨팅, 데이터, 인프라 대상 취약성 검사 결과를 검토하고 대응 가능.
    
    ### **보안**
    
    클라우드 보안은 인증부터 제로 트러스트까지 필수 기본사항입니다. Defender for Cloud 정책은 Azure Policy 기반으로 구축되어 유연한 정책 솔루션 제공, 관리 그룹/구독/테넌트 전체 정책 설정 가능.
    
    클라우드용 Defender는 새 리소스 배포를 지속 모니터링하여 보안 모범 사례 준수 여부 평가, 미준수 시 우선순위 권장사항 제공으로 공격 표면 감소.
    
    권장사항은 Azure Security Benchmark 기반으로, 규정 준수 프레임워크에 따른 보안 모범 사례 지침 제공.
    
    보안 정책 설정과 함께 리소스 전체에 보안 구성 표준 적용 가능.
    
    각 권장사항의 중요도 파악을 위해 보안 제어로 그룹화하고 점수 부여. 보안 점수는 태세 상태를 시각화하고, 제어는 개선 작업 목록 제공.
    
    ![클라우드용 Microsoft Defender 보안 점수를 보여 주는 스크린샷.](https://learn.microsoft.com/ko-kr/training/wwl-azure/describe-azure-identity-access-security/media/defender-for-cloud-d47a71d8-d1cc9fa3.png)
    
    ### **방어**
    
    환경 평가/모니터링 외에도 보안 경고와 고급 위협 방지로 환경 방어 지원.
    
    ### **보안 경고**
    
    위협 탐지 시 보안 경고 생성:
    
    - 영향 받는 리소스 세부정보 제공
    - 수정 단계 제안
    - 일부 경우 논리 앱 트리거 옵션 제공
    
    경고는 내보내기 가능. 퓨전 킬체인 분석으로 경고 상관관계 자동 파악, 공격 캠페인 전체 파악 가능.
    
    ### **Advanced Threat Protection**
    
    VM, SQL DB, 컨테이너, 웹앱, 네트워크 등 다양한 리소스에 고급 위협 방지 제공. Just-In-Time 액세스와 적응형 애플리케이션 제어로 VM 관리 포트 보호.
    

### Microsoft 클라우드 채택 프레임워크 소개

- 전략
    
    [전략 방법론](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/)으로 클라우드 기술 채택 시 조직의 접근 방식을 설명하는 종합 계획을 수립할 수 있습니다. 이는 비즈니스 목표 달성에 도움이 되며, 다섯 단계로 구성됩니다.
    
    ![Diagram showing steps: assess strategy; define motivations, mission, and objectives; define team; prepare organization; and inform strategy.](https://learn.microsoft.com/ko-kr/training/modules/cloud-adoption-framework/media/strategy-overview.svg)
    
    ## **전략 평가**
    
    [기존 클라우드 채택 전략을 평가](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/cloud-adoption-strategy-evaluator)하여 현재 성숙도를 파악하고, 격차를 식별하며, 개선책을 마련하세요.
    
    [클라우드 채택 전략 평가자](https://learn.microsoft.com/en-us/assessments/8fefc6d5-97ac-42b3-8e97-d82701e55bab/) 도구로 현재 전략을 점검하세요.
    
    ![A screenshot that shows the Cloud Adoption Strategy Evaluator assessment.](https://learn.microsoft.com/ko-kr/training/modules/cloud-adoption-framework/media/cloud-adoption-strategy-evaluator-assessment.png)
    
    ## **동기, 사명 및 목표 결정하기**
    
    성공적인 클라우드 채택을 위해 [전환 동기](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/motivations)(비용 절감, 민첩성, 확장성, 혁신)를 파악하고 이에 맞춰 전략을 조정하세요. 중요 비즈니스 이벤트가 있다면 조기 마이그레이션을 고려하세요.
    
    [명확한 미션과 목표](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/mission-objectives)를 정의하고, [미션 스테이트먼트](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/mission-objectives#mission-statement)를 통해 조직의 비즈니스 미션과 목표를 연계하세요.
    
    미션 달성을 위한 구체적 단계(목표)와 성공 지표(KPI)를 정의하세요.
    
    각 결과에 책임자를 지정하고 KPI를 정기 검토하여 클라우드 채택 여정의 집중력을 유지하세요.
    
    ## **팀 정의하기**
    
    [클라우드 전략 팀](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/define-your-team)은 비즈니스와 채택 이니셔티브 간 조정을 담당합니다. 각 구성원에게 [핵심 기능](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/define-your-team#recommended-functions)(수석 설계자, 규정 준수팀 등)을 할당하세요.
    
    팀은 인사, 마케팅 등 타 부서에서 [지속적 의견 수렴](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/define-your-team#seek-input)이 필요합니다. IT, 금융, 보안 중심의 핵심팀으로 시작해 확장하고, 정기적 검토로 다양성을 유지하세요.
    
    ## **조직 준비하기**
    
    [조직 정렬](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/prepare-organizational-alignment)은 리더십이 전략을 지원하게 합니다. 주요 이해관계자와 협력하고 [리더십 지원](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/prepare-organizational-alignment#leadership-and-executive-buy-in)을 확보하세요.
    
    성공적 클라우드 채택은 비즈니스, 디지털, IT 전략 간 일치가 중요합니다. 기존 전략과의 연계성을 확인하고 목표 변화에 따라 조정하세요.
    
    [조직 역량](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/prepare-organizational-alignment#understand-your-operating-models-readiness-for-cloud)을 사람, 프로세스, 기술, 파트너 측면에서 평가하고 격차 해소 방안을 마련하세요.
    
    확장성과 속도를 위해 [프로젝트 모델](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/prepare-organizational-alignment#shift-from-a-project-model-to-product-model)에서 [제품 모델](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/prepare-organizational-alignment#shift-from-a-project-model-to-product-model)로 전환하여 지속적이고 결과 중심적 접근방식을 취하세요.
    
    ## **전략 정보 제공**
    
    앞 단계 완료 후 다음 요소를 고려해 [전략을 수립](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/strategy/inform)하세요:
    
    - **재무 효율성**: 비용 최소화하며 최대 투자가치 창출을 위한 전략적 결정
    - **AI**: 고급 분석과 자동화로 운영 최적화 및 비즈니스 성장 촉진
    - **복원력**: 중단 영향 최소화하는 탄력적 클라우드 인프라 설계
    - **보안**: 초기 보안 설계와 제로 트러스트 전략 채택
    - **지속 가능성**: 친환경 관행으로 조직 운영 및 평판 향상
- 계획
    
    클라우드 채택은 기술적 준비 이상의 포괄적 계획이 필요합니다. 클라우드 전략을 실행 가능한 단계로 변환하는 도입 계획이 필수적입니다.
    
    ## **클라우드를 위한 조직 준비**
    
    조직은 클라우드 리소스를 효과적으로 배포, 관리 및 최적화하기 위해 구조와 프로세스를 클라우드 도입 목표에 맞게 조정해야 합니다.
    
    1. **조직 유형별 클라우드 채택 여정 매핑.** 스타트업은 CAF 플랜, 레디, 클라우드 네이티브 개발로 솔루션 구축. 기업은 IT 자산 평가 후 전체 CAF 프로세스와 준비, 마이그레이션, 현대화 단계 수행.
    2. **조직 구조에 맞는 관리 모델 선택.** 소규모 조직은 정책 일관성을 위한 중앙 집중식 운영, 중견기업은 플랫폼팀이 랜딩존 관리와 워크로드팀 자율 운영의 공유 관리, 숙련팀 보유 조직은 완전한 소유권의 탈중앙화 운영 채택.
    3. **클라우드 책임 계획.** 거버넌스팀으로 위험 평가와 정책 정의, 모든 클라우드 단계에 보안 통합, 비즈니스 목표 연계 운영 프로세스 수립, AI 전략 개발과 팀 구성.
    4. **클라우드 책임 문서화.** 거버넌스, 보안, 운영 전반의 소유권 매핑, 파트너 역할 정의, 이해관계자 책임 전달, 환경 변화에 따른 정기 검토.
    
    ## **직원들의 클라우드 준비**
    
    팀은 클라우드 서비스 성공적 채택과 운영을 위한 특정 기술이 필요하며, 이는 구현 위험 감소와 가치 창출 시간 단축에 기여합니다.
    
    1. **필요 기술 평가.** 팀에는 거버넌스, 보안, ID, 네트워킹, 관리 기본 필요. 관리자는 RAMP 모델(준비, 관리, 모니터, 보호) 기술, 개발팀은 플랫폼 엔지니어링, 컨테이너화, 마이크로서비스, AI 역량 필요.
    2. **기술 격차 해소.** Microsoft 학습, 맞춤 교육, 자격증으로 팀 훈련. 워크숍, 아키텍처 검토, 실습을 위한 전문가 활용.
    3. **지속적 학습 유지.** Dev/Test 구독으로 샌드박스 구축, 주간 학습 시간 배정, 인식 시스템 구축, 커뮤니티 참여, 리소스 컬렉션 관리.
    
    스타트업은 [총 소유 비용 추정](https://learn.microsoft.com/ko-kr/training/modules/cloud-adoption-framework/3-plan#estimate-total-cost-of-ownership)으로 진행 가능. 기존 워크로드가 있으면 인벤토리 발견 필요.
    
    ## **워크로드 인벤토리 발견**
    
    클라우드 도입 전 현재 애플리케이션 포트폴리오 파악이 필수적이며, 이는 마이그레이션 계획과 비즈니스 사례 개발의 기반이 됩니다.
    
    1. **체계적 인벤토리 발견.** 워크로드 경계 정의와 Azure Migrate 활용 자동화 검색. 접근 불가 시스템은 수동 문서화.
    2. **워크로드 우선순위화.** 비즈니스 중요도, 클라우드 준비도, 종속성, 전략적 연계로 평가. 비즈니스 가치와 기술적 실현 가능성 균형의 우선순위 백로그 작성.
    3. **비즈니스 세부정보 수집.** 소유권, 기능, 중요도, 데이터 민감도, 규정준수, 운영 제약, 일정 문서화. 이 정보로 마이그레이션 전략 수립.
    
    ## **마이그레이션 전략 선택**
    
    마이그레이션 전략은 워크로드별 접근법, 일정, 자원을 결정하며 비즈니스 동인과 기술적 제약에 부합해야 합니다.
    
    1. **비즈니스 동인 식별.** 상위 비즈니스 목표 정의, 현재-목표 상태 격차 분석, 변화 시급성 창출 요인 파악.
    2. **전략 연계.** 동인별 전략: 중복 워크로드 은퇴, 중단 최소화 리호스트, PaaS 도입 리팩터, 코드 최적화 리팩터, 클라우드 네이티브 리아키텍트, SaaS 대체, 재개발 리빌드, 안정 워크로드 유지.
    3. **전략 검증.** 안정성, 호환성, 팀 역량, 일정, 기술 부채, 아키텍처 제한, 운영 요구사항으로 선택 전략 검증.
    4. **현대화 시기 결정.** 팀 기술, 가용 시간, 호환성, 자금 기회 기준으로 마이그레이션 중 현대화 평가.
    5. **이해관계자 소통.** 성공 지표 정의, 결정 문서화, 클라우드 전략팀 협력, 요구사항 변화 대응 검토 주기 수립.
    
    ## **워크로드 평가**
    
    워크로드 평가는 기술적 요구사항, 종속성, 위험을 식별하여 아키텍처 결정과 마이그레이션 계획에 정보를 제공합니다.
    
    1. **아키텍처 평가.** Azure Migrate로 검색 자동화, 전문가 검증, 아키텍처 다이어그램과 구성요소 문서화.
    2. **코드 평가.** AppCAT 등 자동화 도구 활용, 프레임워크/SDK 호환성 검증, 강력한 정당성 없는 불필요 변경 회피.
    3. **데이터베이스 평가.** 엔진 유형/버전 식별, 종속성 매핑, 공유 인스턴스 vs 워크로드별 분할 결정.
    4. **위험 관리.** 기술/운영/조직적 위험 문서화, 완화 전략 정의, 해결 일정 수립.
    
    ## **총 소유 비용 추정**
    
    비용 추정은 클라우드 채택 결정과 예산 계획의 재정적 기반을 제공하여 정보에 기반한 투자 결정과 지속적 비용 최적화를 가능하게 합니다.
    
    1. **아키텍처 계획.** 제약조건과 규정준수 요구사항 문서화로 비즈니스/기술 요구사항 연계. 필요 서비스, 지역, 구성 식별하여 랜딩존과 워크로드 아키텍처 계획.
    2. **비용 추정.** Azure 가격 계산기로 사용량 기반 비용 모델링, 교육/프로세스 변경 포함 운영비용 추정, 고비용 요소 식별, 예산 초과시 조정, 테스트 배포로 가정 검증.
    
    자세한 지침은 [클라우드 채택 계획](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/plan/prepare-organization-for-cloud)을 참조하세요.
    
- 준비
    
    클라우드 채택 프레임워크의 [준비 방법론](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/)으로 다음을 안내합니다:
    
    - Azure 환경 설정
    - 클라우드 운영 모델 정의
    - 랜딩 존 구현
    - 운영 측면 고려
    - 필요 기술 개발
    
    이 요소들로 클라우드 도입 기반을 마련하세요. [Azure 설정 가이드](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/azure-setup-guide/)는 리소스 관리, 비용 제어, 환경 보호를 위한 단계별 지침을 제공합니다.
    
    ## **클라우드 운영 모델 정의**
    
    [클라우드 운영 모델](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/operating-model)은 클라우드 기술 운영 방식을 정의합니다. 주요 구성요소: 비즈니스 전략 정렬, 인력 구성, 변경 관리, 운영 관리, 거버넌스 및 규정 준수, 보안.
    
    이 모델은 하드웨어에서 디지털 자산으로 초점을 전환하며 일관된 운영을 보장합니다. 모델 선택 시 [일반 운영 모델을 비교](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/operating-model/compare)하세요.
    
    ## **착륙 구역 구현**
    
    [랜딩 존](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/landing-zone/)은 확장 가능한 모듈식 환경으로 클라우드 관리를 지원하고 보안, 거버넌스, 자원 관리 기반을 제공합니다. 구현은 조직 필요, 맞춤 설정, 기술 사용 방식에 따라 달라지며 Azure 포털, Bicep, Terraform 등 도구로 배포 가능합니다.
    
    구현 후 확장에 따라 운영을 최적화하면 다음과 같은 이점이 있습니다:
    
    - 불필요한 비용 제거
    - 애플리케이션 성능 향상
    - 보안 취약점 완화
    - 새로운 수요 대응 확장성 확보
    - 업계 표준 및 규정 준수 유지
    - 신뢰성과 탄력성 확보
    
    ## **필요한 기술 개발**
    
    클라우드 도입에는 팀의 기술력과 조직적 역할이 필요합니다. Microsoft는 [학습 경로](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/suggested-skills#environmental-technical-readiness-learning-paths)를 제공하며, [팀을 클라우드 채택 기능에 맞게 조정](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/suggested-skills#organizational-readiness-learning-paths)해야 합니다.
    
    ## **안티패턴 방지**
    
    준비 단계의 [흔한 반패턴](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/antipatterns/ready-antipatterns)은 클라우드 도입을 방해합니다:
    
    - 불충분한 준비
    - 클라우드 서비스 기능 오해
    - 클라우드 제공자 운영 지식 부족
    
    이러한 함정을 피해 성공적인 클라우드 채택을 보장하세요.
    
- 마이그레이션
    
    마이그레이션은 온프레미스 또는 타 클라우드에서 Azure로 워크로드를 옮기는 계획, 실행, 최적화 과정입니다. 이를 통해 조직은 위험 최소화, 비용 절감 및 성공적인 클라우드 도입을 달성할 수 있습니다.
    
    ## **계획 마이그레이션**
    
    1. **준비 상태와 기술 평가:** 팀의 Azure 기능을 평가하고 필요시 전문가를 참여시켜 격차 해소
    2. **데이터 경로 선택:** 고대역폭(ExpressRoute), 암호화(VPN GW), 오프라인(Data Box), 비민감 데이터(공용 인터넷)
    3. **마이그레이션 순서 결정:** 종속성 매핑, 중요도 기반 우선순위, 피크 기간 회피 일정 수립
    4. **마이그레이션 방법 선택:** 미션 크리티컬(제로 다운타임), 일반(계획된 다운타임)
    5. **롤백 계획 수립:** 자동 복구 스크립트, 롤백 기간 설정, 비운영 환경 테스트
    6. **이해관계자 참여:** 접근법 문서화, 롤백 절차 제시, 일정 검증, 성공 기준 수립
    
    ## **클라우드를 위한 워크로드 준비**
    
    1. **호환성 문제 해결:** 테스트 환경 배포, 문제 식별, 하드코딩 구성 대체, 로컬 종속성 제거
    2. **기능 검증:** 연결 테스트, 인증 확인, 기능/성능 테스트, 결과 검증
    3. **재사용 인프라 구축:** ARM/Bicep 템플릿 개발, 자동화 스크립트 생성, 버전 제어 수립
    4. **배포 문서 작성:** 절차, 구성 요구사항, 운영 지침, 문제해결 가이드
    
    ## **마이그레이션 실행**
    
    1. **이해관계자 준비:** 일정 배포, 기술 지원 확인, 준비 상태 검토
    2. **변경 동결 시행:** 동결 기간 전달, 변경 제어 절차 구현, 변경사항 모니터링
    3. **생산 환경 완성:** 템플릿 배포, 보안 정책 적용, 서비스 및 연결 확인
    4. **컷오버 실행:** 제로 다운타임(복제, 파일 이전, 동기화, 리디렉션) 또는 계획된 다운타임(중지, 마이그레이션, 테스트, 리디렉션)
    5. **폴백 옵션 유지:** 소스 인프라/연결 유지, 절차 문서화, 모니터링 설정
    6. **성공 검증:** 성능 테스트, 기능/데이터 검증, 이해관계자 승인
    7. **안정화 지원:** 전담팀 구성, 구성 업데이트, 모니터링 유지, 교훈 문서화
    
    ## **마이그레이션 후 최적화**
    
    1. **구성 미세조정:** Advisor 권장사항 적용, 서비스별 지침 구현, 보안 개선, 모니터링 구성
    2. **중요 구성 검증:** 원격 측정 포착, 비용 추적, 백업 테스트, 보안 검증
    3. **피드백 수집/실행:** 사용자 의견 수집, 문제 문서화, 소유권 할당, 개선사항 전달
    4. **정기 검토 일정:** 분기별 검토, 비용 최적화, 성과 평가, 작업 문서화
    5. **하이브리드/멀티클라우드 최적화:** 연결 모니터링, 통신 보안, 서비스 대체 기회 식별, 마이그레이션 계획
    6. **결과 공유:** 비용 절감 추적, 성능 개선 측정, 운영 이점 문서화, 결과 발표
    
    ## **폐기 소스 워크로드**
    
    1. **이해관계자 승인:** 서면 승인 요청, 일정 첨부, 결정 기록, 감사 경로 설정
    2. **라이선스 회수/최적화:** 하이브리드 혜택 식별, 인벤토리 업데이트, 재할당, 변경사항 문서화
    3. **데이터 보존:** 요구사항 식별, Blob Storage 구현, 검색 절차 생성, 라이프사이클 관리
    4. **문서/절차 업데이트:** 다이어그램 수정, 운영 절차 개정, 모니터링 조정, 문서 보관
    
    자세한 클라우드 채택 프레임워크 안내는 [Azure로 워크로드 마이그레이션](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/migrate/plan-migration)을 참조하세요.
    
- 현대화
    
    클라우드 현대화는 비즈니스 요구를 더 잘 충족시키기 위해 기존 클라우드 기반 워크로드를 개선하는 관행입니다. 새로운 기능을 추가하지 않고도 클라우드 모범 사례에 맞춰 워크로드를 조정할 수 있습니다.
    
    ## **클라우드 현대화를 위한 조직 준비**
    
    1. **조직의 현대화를 정의합니다.** 클라우드 내에서 새로운 기능이나 완전한 재작성을 제외하고, 재플랫폼화, 리팩토링 및 재설계를 통해 기존 워크로드를 개선하는 데 중점을 둔 공통 정의를 수립합니다. 이 정의를 모든 팀과 이해관계자에게 전달하여 불일치를 방지합니다. 개발, 운영, 보안 및 아키텍처 팀 간의 명확한 역할과 팀 간 조정을 통해 공동 책임을 창출합니다.
    2. **현대화 준비 상태와 기술을 평가합니다.** 클라우드 서비스 지식, DevOps/CI/CD 성숙도, 최신 아키텍처 패턴, 모니터링/자동화 도구에 대한 팀의 역량을 평가합니다. 기술 격차를 파악하고 Microsoft 또는 파트너의 교육, 자격증, 신규 채용 또는 외부 전문 지식을 통해 이를 해결할 계획을 수립하여 원활한 현대화 실행을 보장합니다.
    3. **어떤 워크로드를 현대화할지 우선순위를 정합니다.** 워크로드의 매출 중요도, 고객 경험, 규정 준수 여부 및 내부 의존성을 기준으로 평가하여 비즈니스 가치를 평가합니다. 기술 부채, 구식 기술, 유지보수 노력, 성능 문제 및 확장성 제한을 검토하여 기술적 위험을 평가합니다. 이러한 평가를 우선순위 매트릭스로 결합하여 먼저 현대화할 워크로드를 결정합니다.
    4. **현대화하는 방법을 이해합니다.** Azure Well-Architected Framework를 사용하여 신뢰성, 보안, 비용 최적화, 운영 우수성, 성능 효율성 등 다섯 가지 요소에 걸쳐 격차를 식별하고 현대화 로드맵을 생성하는 리뷰를 수행합니다. 워크로드 팀이 정의된 경계 내에서 비즈니스 컨텍스트와 의사 결정 권한을 제공하면서 조직 조정을 위한 정기 체크인을 유지함으로써 현대화 결정을 내릴 수 있도록 합니다.
    
    ## **클라우드 현대화 계획 수립**
    
    1. **현대화 전략을 선택합니다.** 특정 요구 사항에 따라 세 가지 주요 접근 방식 중에서 선택하세요: 최소한의 코드 변경(IaaS에서 PaaS로)으로 빠른 승리를 위한 리플랫폼, 기능을 유지하면서 개선된 구조와 클라우드 최적화를 위해 기존 코드를 수정하는 리팩터, 또는 마이크로서비스 및 서버리스와 같은 클라우드 native 패턴을 사용하여 애플리케이션 아키텍처를 재설계하도록 재구성할 수 있습니다. 목표, 일정, 자원을 고려하여 각 구성 요소의 요구 사항에 전략을 맞추세요. 모든 결정을 비즈니스 가치에 기반하여 과도한 현대화를 피하세요.
    2. **단계적으로 현대화를 계획합니다.** 복잡한 워크로드를 논리적 단계로 세분화하여 점진적인 가치를 제공하고 관리 가능한 청크를 처리하여 위험을 줄입니다. 작업을 구성 요소/계층, 우선순위/복잡도 또는 비즈니스 기능별로 나누며, 초기 승리를 위해 저위험, 고부가가치 변경부터 시작합니다. 값과 종속성에 따라 남은 단계를 순서대로 나열합니다. 기술 목표와 품질 게이트를 포함한 각 단계별 명확한 성공 기준을 정의하고, 완료된 단계에서 얻은 결과와 교훈을 바탕으로 계획을 조정합니다.
    3. **현대화 거버넌스 계획.** 기존 변경 자문 위원회와 통합된 공식 변경 승인 워크플로우를 수립하거나 전용 현대화 검토 위원회를 만듭니다. 환경을 안정화하기 위해 주요 배포 전후에 변경 동결을 구현합니다. 제안된 변경 사항에 대한 평가와 승인을 요구하면서 지연된 좋은 아이디어의 백로그를 유지하여 범위 크리프를 제어합니다.
    4. **배포 전략을 정의합니다.** 유지보수 기간 동안 구현할 수 있는 저위험, 가역적인 변경 사항을 위한 현장 배포 또는 기존 워크로드와 함께 새로운 환경을 실행하여 최소한의 다운타임을 요구하는 복잡하고 고위험 변경 사항을 위한 병렬 배포 중 하나를 선택할 수 있습니다. 가능하면 카나리아 릴리스와 같은 점진적인 배포 기법을 사용하세요. 사용자 비율이 적고 모니터링 결과에 따라 점진적으로 증가합니다.
    5. **현대화 위험을 완화하기 위한 계획.** 단계별 지침, 책임 있는 당사자, 그리고 기간을 통해 모든 주요 변경 사항에 대한 상세한 롤백 절차를 만드세요. 가능한 경우 인프라스트럭처 코드 도구와 블루그린 배포를 사용하여 롤백을 자동화합니다. 모니터링을 위해 하이퍼케어 기간이 연장된 배포 중과 배포 후 지원 팀이 대기하도록 합니다.
    6. **이해관계자의 승인을 확보합니다.** 다양한 잠재 고객(기술 팀의 운영 효율성, 리더의 비즈니스 성과)에 맞는 가치 제안을 맞춤화하고 명확한 이정표와 일정을 포함한 체계적인 계획을 문서화합니다. 20-40% 비용 절감 및 50-80% 생산성 향상과 같은 특정 지표를 사용하여 현대화 가치를 정량화합니다. 프로젝트 리스크를 완화 전략으로 투명하게 해결하고 진행 상황을 보고하고 피드백을 수집하기 위해 정기적인 커뮤니케이션을 유지합니다.
    
    ## **클라우드에서 현대화 실행**
    
    1. **이해관계자를 현대화할 준비를 하세요.** 변경 동결 시작 및 실시간 실행 창과 같은 주요 날짜를 포함하여 모든 영향을 받는 당사자에게 배포 일정을 미리 공지합니다. 소스 및 종속 워크로드에서 시작 시간과 종료 시간이 명확하게 정의된 변경 동결을 구현합니다. 최종 사용자 행동과 새로운 접근 URL 및 인증 요구 사항을 포함한 배포 후 변경 사항을 전달합니다. 연장된 근무 시간과 에스컬레이션 절차를 통해 배포를 위한 지원 인력을 조정합니다. 수동 해결책과 비상 계획을 통해 중요한 워크로드에 대한 폴백 절차를 정의합니다.
    2. **비생산적인 환경에서 현대화를 발전시키세요.** Azure Advisor 권장 사항과 아키텍처 검토 프로세스를 사용하여 설계 결정을 검증하는 동안 잘 설계된 프레임워크 원칙을 따르세요. 동일한 Azure 서비스를 사용하여 소규모 또는 저성능 계층에서 생산을 미러링하는 비생산 환경을 조성합니다. 소스 제어와 CI/CD를 사용하여 모든 코드 변경 사항과 인프라를 지속적으로 통합하여 코드 스크립트로 점진적으로 변경 사항을 구현합니다.
    3. **테스트를 통해 현대화 변경 사항을 검증합니다.** CI 파이프라인과 회귀 테스트를 사용하여 모든 수정된 구성 요소에 대해 단위 및 통합 테스트를 실행하여 기존 기능을 중단하지 않도록 합니다. 실제 사용자 워크플로우를 시뮬레이션하는 수동 QA 또는 자동 UI 테스트를 통해 종단 간 기능 테스트를 수행합니다. 이해관계자와 함께 사용자 수용 테스트를 수행하여 사용성 및 기능에 대한 피드백을 포착합니다. 150% 예상 부하에서 Azure 부하 테스트와 같은 부하 테스트 도구를 사용하여 성능을 검증합니다. 취약점 스캔 및 Microsoft Defender for Cloud를 사용하여 보안 검증 및 규정 준수 검사를 수행합니다. 프로덕션 배포 전에 모든 중요한 문제를 해결합니다.
    4. **재사용 가능한 인프라를 구축합니다.** 인프라를 향후 배포 및 환경에 사용할 수 있는 코드 템플릿으로 구축하여 다양한 배포 시나리오에서 일관성을 보장하고 수동 구성 오류를 줄입니다.
    5. **배포 문서를 작성합니다.** 모든 배포 절차, 롤백 단계 및 검증 프로세스를 문서화하여 일관된 실행을 보장하고 팀원들이 안전하고 안정적으로 배포를 수행할 수 있도록 합니다.
    6. **현대화를 도입합니다.** 현장 배포의 경우, 유지보수 기간을 예약하고 CI/CD 파이프라인을 사용하여 일관된 배포를 수행하며, Azure App 서비스 슬롯이나 컨테이너 앱 트래픽 분할을 사용하여 카나리아 배포를 통해 점진적인 트래픽 라우팅을 구현합니다. 메트릭을 모니터링하면서 점진적으로 트래픽을 전체로 늘리고 배포하는 동안 데이터 일관성을 유지합니다. 병렬 배포의 경우, IaC 템플릿을 사용하여 병렬 프로덕션 환경을 만들고, 지속적인 데이터 동기화를 통해 데이터베이스 복제를 설정하고, Azure 마이그레이션 도구를 사용하여 비정형 데이터와 파일을 복사하고, 데이터 손실 없이 최종 데이터 동기화를 완료합니다, 가중 라우팅을 사용하여 사용자 트래픽을 점진적으로 줄여나가며 1%부터 시작하여 점진적으로 증가합니다. DNS 컷오버 또는 로드 밸런서 구성을 통해 최종 스위치를 100%로 수행합니다. 컷오버 후 기능을 즉시 확인하고 기존 환경을 24-72시간 동안 핫 스탠바이 상태로 유지합니다.
    7. **현대화 성공을 검증합니다.** 초기 마이그레이션 후 기간 동안 액세스 패턴, 성능 지표 및 오류율을 모니터링하여 성공적인 사용자 액세스 및 워크로드 성능을 확인합니다. 워크로드 소유자, 테스터 및 비즈니스 이해관계자로부터 모든 요구 사항이 충족되었는지 철저한 검증과 확인을 거친 후에만 마이그레이션 성공을 발표합니다.
    8. **안정화 중에 작업 부하를 지원합니다.** 안정화 기간 동안 숙련된 IT 직원이 처음 며칠 또는 몇 주 동안 정상 운영보다 짧은 SLA를 제공하여 지원 범위를 강화합니다. 운영 문서 및 도구(런북, 지원 문서, 모니터링 구성 포함)를 업데이트합니다. 운영 팀에게 새로운 절차를 교육하고 자산 재고가 기존 구성 요소를 제거하면서 새로운 인프라를 반영하는지 확인합니다.
    
    ## **클라우드 현대화 후 워크로드 최적화**
    
    1. **클라우드를 위한 구성 최적화.** Azure Advisor 권장 사항을 체계적으로 적용하려면 매주 검토하고 워크로드 또는 리소스 그룹별로 필터링하여 중요한 변경 사항을 먼저 구현해야 합니다. Azure Well-Architected Framework 서비스 가이드를 사용하여 서비스별 설정을 조정하여 모범 사례에 맞게 구성을 조정하세요. Microsoft Defender for Cloud를 사용하여 보안 구성 격차를 즉시 해결하여 중요한 문제와 심각도가 높은 문제를 48시간 이내에 해결하는 동시에 지속적인 평가를 구성할 수 있습니다.
    2. **운영 준비 상태를 확인합니다.** Azure Monitor가 새 구성 요소에 대한 모든 필요한 로그, 메트릭 및 추적을 수집하도록 하여 모니터링 범위와 정확성을 검증합니다. 혼돈 테스트를 통해 경고 규칙을 테스트하고 새로운 아키텍처를 반영하여 대시보드를 업데이트합니다. Microsoft Cost Management를 사용하여 비용 모니터링 및 통제를 설정하고 지출 패턴을 추적하며 예산 경고 및 지출 한도를 설정하고 매주 리소스 활용도를 검토하여 기회를 조정합니다. Azure 백업 또는 데이터베이스 시점 복원을 사용하여 테스트 복원을 수행하여 백업 및 복구 절차를 테스트합니다. 달성된 RTO 및 RPO 지표를 문서화하고 모든 중요한 데이터가 백업 정책에 포함되도록 합니다.
    3. **사용자 피드백을 수집하고 결과를 측정합니다.** 설문조사, 피드백 양식, 지원 티켓 분석을 통해 체계적인 사용자 피드백을 정기적으로 수집합니다. 내부 팀을 대상으로 회고 회의를 진행합니다. Azure DevOps 또는 GitHub 이슈에 있는 이슈를 문서화하고, 심각도와 비즈니스 가치에 따라 분류하며, 해결 일정을 통해 소유권을 할당하고, 매월 진행 상황을 전달함으로써 피드백을 체계적으로 추적하고 해결합니다. 성공 지표와 ROI 예측을 종합하여 실제 결과와 목표를 비교 측정합니다. 이해관계자에게 결과를 전달하여 실현된 가치를 입증하거나 부족한 부분을 식별합니다.
    4. **지속적인 현대화 관행을 확립합니다.** 클라우드 서비스가 발전하고 사용 패턴이 변화함에 따라 새로운 최적화 기회를 식별하기 위해 Well-Architected 리뷰 또는 상태 점검을 사용하여 몇 달마다 정기적인 워크로드 리뷰를 예약합니다. Azure Policy를 사용하여 가능한 한 최적화를 자동화하여 모범 사례를 적용하고, 성능 조정을 위한 자동 스케일링 규칙을 구현하며, 비용 관리를 통해 비용 이상 경고를 설정합니다. 성공적인 최적화 패턴을 문서화하고, 공통 시나리오를 위한 플레이북을 만들고, 배운 교훈의 지식 기반을 유지하며, 조직 클라우드 채택 관행에 대한 인사이트를 제공하여 결과와 모범 사례를 공유합니다.
    
    자세한 클라우드 채택 프레임워크 지침은 [클라우드에서 워크로드 현대화](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/modernize/prepare-organization-cloud-modernization)를 참조하세요.
    
- 클라우드 네이티브
    
    클라우드 네이티브 솔루션은 확장성, 복원력, 민첩성을 위한 클라우드 기능으로 비즈니스 가치를 창출합니다. 이 지침은 비즈니스 목표에 부합하며 위험을 최소화하는 클라우드 네이티브 개발 프로젝트의 체계적 접근법을 제공합니다.
    
    ## **Azure에서 클라우드 네이티브 솔루션 계획하기**
    
    1. **비즈니스 목표 정의:** 측정 가능한 목표로 시작해 제약조건과 성공 기준을 식별하고 이해관계자 정렬을 검증합니다.
    2. **요구사항 정의:** 기능적 요구사항 문서화, 비기능적 요구사항 설정, 초기 릴리스 범위 명확화.
    3. **아키텍처 계획:** 참조 아키텍처 탐색, 적절한 아키텍처 선택, 모범 사례 적용, Well-Architected Framework 통합, 시스템 통합 계획, 서비스 선택, 지역 배포 전략 결정, 아키텍처 문서화.
    4. **배포 전략 계획:** DevOps 관행 수립, 운영 준비 계획, 개발 관행 정의, 점진적 노출 구현, 변경 관리 프로세스 사용하여 기능 통합 계획, 배포 후 소유권 및 지원 책임 정의.
    5. **롤백 계획 정의:** 배포 문제 복구 및 비즈니스 연속성 보장을 위한 포괄적 롤백 절차 수립.
    
    ## **클라우드 네이티브 솔루션 구축**
    
    1. **솔루션 개발:** Well-Architected 원칙 적용, 비생산 환경 구축, CI/CD 구현, 모니터링 도구 통합, 종합 테스트 수행.
    2. **재사용 인프라 구축:** 표준화된 인프라 패턴으로 배포 시간 단축 및 구성 일관성 확보.
    3. **배포 문서화:** 프로세스, 구성, 운영 절차 문서화로 신뢰성 있는 배포와 효과적인 지식 전달.
    
    ## **클라우드 네이티브 솔루션 배포**
    
    1. **이해관계자 준비:** 배포 일정과 영향 공지, 지원팀 알림, 명확한 기대치 설정, 사전 준비 검토.
    2. **배포 실행:** 검증된 CI/CD 파이프라인 사용, 연기 테스트 수행, 점진적 롤아웃 구현.
    3. **성공 확인:** 사용자 여정 검증, 백그라운드 프로세스 확인, 시스템 상태 검토, 이해관계자 체크인.
    4. **안정화 지원:** 강화된 모니터링 구축, 지표 추적, 구성 조정, 표준 운영 전환 기준 정의.
    
    ## **배포 후 클라우드 네이티브 솔루션 최적화**
    
    1. **구성 미세 조정:** Azure Advisor 권장사항 적용, 모범 사례 조정, 보안 결과 해결.
    2. **운영 준비 확인:** 포괄적 로깅 활성화, 경고 기능 테스트, 대시보드 검토, 모니터링 문서화.
    3. **비용 최적화:** 자동화된 비용 알림 및 예산 설정, 모니터링,거버넌스요금,사용량,구성요소전반에 걸친 최적화 전략 적용, 미사용 자원 식별, 비생산 환경 일정 관리.
    4. **백업/복구 테스트:** 백업 커버리지 확인, 복원 테스트, 복구 절차 문서화, 재난 복구 훈련 실시.
    5. **피드백 수집 및 측정:** 피드백 채널 구축, 이슈 추적, 우선순위 지정, 해결책 전달.
    6. **지속적 개선:** 정기적 아키텍처 평가, 자동 최적화 구현, 교훈 및 모범 사례 공유.
    
    자세한 클라우드 채택 프레임워크 지침은 [클라우드 네이티브 솔루션 구축](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/cloud-native/plan-cloud-native-solutions)을 참조하십시오.
    
- 거버넌스
    
    [정부 방법론](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/govern/)은 Azure에서 환경을 일관되게 제어하고 위험을 해결하기 위한 구조화된 5단계 접근법입니다.
    
    ![Diagram that shows the steps of the Govern methodology.](https://learn.microsoft.com/ko-kr/training/modules/cloud-adoption-framework/media/govern.svg)
    
    ## **팀 만들기**
    
    [작고 다양한 팀](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/govern/build-cloud-governance-team)을 구성하여 신속한 의사결정을 촉진하세요. 팀의 [기능](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/govern/build-cloud-governance-team#define-the-functions-of-the-cloud-governance-team), [권한](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/govern/build-cloud-governance-team#define-the-authority-of-the-cloud-governance-team), [범위](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/govern/build-cloud-governance-team#define-the-scope-of-the-cloud-governance-team)를 명확히 하고 보안 정책 시행을 위한 조직적 지원을 확보하세요.
    
    ## **클라우드 리스크 평가**
    
    정책 수립 전 [클라우드 리스크를 평가](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/govern/assess-cloud-risks)하세요:
    
    - **위험을 식별**하고 목록화**합니다.** Azure 도구로 클라우드 자산과 위험을 발견하세요.
    - **위험을 분석**하고 값을 할당해 우선순위를 정합니다.
    - 다운타임이나 비용 같은 **위험 영향을 파악합니다.**
    - **위험을 문서화**하고 관련 당사자에게 알립니다.
    - 위험을 정기적으로 **검토**하여 정확성을 확인합니다.
    
    ## **문서 정책**
    
    비즈니스 위험 식별 후 완화를 위한 [정책을 문서화](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/govern/document-cloud-governance-policies)하세요.
    
    거버넌스 정책은 IT 직원과 시스템이 따라야 할 요구사항과 표준을 설정합니다. 특정 위험을 해결하는 정책 성명서를 작성하고, 클라우드 서비스 규제 규칙을 중앙 저장소에 관리하여 관련자들에게 공유하세요.
    
    ## **정책 시행**
    
    [거버넌스 강화](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/govern/enforce-cloud-governance-policies)를 위해 제어 및 절차를 통합하세요. 소규모 정책부터 자동화를 시작하고 점진적으로 확장하세요. 원활한 시행을 위해:
    
    - 거버넌스 책임을 위임합니다.
    - 정책에 상속 모델을 적용합니다.
    - 리소스에 태그 지정과 명명 규칙을 사용합니다.
    - 모니터 우선 접근법을 구현합니다.
    
    ## **클라우드 거버넌스 모니터링**
    
    정책 수립과 조직 프로세스 조정 후 [거버넌스를 모니터링](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/govern/monitor-cloud-governance)하여 규정 준수 부족 영역을 파악하고 개선하세요.
    
    거버넌스 정책 일탈에 대한 알림을 구성하고 명확한 임계값을 정의하세요. 위반사항을 신속히 해결할 개선 계획을 수립하고, 재발 방지를 위해 정책과 집행 메커니즘을 지속적으로 업데이트하세요.
    
- 관리
    
    클라우드 관리는 Azure 자산의 효과적인 운영을 구축합니다. 성공적인 운영에는 모든 영역에서의 명확한 책임과 프로세스가 필수적입니다.
    
    ## **Azure 클라우드 운영 준비**
    
    1. **관리 책임 식별.** 규정 준수, 보안, 자원 관리부터 모니터링까지 포괄합니다. 중앙 책임과 워크로드별 책임을 구분합니다.
    2. **운영 팀 구성.** 중앙 집중식 또는 공유 관리를 선택하고, 플랫폼 전담팀과 워크로드팀을 구성하여 책임 영역별 소유자를 지정합니다.
    3. **운영 절차 문서화.** 표준화된 절차를 만들고 단계별 가이드를 중앙 저장소에 보관합니다.
    4. **일일 운영 관리.** 24/7 지원체계를 구축하고 반복 작업을 자동화하여 효율성을 높입니다.
    5. **지속적 개선.** 주간 검토와 교육을 통해 기술 발전과 리소스 최적화를 추구합니다.
    
    ## **Azure 클라우드 자산 관리**
    
    1. **관리 범위 정의.** 배포 모델별 책임을 결정하고 통제 가능한 영역에 집중합니다.
    2. **변경 제어.** 티켓팅과 승인 워크플로우로 변경을 관리하고 무단 변경을 방지합니다.
    3. **환경 보호.** Entra ID와 RBAC로 최소 권한을 적용하고 인증을 강화합니다.
    4. **규정 준수 유지.** 국제 표준에 맞는 Azure 정책으로 거버넌스를 운영에 매핑합니다.
    5. **데이터 관리.** 분류, 위치 제어, 워크로드 분리로 데이터를 보호합니다.
    6. **비용 관리.** 중앙 및 워크로드별 지출을 모니터링하고 최적화합니다.
    7. **코드 및 런타임 관리.** 팀이 Well-Architected Framework의 운영 우수성 체크리스트를 따르도록 합니다.
    8. **리소스 관리.** IaC와 CI/CD를 구현하고 구성 드리프트를 제어합니다.
    9. **재배치 관리.** 드라이버와 위험을 평가하고 비용을 계산하여 필요시 재배치합니다.
    10. **OS 유지관리.** 자동화된 업데이트와 모니터링으로 VM을 관리합니다.
    
    ## **Azure 클라우드 자산 모니터링**
    
    1. **모니터링 범위 정의.** 모델별 책임을 결정하고 핵심 영역에 집중합니다.
    2. **모니터링 전략 계획.** 관리 접근법을 선택하고 리소스 인벤토리와 경고를 설정합니다.
    3. **모니터링 솔루션 설계.** Azure Monitor를 중심으로 다중 환경 데이터를 수집하고 최적화합니다.
    4. **종합 모니터링 구성.** 서비스 상태, 보안, 규정 준수, 비용, 애플리케이션 성능을 모니터링합니다.
    5. **알림 설정.** 임계값과 심각도를 정의하고 적절한 채널로 알림을 라우팅합니다.
    6. **시각화 구축.** 워크북과 대시보드로 팀별 맞춤형 뷰를 제공합니다.
    
    ## **클라우드 자산 보호**
    
    1. **신뢰성 보장.** 우선순위에 따른 중복 및 복구 전략을 구현합니다.
    2. **데이터 보호.** RTO/RPO 요구사항에 맞는 복제 및 백업을 구성합니다.
    3. **탄력적 애플리케이션 구축.** 자가 치유 기능으로 장애에 대응합니다.
    4. **중복 인프라 구축.** 가용 영역/지역 활용과 로드 밸런싱을 구현합니다.
    5. **비즈니스 연속성 계획.** 테스트된 복구 절차와 신속한 대응 체계를 마련합니다.
    6. **보안 운영.** 표준화된 환경과 접근 제어로 보안을 강화합니다.
    7. **보안 사고 처리.** 대응 계획을 개발하고 모니터링하여 신속히 대응합니다.
    
    자세한 안내는 [Azure 자산 관리](https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/manage/ready)를 참조하세요.
    
- 보안
    
    [보안 방법론](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/secure/overview)으로 보안 상태를 강화할 수 있습니다. 이 지침은 클라우드 채택 프레임워크의 필수 요소로, 제로 트러스트 원칙(손상 가정, 최소 권한, 명시적 신뢰 검증)을 따릅니다.
    
    ## **보안 지침 활용**
    
    이 보안 지침은 팀이 보안 책임을 이해하고 수행할 수 있게 설계된 Microsoft 보안 지침의 일부입니다. 주요 지침:
    
    - [클라우드 채택 프레임워크](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/secure/overview): Azure 인프라 관리 팀을 위한 보안 지침
    - [Well-Architected Framework](https://learn.microsoft.com/ko-kr/azure/well-architected/security/): 애플리케이션 개발 및 DevOps/DevSecOps에 보안 모범 사례 적용
    - [클라우드 보안 벤치마크](https://learn.microsoft.com/ko-kr/security/benchmark/azure/): Azure 서비스 최적 구성 지침
    - [제로 트러스트 지침](https://learn.microsoft.com/ko-kr/security/zero-trust/): 제로 트러스트 현대화 이니셔티브 구현 방법
    
    클라우드 채택 과정에서 [현대화](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/secure/overview#security-posture-modernization)와 [인시던트 준비](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/secure/overview#incident-preparation-and-response)를 통해 보안을 강화하세요. 효과적인 준비와 운영으로 위협 탐지를 가속화하고 피해를 최소화할 수 있습니다.
    
    ## **CIA 트라이어드 모델 사용**
    
    [CIA Triad](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/secure/overview#the-cia-triad)는 기밀성, 무결성, 가용성이라는 정보 보안의 핵심 원칙입니다.
    
    - **기밀성**: 권한 있는 사용자만 정보 접근 가능, 암호화와 접근 제어 포함
    - **무결성**: 데이터의 정확성과 완전성 유지, 무단 변경 방지
    - **가용성**: 권한 있는 사용자의 정보 접근성 보장, 시스템 유지관리 포함
    
    트라이어드 원칙의 주요 이점:
    
    - **데이터 보호:** 개인정보 보호 및 규정 준수로 데이터 보호
    - **비즈니스 연속성:** 데이터 무결성과 가용성으로 운영 유지
    - **고객 신뢰:** 데이터 보안 강화로 신뢰 구축
    
    ## **역할 할당**
    
    [적절한 보안 역할](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/secure/teams-roles) 할당으로 팀의 보안 기능 수행을 지원합니다.
    
    - 기존 역할과 기능 매핑
    - 간격 확인
    - 필요한 투자 평가
    
    모든 구성원이 보안 역할과 협업 방식을 이해하도록 팀 간 보안 프로세스와 공동 책임 모델을 문서화하세요. 이 모델은 RACI와 유사하며 의사결정과 협업 접근법을 제시합니다.
    
    진화하는 사이버 위협에 대응하려면 지속적인 보안 개선이 필요합니다. 회고와 모니터링으로 개선 영역을 파악하고, 최신 위협과 기술에 대한 교육을 제공하세요.
    

### Microsoft  Azure Well-Architected 프레임워크 소개

- 핵심 요소
    
    클라우드는 비즈니스 과제 해결 방식과 시스템 설계 방식을 변화시켰습니다. 솔루션 설계자는 기능적 요구사항을 충족시키는 것 외에도, 확장성, 복원력, 효율성, 보안을 갖춘 솔루션을 설계해야 합니다.
    
    솔루션 아키텍처는 기술 시스템의 계획, 설계, 구현, 지속적 개선 과정입니다. 비즈니스 요구사항과 기술적 역량 사이의 균형을 맞추고, 위험, 비용, 기능 간의 균형을 유지해야 합니다.
    
    ## **Azure Well-Architected 프레임워크**
    
    Azure Well-Architected 프레임워크는 고품질 솔루션 구축을 위한 원칙 세트입니다. 모든 아키텍처에 적용 가능한 단일 접근법은 없지만, 다양한 환경에 적용 가능한 보편적 개념들이 존재합니다.
    
    이러한 개념들은 신뢰성, 안전성, 유연성을 갖춘 애플리케이션 기반을 구축하는 데 도움이 됩니다.
    
    Azure Well-Architected Framework는 다섯 가지 핵심 요소로 구성됩니다.
    
    ![Azure Well-Architected 프레임워크의 핵심 요소를 보여주는 일러스트레이션.](https://learn.microsoft.com/ko-kr/training/modules/azure-well-architected-introduction/media/pillars.png)
    
    ### **안정성**
    
    잘 설계된 클라우드 환경은 모든 수준에서 오류를 예상하고, 복원력과 자가 치유 능력을 갖춘 시스템을 구축합니다. 중단 발생 시 신속하게 복구하여 이해관계자와 고객의 기대를 충족해야 합니다.
    
    안정성 원칙은 비즈니스 목표 달성을 지원합니다. 문제 발생 시에도 워크로드가 계속 작동하고, 오류를 감지하고 복구할 수 있어야 하며, 사용자가 필요할 때 적절한 품질로 접근할 수 있어야 합니다.
    
    ![가상 네트워크의 가상 머신 두 대를 보여 주는 일러스트레이션. 머신 중 한 대는 오류가 있는 것으로 표시되고 다른 한 대는 서비스 고객 요청을 처리하는 것으로 표시됩니다.](https://learn.microsoft.com/ko-kr/training/modules/azure-well-architected-introduction/media/system-failure.png)
    
    ### **보안**
    
    보안 요소는 워크로드의 보안 문제 대응력을 향상시킵니다. 보안 인시던트는 평판, 운영, 재정에 피해를 줄 수 있으므로 강력한 보안 조치가 필요합니다. 효과적인 보안은 제로 트러스트 접근법과 CIA Triad(기밀성, 무결성, 가용성)를 따릅니다.
    
    ![클라우드의 데이터에 영향을 줄 수 있는 보안 위협 및 공격 유형을 보여주는 일러스트레이션.](https://learn.microsoft.com/ko-kr/training/modules/azure-well-architected-introduction/media/security.png)
    
    ### **비용 최적화**
    
    비용 최적화는 지출의 적절성을 확인하는 과정입니다. 아키텍처 설계는 비즈니스 목표, ROI, 재무 제약을 고려해야 합니다. 이 요소는 예산 할당, 지출 패턴 분석, 리소스 최적화를 지원합니다.
    
    ![유지 비용을 줄이면서도 품질, 속도 및 효율성을 높이는 것을 보여주는 일러스트레이션.](https://learn.microsoft.com/ko-kr/training/modules/azure-well-architected-introduction/media/efficiency.png)
    
    ### **운영 효율성**
    
    신뢰할 수 없는 워크로드는 가동 중지 시간 증가, 비용 상승, 고객 만족도 저하를 초래합니다. 운영 효율성은 고품질 성능을 유지하며 DevOps 사례와 표준화된 워크플로를 통해 오류와 중단을 최소화합니다.
    
    ### **성능 효율성**
    
    워크로드는 수요 변화에 대응할 수 있어야 합니다. 부하 증가 시 사용자 경험에 영향을 주지 않고, 부하 감소 시 리소스를 절약해야 합니다. 시스템 용량 모니터링과 성능 목표 추적을 위한 전략이 필요합니다.
    
    ![수요에 따라 클라우드의 리소스 규모를 동적으로 스케일링하여 효율성을 높이는 방법을 보여 주는 일러스트레이션. 고정된 수준에서 리소스를 구현하면 수요가 적을 때에는 효율성이 떨어지고 수요가 많을 때에는 리소스가 부족하게 됩니다.](https://learn.microsoft.com/ko-kr/training/modules/azure-well-architected-introduction/media/performance-demand.png)
    
    ## **기둥 간의 절충**
    
    이상적인 아키텍처는 안정성, 성능, 가용성이 뛰어난 효율적 환경을 제공하지만, 모든 상황에서 트레이드오프가 존재합니다.
    
    모든 핵심 요소를 최고 수준으로 구현하려면 비용(금액, 시간, 운영 민첩성)이 발생합니다. 각 조직마다 우선순위가 다르므로, 아키텍처 설계 시 허용 가능한 트레이드오프를 결정해야 합니다.
    
    Azure 아키텍처 구축 시 다양한 고려사항이 필요합니다. 안전하고 확장 가능하며 사용 및 복구 가능한 아키텍처를 위해 비용, 조직 우선순위, 위험에 기반한 결정이 필요합니다.
    

---

### 디자인 거버넌스

- 거버넌스를 위한 디자인
    
    [거버넌스](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/govern/guides/)는 Azure에서 리소스 제어를 위한 메커니즘과 프로세스를 제공하며, 요구사항 결정과 전략적 우선순위 설정을 포함합니다.
    
    효과적인 거버넌스 적용을 위해 조직 환경의 계층 구조가 필요합니다. 이 모듈에서는 Azure 정책과 리소스 태그를 다룹니다.
    
    ![테넌트 루트 그룹, 관리 그룹, 구독, 리소스 그룹 및 리소스를 보여 주는 Azure 계층 구조의 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/governance-strategies.png)
    
    Azure 계층 구조는 관리 그룹, 구독, 리소스 그룹, 리소스의 네 수준으로 구성됩니다.
    
    - **관리 그룹:** 여러 구독의 액세스, 정책, 규정 준수 관리에 사용.
    - **구독:** 관리 단위이자 청구 경계 역할을 하는 논리 컨테이너.
    - **리소스 그룹:** Azure 리소스의 논리적 컨테이너.
    - **리소스:** 생성한 서비스 인스턴스(VM, 스토리지, SQL DB 등).
    
    **참고) 테넌트 루트 그룹:** 모든 관리 그룹과 구독을 포함하며, 디렉터리 수준에서 전역 정책과 역할을 적용 할 수 있다.
    
- 관리 그룹 설계
    
    [관리 그룹은](https://learn.microsoft.com/ko-kr/azure/governance/management-groups/overview) **여러 구독**에서 액세스, 정책 및 규정 준수를 관리하는 컨테이너입니다. 다음과 같은 작업이 가능합니다:
    
    - 구독 간 VM 생성 지역 제한
    - 여러 구독에 대한 사용자 액세스를 위한 상속 역할 할당
    - 구독 간 역할 및 정책 할당 모니터링
    
    ### **관리 그룹 주요 특성**
    
    Tailwind Traders 거버넌스 전략 계획 시 고려할 특성:
    
    - Azure Policy를 통한 정책 및 이니셔티브 할당 집계
    - 최대 [6개 수준](https://learn.microsoft.com/ko-kr/azure/governance/management-groups/overview) 지원 (테넌트 루트/구독 제외)
    - RBAC 권한 부여는 기본적으로 비활성화됨
    - 신규 구독은 기본적으로 루트 관리 그룹 아래 배치
    
    ### **관리 그룹 생성 고려사항**
    
    Tailwind Traders는 영업(서부/동부), 기업(HR/법무), IT(연구/개발/프로덕션) 부서로 구성되며, Azure 호스팅 앱 2개가 있습니다.
    
    제안된 관리 그룹 계층 구조:
    
    ![영업, 회사 및 IT 부서에 대한 관리 그룹의 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/management-groups.png)
    
    - **거버넌스 중심 설계**: 동일한 보안/규정 준수/연결/기능이 필요한 워크로드에 관리 그룹 수준에서 정책 적용
    - **단순한 계층 구조 유지**: 3-4개 이하의 관리 그룹으로 계획, 복잡한 계층은 관리 어려움
    - **최상위 관리 그룹 활용**: 전체 조직 공통 정책 및 역할 할당 지원
    - **조직 구조 반영**: 부서별(영업/기업/IT) 관리 그룹 구분
    - **지리적 구조 고려**: 지역별 규정 준수 정책을 위한 관리 그룹 구성
    - **프로덕션 관리 그룹**: 전사 제품 정책 적용을 위한 그룹 생성
    - **샌드박스 관리 그룹**: 실험 환경 제공으로 개발/테스트/프로덕션 환경 격리
    - **중요 정보 격리**: 회사 관리 그룹으로 중요 데이터 보호, 표준/강화된 규정 준수 정책 제공
- 구독 설계
    
    Azure 구독은 관리 단위와 청구 경계를 제공하는 논리적 컨테이너입니다. 제한 및 할당량을 적용하며, 조직은 이를 통해 그룹별 비용과 리소스를 관리합니다.
    
    ### **구독 기본 정보**
    
    Azure 사용을 위해서는 구독이 필수적이며, 이는 서비스 생성 및 비용 지불을 위한 논리 컨테이너입니다. [기업계약, 종량제](https://azure.microsoft.com/support/legal/offer-details/) 등 다양한 구독 유형이 있습니다.
    
    ![구독 유형(개발, 테스트, 프로덕션)을 보여 주는 Microsoft Entra ID 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/azure-active-directory-subscriptions.png)
    
    구독 관련 중요 특성:
    
    - 개발, 테스트, 프로덕션 환경의 청구 분리
    - 다양한 규정 준수 표준 충족을 위한 정책 적용
    - 리소스 제한을 초과하는 특수 워크로드 스케일링
    - 조직 구조별 비용 관리 및 추적
    
    ### **구독 설계 고려사항**
    
    구독 할당 위치 결정을 위한 주요 접근 방식:
    
    ![영업, 회사 및 IT와 같은 Tailwind Traders 부서에 대한 구독 옵션을 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/subscriptions-example.png)
    
    - **비즈니스 요구사항 기반 구독**: 조직의 우선순위에 맞게 구독 정렬
    - **관리 그룹 하위 구독 그룹화**: 동일 정책과 역할을 공유하는 구독을 그룹화하여 설정 상속
    - **공유 서비스 구독**: 공통 네트워크 리소스(ExpressRoute, Virtual WAN 등)의 격리 및 통합 청구
    - **배율 제한 고려**: 대규모 워크로드(HPC, IoT, SAP)는 별도 구독으로 [리소스 한도](https://learn.microsoft.com/ko-kr/azure/azure-resource-manager/management/azure-subscription-service-limits) 회피
    - **관리 경계 설정**: 구독으로 책임 영역 명확히 분리, 필요 시 부서별 관리자 할당
    - **정책 할당 전략**: 규정 준수(예: PCI)를 위한 정책 격리를 관리 그룹보다 구독 수준에서 구현
    - **네트워크 구성**: 가상 네트워크는 구독 간 공유 불가, 통신 필요 워크로드 기반 구독 설계
    - **접근 권한 관리**: Entra PIM으로 정기적 액세스 검토 수행, 불필요한 권한 확산 방지
    
    **참고**
    
    단일 구독 구조는 모든 상황에 적합하지 않으며, 부서별로 최적의 솔루션이 다를 수 있어 다양한 옵션 검토가 필요합니다.
    
- 리소스 그룹 설계
    
    [리소스 그룹은](https://learn.microsoft.com/ko-kr/azure/azure-resource-manager/management/overview) Azure 리소스의 논리적 컨테이너로, 다음과 같은 기능을 제공합니다.
    
    - 유사한 사용량, 유형 또는 위치별 리소스 그룹화
    - 수명 주기별 리소스 관리(일괄 생성/삭제)
    - 역할 기반 권한 및 접근 관리
    - 리소스 잠금으로 리소스 보호
    
    ### **리소스 그룹 주요 특성**
    
    거버넌스 전략 계획 시 다음 특성을 고려하세요.
    
    - 자체 위치(지역)에 메타데이터 저장
    - 지역 사용 불가 시 리소스 업데이트 불가(다른 지역 리소스는 작동)
    - 여러 지역에 리소스 배치 가능
    - 다른 리소스 그룹의 리소스와 연결 가능
    - 대부분의 경우 [리소스 이동](https://learn.microsoft.com/ko-kr/azure/azure-resource-manager/management/move-resource-group-and-subscription) 가능
    - 리소스 추가/제거 자유롭게 가능
    - 중첩 불가
    - 리소스는 하나의 그룹에만 속함
    - 이름 변경 불가
    
    ### **구성 전략 고려사항**
    
    Tailwind Traders의 두 애플리케이션(App1, App2)을 위한 최적의 리소스 그룹 구성 방법:
    
    ![프로덕션 애플리케이션에 대한 리소스 그룹을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/resource-groups.png)
    
    - **유형별 그룹화**: 독립 서비스는 유형별로 그룹화(SQL-RG, WEB-RG)
        
        ![데이터베이스 및 웹 애플리케이션에 대한 별도의 리소스 그룹을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/group-type.png)
        
    - **앱별 그룹화**: 동일 정책 및 수명주기 리소스는 앱별로 그룹화(App1-RG, App2-RG)
        
        ![App1 및 App2에 대한 별도의 리소스 그룹을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/group-app.png)
        
    - **부서/위치/비용 센터별** 그룹화도 상황에 따라 유용
    - **혼합 전략**: 단일 방식보다 여러 전략 조합이 효과적
    - **수명주기 기반**: 함께 배포/삭제되는 리소스는 동일 그룹에 배치
    - **관리 효율성**: 관리할 그룹 수와 관리 구조 고려
    - **접근 제어**: 그룹 수준에서 정책, 역할, [잠금](https://learn.microsoft.com/ko-kr/azure/azure-resource-manager/management/lock-resources?tabs=json) 적용
    - **규정 준수**: 메타데이터 저장 위치 등 규정 요구사항 고려
- 리소스 태그 설계
    
    [리소스 태그](https://learn.microsoft.com/ko-kr/azure/azure-resource-manager/management/tag-resources?tabs=json)는 리소스 구성의 또 다른 방법으로, 추가 정보나 메타데이터를 제공합니다.
    
    **팁**
    
    태그 지정 프로젝트 시작 전 목표를 명확히 정의하세요. 태그로 Tailwind Traders의 검색 효율성을 높일 수 있는지, 자동화 스크립트에서 태그를 활용하는지 고려하세요.
    
    ### **리소스 태그 기본 사항**
    
    Tailwind Traders 거버넌스 전략 계획 시 다음 특성을 고려하세요.
    
    - 태그는 이름-값 쌍으로 구성 (예: `env = production` 또는 `env = dev, test`)
    - 각 리소스, 리소스 그룹, 구독에 여러 태그 할당 가능
    - PowerShell, Azure CLI, ARM 템플릿, REST API, Azure Portal로 태그 관리
    - 리소스 그룹에 [태그 적용](https://learn.microsoft.com/ko-kr/azure/azure-resource-manager/management/tag-resources) 가능하나 상속되지 않음
    
    ### **태그 생성 고려사항**
    
    Tailwind Traders 조직 계층 구조 생성 후 적용할 태그를 결정하세요.
    
    ![리소스 태그의 예제 계층 구조를 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/resource-tags.png)
    
    - **조직 분류법 고려**: 부서 명명법과 태그 일치, 규정 준수/비용 보고 용어, 위치, 기밀성 수준 등을 태그로 추가
    - **IT 맞춤 vs 비즈니스 맞춤 태그**: 적절한 방식 선택 또는 조합**팁**최근 많은 조직이 IT 중심에서 비즈니스 맞춤 태그 전략으로 전환 중입니다.태그 지정 옵션 비교:
        
        
        | 맞춤 | 설명 | 예제 시나리오 |
        | --- | --- | --- |
        | **IT 정렬** | 워크로드, 애플리케이션, 환경 추적에 유용. 자산 모니터링 간소화, 운영 관리 효율화 | 프린터 사용량 80%, 추가 구매 필요. IT 태그로 리소스 워크로드/기능 지원 |
        | **비즈니스 정렬** | 회계, 소유권, 비용 책임, 중요도 추적. IT 자산 비용/가치 회계 개선, 비즈니스 가치 중심 | 마케팅 프로모션으로 매출 10% 증가. 비즈니스 태그로 소유권, 회계, 비용 지원 |
    - **필요한 태그 유형 고려**: 기능, 분류, 회계, 파트너십, 목적 범주
        
        
        | 태그 형식 | 설명 | 이름-값 쌍 예 |
        | --- | --- | --- |
        | **기능적** | 워크로드 내 용도별 리소스 분류, 환경/운영 정보 제공 | -`app = catalogsearch1`-`tier = web`-`env = production` |
        | **분류** | 리소스 사용량 식별 | -`confidentiality = private`-`SLA = 24hours` |
        | **회계** | 대금 청구용 조직 그룹-리소스 연결 | -`department = finance`-`region = northamerica` |
        | **파트너십** | 리소스 관련/영향 받는 사람 정보 | -`owner = jsmith`-`stakeholders = user1;user2` |
        | **용도** | 비즈니스 기능 정렬로 투자 결정 지원 | -`businessimpact = moderate`-`revenueimpact = high` |
    - **소수 태그로 시작 후 확장(스케일아웃)**: 모든 태그를 한번에 식별하기보다 핵심 태그로 시작해 효과 확인 후 추가
    - **Azure 정책으로 태그 적용/규칙 강제**: 일관된 사용이 중요. 새 리소스 생성 시 특정 태그 요구 및 삭제 시 재적용 규칙 정의
    - **태그 필요 리소스 식별**: 모든 리소스에 태그가 필요하진 않음. 중요 리소스에만 `Impact` 태그 지정 가능
    
    **참고)** 효과적인 태그 구조를 위해 조직 내 다양한 이해관계자의 의견을 수렴하세요.
    
- Azure Policy 디자인
    
    [Azure Policy](https://azure.microsoft.com/services/azure-policy)는 리소스 제어 및 감사를 위한 정책을 관리하는 Azure 서비스입니다. 이 정책들은 리소스 구성이 회사 표준을 준수하도록 규칙을 적용합니다.
    
    ### **Azure 정책에 대해 알아야 할 사항**
    
    거버넌스 전략 계획 시 다음 Azure Policy 특성을 고려하세요.
    
    - 개별 정책과 이니셔티브(정책 그룹)를 모두 정의할 수 있으며, 다수의 [기본 제공 정책](https://learn.microsoft.com/ko-kr/azure/governance/policy/samples/built-in-policies)과 [이니셔티브](https://learn.microsoft.com/ko-kr/azure/governance/policy/samples/built-in-initiatives)가 제공됩니다.
    - 계층 구조에서 상속됩니다.
    - 조직 계층의 다양한 수준에서 범위 지정 가능합니다.
    - Azure 및 Arc 사용 리소스의 모든 리소스를 평가합니다.
    - 비준수 리소스를 강조 표시합니다.
    - 비규격 리소스 생성 방지 및 자동 수정이 가능합니다.
    - Azure Pipelines와 통합되어 배포 전후 정책을 적용합니다.
    
    ### **Azure Policy 사용 시 고려사항**
    
    애플리케이션에 정책 설정을 적용할 때, 일부는 프로덕션 관리 그룹 수준에서, 다른 일부는 애플리케이션 수준에서 할당할 수 있습니다.
    
    ![프로덕션 및 애플리케이션 리소스 그룹 수준에서 적용되는 다양한 Azure 정책을 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/azure-policy-choices.png)
    
    - **규정 준수 대시보드 활용**: 환경 전체 상태를 분석하고 각 리소스와 수준별로 정책 확인이 가능합니다. 기존 리소스 대량 수정 및 신규 리소스 자동 수정으로 문제를 효율적으로 해결합니다.
    - **리소스 평가 시점 고려**: 평가 트리거 시점. (비규격 리소스 식별에 지연이 있을 수 있음) 트리거 시점:
        - 리소스 생성/삭제/업데이트 시
        - 정책/이니셔티브 신규 할당 시
        - 할당된 정책/이니셔티브 업데이트 시
        - 표준 평가 주기(24시간마다)
    - **비규격 리소스 처리 방법**: 평가 트리거 후 처리 방법(중 결정):
        - 변경 내용 거부
        - 변경 내용 기록
        - 변경 전후 리소스 수정
        - 규정 준수 리소스 배포
    - **자동 수정 적용 검토**: 비규격 리소스 자동 수정 여부를 결정하세요. 태그 지정에 특히 유용하며, `Location` 같은 태그를 통해 지역 식별이 가능합니다.
    - **RBAC와의 차이점 이해**: 전체 범위 제어를 위해 두 서비스를 함께 사용하세요.
        - Azure Policy: 리소스 상태가 비즈니스 규칙을 준수하는지 확인합니다. 사용자 권한과 무관하게 리소스 상태를 평가합니다.
        - Azure RBAC: 사용자 작업에 초점을 맞추며 리소스 접근 권한과 가능한 작업을 관리합니다. 작업 제어가 필요할 때 사용하며, 사용자 권한이 있어도 비준수 결과는 Policy가 차단합니다.
    
    ### **리소스 액세스 제어**
    
    ID 관리 솔루션 결정 후에는 리소스 액세스를 고려해야 합니다. 어떤 리소스에 접근 가능한지, 액세스 적용 방법, 모니터링 및 검토 방법을 결정하세요.
    
    사용자 ID는 여러 단계를 거칩니다. 초기에는 액세스 권한이 없으며, RBAC로 부여하고 Entra 조건부 액세스로 확인합니다. Entra ID 보호로 모니터링하고, 액세스 검토를 통해 권한 필요성을 정기적으로 확인합니다.
    
- RBAC을 위한 디자인
    
    [Azure RBAC](https://learn.microsoft.com/ko-kr/azure/role-based-access-control/overview)를 통해 Azure 리소스 액세스 권한을 관리합니다. 각 요청을 평가하여 액세스 허용 여부를 결정합니다.
    
    RBAC는 허용 모델로, 특정 역할이 할당된 사용자는 해당 역할의 작업을 수행할 수 있습니다. 읽기 권한은 리소스 그룹에 부여 가능하며, 쓰기 권한은 명시적으로 허용되어야 합니다.
    
    ### **Azure RBAC에 대해 알아야 할 사항**
    
    Tailwind Traders의 팀들을 위한 Azure 리소스 액세스 관리 시나리오:
    
    - 구독에서 한 사용자는 VM을, 다른 사용자는 가상 네트워크를 관리
    - DB 관리자 그룹이 SQL 데이터베이스 관리
    - 사용자가 리소스 그룹의 모든 리소스 관리
    - 애플리케이션이 리소스 그룹 전체 접근
    
    ### **Azure RBAC를 사용할 때 고려해야 할 사항**
    
    Azure Policy와 함께 RBAC를 통합하여 사용자 권한 및 리소스 접근을 제어하는 방법:
    
    - **최적의 범위 수준 선택**: 역할 정의와 권한을 설정하고, 사용자/그룹에 할당한 후, 범위를 지정합니다. 요구사항에 맞는 최상위 범위에서 역할 할당
        
        ![역할 정의가 리소스에 할당된 다음 범위가 지정되는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/role-definition-assignment-scope.png)
        
    - **최소 권한 원칙 적용**: 필요한 최소 권한만 부여하여 책임 구분 및 보안 위험 최소화
        
        ![조직 내에서 다양한 범위 수준의 역할을 계획하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-governance/media/scope-role-matrix.png)
        
    - **그룹 기반 역할 할당**: 개별 사용자가 아닌 그룹에 역할을 할당하여 관리 효율성 증대
    - **Azure Policy 활용**: 리소스 속성에 집중하여 특정 제한 설정. RBAC와 조합하여 효과적인 액세스 제어 구현
        
        
        |  | Azure Policy | Azure RBAC |
        | --- | --- | --- |
        | 설명 | 리소스가 규칙 집합을 준수하도록 정의된 정책입니다. | 세분화된 액세스 제어를 제공하는 권한 부여 시스템입니다. |
        | 주요 포커스 | 리소스의 속성에 초점을 맞췄습니다. | 사용자가 액세스할 수 있는 리소스에 초점을 맞췄습니다. |
        | 이행 | 규칙 집합을 지정합니다. | 역할 및 범위를 할당합니다. |
        | 기본 액세스 | 기본적으로 정책 규칙은*허용*하도록 설정됩니다. | 기본적으로 모든 사용자에 대한 모든 액세스가*거부됩니다*. |
    - **사용자 지정 역할 활용**: 기본 역할이 충분하지 않을 때 조직 요구에 맞는 역할 정의. Entra ID를 공유하는 구독 간 공유 가능
    - **역할 중첩 관리**: RBAC는 추가 모델로 권한이 누적됨. 상위 범위의 높은 권한이 하위 범위의 낮은 권한을 무효화함
- Azure 랜딩 존 디자인
    
    [Azure 랜딩 존](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/ready/landing-zone/)은 워크로드를 위한 인프라 환경으로, 서비스 배포 전 주요 기본 원칙을 마련합니다.
    
    새 주택 건설 전 물, 가스, 전기와 같은 공유 서비스를 연결하는 것과 유사합니다. 배포 전 네트워크, ID 관리, 정책, 모니터링 구성을 준비해야 하며, 이러한 "서비스"는 애플리케이션 마이그레이션을 간소화하도록 활성화되어 있어야 합니다.
    
    ### **Azure 랜딩 존에 대해 알아야 할 사항**
    
    Tailwind Traders 거버넌스 전략 계획 시 고려할 Azure 랜딩 존 특성:
    
    - 비즈니스 요구사항과 우선순위에 따라 크기 조정되는 관리 그룹 및 구독다음 다이어그램은 SAP, 회사, 온라인 애플리케이션용 랜딩 존을 보여줍니다.
    - 조직 플랫폼의 지속적 규정 준수를 위한 Azure 정책 연결
    - 코드를 통한 사전 프로비저닝
    - 조직 전체 IT 포트폴리오 확장을 위한 범위 지정
    - 기존 Azure 아키텍처에 배포 가능한 Azure Portal 기반 가속기
    
    ### **Azure 랜딩 존을 사용할 때 고려해야 할 사항**
    
    Tailwind Traders 거버넌스 전략 마무리를 위한 Azure 랜딩 존 활용 방법:
    
    - **디자인에 랜딩 존 포함**: Azure 인프라에 통합하고, 구독을 비즈니스 요구사항에 맞게 관리. Azure Policy로 지속적 규정 준수 보장
    - **코드를 통한 랜딩 존 생성**: 코드로 프로비저닝하고 필요시 리팩터링. 반복적 접근으로 학습 기회 극대화 및 성공 시간 단축
    - [**랜딩 존 가속기 활용**](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/ready/landing-zone/#azure-landing-zone-accelerator): 관리 그룹, 정책 등 주요 구성요소의 고유 설정과 함께 개념적 아키텍처 구현
    - **애플리케이션 중심 접근**: 단순 인프라 마이그레이션보다 애플리케이션 중심 개발에 집중
    - **Azure 네이티브 서비스 활용**: 가능한 Azure 네이티브 서비스 사용, 플랫폼 로드맵 조정으로 새 기능 접근성 확보
    - **마이그레이션 및 그린필드 범위 지정**: 대규모 애플리케이션 마이그레이션과 개발 지원으로 조직 전체 확장성 확보
    - [**기존 아키텍처 전환**](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/ready/enterprise-scale/transition): 기존 환경과 병렬로 가속기 배포, 영향 없는 새 관리 그룹 구조 생성
    
    **참고) [Azure 랜딩 존 검토](https://learn.microsoft.com/ko-kr/assessments/?mode=pre-assessment&id=21765fea-dfe6-4bc4-8bb7-db9df5a6f6c0)**로 워크로드 호스팅 준비 평가. 이 평가는 2년 이상 경험 고객용이며, 초보자에게는 투자 영역 식별에 도움됩니다.
    

### 인증 및 권한 부여 솔루션 디자인

- IAM(ID 및 액세스 관리)을 위한 디자인
    
    Azure Architects는 IAM(ID 및 액세스 관리) 솔루션을 통해 인증 및 권한 부여를 구현합니다. 이 솔루션은 모든 사용자, 앱, 디바이스에 적용되며, 통합 ID 관리, 보안 적응형 액세스, 간소화된 ID 거버넌스, 원활한 사용자 경험을 제공해야 합니다.
    
    ![강력한 IAM 솔루션에 대한 네 가지 기본 지침의 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-authentication-authorization-solutions/media/identity-access.png)
    
    ### **IAM에 대해 알아야 할 사항**
    
    Tailwind Traders의 인증 및 권한 부여 옵션 검토 시 고려할 강력한 IAM 솔루션 특성:
    
    - **통합 ID 관리**. 모든 ID를 중앙에서 관리하고 클라우드/온-프레미스 애플리케이션 액세스로 가시성과 제어 향상
    - **원활한 사용자 환경**. 빠른 로그인으로 생산성 유지, 암호 관리 시간 단축 및 사용자 효율성 증대
    - **적응형 액세스 보호**. 사용자 경험을 저해하지 않는 강력한 인증 및 위험 기반 액세스 정책으로 리소스 보호
    - **간소화된 ID 거버넌스**. 모든 사용자의 앱 및 데이터 액세스 제어와 자동화된 권한 관리
    
    ### **IAM을 사용할 때 고려해야 할 사항**
    
    Tailwind Traders에 적합한 IAM 솔루션을 결정하는 것이 첫 단계입니다. 아래는 세 가지 주요 옵션입니다:
    
    - **Microsoft Entra ID**: 핵심 디렉터리 서비스, 앱 액세스 관리, ID 보호를 결합한 [Microsoft Entra ID](https://azure.microsoft.com/services/active-directory/)로 클라우드/하이브리드 환경에서 직원용 ID 및 액세스 관리 구현
    - **B2B 요구사항**: Microsoft Entra B2B로 공급업체 및 외부 파트너와의 협업 지원 솔루션 구축
    - **B2C 시나리오**: [Microsoft Entra B2C](https://learn.microsoft.com/ko-kr/azure/active-directory-b2c/overview)를 활용해 고객이 앱에서 프로필 가입, 로그인, 관리하는 방법 제어
- Entra ID를 위한 디자인
    
    [Microsoft Entra ID](https://learn.microsoft.com/ko-kr/azure/active-directory/fundamentals/active-directory-whatis)는 Azure의 ID 및 액세스 관리 솔루션으로, 다중 테넌트 클라우드 기반 디렉터리 서비스입니다. 핵심 디렉터리, 앱 액세스 관리, ID 보호를 통합 제공하며 클라우드 또는 하이브리드 환경에서 사용 가능합니다.
    
    ![Microsoft Entra Connect가 Active Directory Domain Services 및 Microsoft Entra ID를 동기화하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-authentication-authorization-solutions/media/on-premises-identities.png)
    
    ### **Microsoft Entra ID 관리에 대해 알아야 할 사항**
    
    Tailwind Traders의 ID 및 액세스 관리 전략 계획 시 고려할 Microsoft Entra ID 특성:
    
    - 모든 직원에 대한 **클라우드 전용 ID 솔루션**으로 구현 가능
    - RBAC, 조건부 액세스, 액세스 검토 등 ID 관리 및 보호 기능 제공
    - 하이브리드 환경에서 **ID 솔루션** 제공
    - 하이브리드 환경에서 [온-프레미스 Active Directory를 클라우드로 확장](https://learn.microsoft.com/ko-kr/azure/active-directory/hybrid/whatis-hybrid-identity)
    - Entra Connect로 온-프레미스 ID를 가져와 관리 및 보호 이점 확보
    
    ### **Microsoft Entra ID 관리 사용 시 고려해야 할 사항**
    
    Tailwind Traders의 ID 관리에 Microsoft Entra ID 사용 시 검토할 사항:
    
    - **중앙 집중식 ID 관리**: 하이브리드 환경에서 온-프레미스와 클라우드 디렉터리 통합으로 효율적 계정 관리 및 사용자 생산성 향상
    - **단일 Entra 인스턴스 사용**: 신뢰할 수 있는 단일 원본으로 명확성 확보 및 보안 위험 감소
    - **계정 동기화 제한**: 높은 권한의 계정 동기화 방지로 보안 위험 완화
    - **암호 해시 동기화**: [암호 해시 동기화](https://learn.microsoft.com/ko-kr/azure/active-directory/hybrid/whatis-phs)로 유출된 자격 증명으로부터 보호
    - **SSO 활용**: 단일 로그인으로 암호 관리 부담 감소 및 보안 강화, 자동 프로비저닝 지원
    - **분리된 ID 관리 오버헤드 고려**: 통합하지 않을 경우 추가 관리 부담과 보안 위험 증가
- Microsoft Entra B2B(Business to Business)를 위한 디자인
    
    모든 조직은 외부 사용자와 협업합니다. [Microsoft Entra B2B](https://learn.microsoft.com/ko-kr/azure/active-directory/external-identities/what-is-b2b)는 외부 파트너와 안전하게 공동 작업할 수 있는 Entra ID 기능으로, 파트너를 게스트 사용자로 초대하며 조직이 접근 권한과 기간을 제어합니다.
    
    ![비즈니스 간 사용자를 Microsoft Entra ID에 초대하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-authentication-authorization-solutions/media/external-identities.png)
    
    ### **Microsoft Entra B2B에 대해 알아야 할 사항**
    
    Microsoft Entra B2B가 Tailwind Traders의 B2B 솔루션에서 외부 사용자를 지원하는 방법입니다:
    
    - 외부 파트너는 자체 ID 관리 솔루션을 사용하며 Microsoft Entra ID가 필요 없습니다.
    - 외부 계정이나 암호를 관리할 필요가 없습니다.
    - 외부 계정 동기화나 계정 수명 주기 관리가 불필요합니다.
    - 외부 사용자는 자신의 ID로 협업하며 이는 파트너나 외부 ID 공급자가 관리합니다.
    - 게스트는 자신의 회사, 학교, 소셜 ID로 앱과 서비스에 로그인합니다.
    - Microsoft Entra B2B로 외부 파트너와 협업할 수 있습니다.
        
        ![게스트 사용자를 Microsoft Entra ID에 초대하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-authentication-authorization-solutions/media/business-to-business-guest-users.png)
        
        1. 외부 사용자는 게스트로 초대되며, 세부 정보 양식 작성과 사용자 지정 초대 메시지를 보낼 수 있습니다.
        2. 게스트는 메일로 초대를 받고, 첫 링크 사용 시 동의 메시지가 표시됩니다. 접근 권한을 얻으려면 필요한 권한을 수락해야 합니다.
        3. MFA 설정 시 추가 세부 정보가 필요하며, 접근 권한을 얻으려면 모바일로 전송된 확인 코드를 입력해야 합니다.
        4. 게스트는 액세스 패널 페이지에서 공유된 모든 앱과 서비스(클라우드 기반 또는 온-프레미스)를 볼 수 있습니다.
    
    ### **Microsoft Entra B2B 사용 시 고려해야 할 사항**
    
    파트너와 게스트 사용자를 위한 ID 관리 구현 시 고려할 옵션입니다:
    
    - **앱 소유자에게 게스트 관리 위임**: 소유자가 접근 권한이 필요한 사용자를 가장 잘 알기 때문에 Microsoft 권장사항입니다.
    - **조건부 액세스 정책 활용**: 사용자에게 지능적으로 권한을 부여하거나 거부하며, 특정 디바이스나 위치 조건을 기반으로 접근을 제어합니다.
    - **MFA 이점 고려**: [MFA](https://learn.microsoft.com/ko-kr/azure/active-directory/authentication/concept-mfa-howitworks) 프로세스를 필수 조건으로 설정해 추가 인증 단계를 요구합니다.
    - **ID 공급자 통합**: Facebook, Microsoft, Google 등 외부 ID 공급자와 통합해 기존 계정으로 로그인할 수 있게 합니다.
    - **셀프 서비스 등록 흐름 구현**: 외부 사용자를 위한 셀프 등록 프로세스를 만들고 온보딩 환경을 사용자 지정할 수 있습니다.
- Azure Active Directory B2C(business-to-customer)를 위한 디자인
    
    [Azure AD B2C](https://learn.microsoft.com/ko-kr/azure/active-directory-b2c/overview)는 고객 ID와 앱 액세스 관리를 위한 Microsoft Entra 테넌트입니다. 조직의 Microsoft Entra 테넌트와는 *별개*입니다.
    
    - **Microsoft Entra 테넌트는** 조직을 나타냅니다.
    - **Azure AD B2C 테넌트는** 고객 앱의 ID를 나타냅니다.
    
    테넌트 설정 후 앱을 등록하고, 사용자 흐름으로 로그인/가입 등을 관리할 수 있습니다.
    
    ![Microsoft Entra 테넌트에 비즈니스-고객 사용자를 등록하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-authentication-authorization-solutions/media/application-registration.png)
    
    ### **Azure AD B2C 주요 특징**
    
    Microsoft Entra ID B2B와 Tailwind Traders ID 솔루션 구현을 검토하고 Azure AD B2C의 고객 기능을 살펴보겠습니다.
    
    - 기본 ID 공급자로 고객에게 보안 인증 제공
    - 고객 로그인, 기본 설정, 변환 데이터 캡처
    - 앱에서 사용 가능한 고객 사용자 지정 특성 저장
    - 브랜드 등록 및 사용자 지정 UI 로그인 환경 지원
    - 조직 계정과 고객 계정 분리
    
    ### **Azure AD B2C 구현 고려사항**
    
    Tailwind Traders가 고객 ID 관리를 위해 검토해야 할 B2C 솔루션 요소:
    
    - **재사용 가능한 사용자 흐름**: 앱에서 목표 달성 경로를 위한 [미리 구성된 정책](https://learn.microsoft.com/ko-kr/azure/active-directory-b2c/user-flow-overview)으로, 여러 앱에서 재사용하여 일관된 사용자 여정 제공
    - **소셜 ID 로그인**: 기존 소셜/기업 계정으로 로그인 지원(Amazon, Microsoft Entra ID, Facebook, LinkedIn, X 등 [다양한 공급자](https://learn.microsoft.com/ko-kr/azure/active-directory-b2c/add-identity-provider) 지원)
    - **UI 사용자 지정**: HTML/CSS 직접 작성 또는 '페이지 레이아웃 템플릿' 활용으로 브랜딩 지원
    - **외부 시스템 통합**: 기본 디렉터리(사용자당 100개 사용자 지정 특성) 외에 CRM이나 고객 충성도 DB와 통합 가능
    - **타사 ID 검증**: 사용자 데이터 수집 및 타사 시스템 연동으로 계정 유효성 검사, 신뢰도 평가, 승인 수행
    
    ## **B2B와 B2C ID 솔루션 비교**
    
    Microsoft Entra ID 솔루션 기본 이해를 바탕으로 Tailwind Traders 옵션을 비교합니다.
    
    |  | Microsoft Entra B2B | Azure AD B2C |
    | --- | --- | --- |
    | 포커스 정의 | 외부 조직의 비즈니스 파트너와 협업. 게스트 사용자로 지원. | 제품 고객과 소통. 별도 테넌트에서 관리. |
    | 사용자 식별 | 파트너 회사 대표 또는 직원 | 자신을 대표하는 고객 |
    | 프로필 관리 | 액세스 검토, 메일 확인, 차단 목록으로 관리 | 고객이 자체 프로필 관리 |
    | 정보 저장 | 직원과 동일 디렉터리에서 게스트로 관리 | 별도 B2C 디렉터리에서 관리 |
    | 검색/개인정보 | 파트너 사용자 검색 가능, 다른 사용자 찾기 가능 | 고객 사용자는 표시되지 않음, 개인정보 보호 |
    | ID 공급자 | 회사/학교 계정, 이메일, SAML/WS-Fed, Gmail, Facebook | 로컬 앱 계정, 소셜 ID, 기업/정부 발급 ID |
    | UI/브랜딩 | 호스트/초대 조직 기준 UI 브랜딩 | 앱/조직별 완전 사용자 정의 브랜딩 |
    
    ## **WoodGrove Groceries 자습서**
    
    Microsoft Entra ID 솔루션 선택 의사결정을 돕는 자습서를 준비했습니다. [WoodGrove Groceries](https://woodgrovedemo.com/)는 Azure AD B2C 기능 시연을 위한 Microsoft 라이브 웹앱입니다.
    
    **중요)** 자습서 완료 후 조직에 Azure B2B/B2C 필요 여부를 결정하고 관련 사항을 기록하세요.
    
- 조건부 액세스를 위한 디자인
    
    [조건부 액세스](https://learn.microsoft.com/ko-kr/azure/active-directory/conditional-access/overview)는 Microsoft Entra ID의 리소스 액세스 제어 도구입니다. 로그인 시 사용자 신원, 위치, 디바이스를 검사하여 액세스 허용, MFA 적용 또는 액세스 거부를 결정합니다.
    
    ![조건부 액세스 도구가 조건을 평가하고 액세스를 결정하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-authentication-authorization-solutions/media/conditions-actions.png)
    
    ### **조건부 액세스에 대해 알아야 할 사항**
    
    Tailwind Traders 솔루션 계획 시 다음 특성을 검토하세요.
    
    - MFA는 세분화된 제어를 지원하며 특정 사용자에게만 적용 가능합니다.
    - 명명된 위치와 앱 정책으로 액세스를 제어할 수 있습니다.
    - 승인된 클라이언트 앱으로만 서비스 액세스를 제한할 수 있습니다.
    - 보안 기준을 충족하는 [관리형 디바이스](https://learn.microsoft.com/ko-kr/azure/active-directory/conditional-access/concept-condition-filters-for-devices)로 앱 액세스를 제한할 수 있습니다.
    - 신뢰할 수 없는 원본에서의 액세스를 차단할 수 있습니다.
    - [보고 전용 모드](https://learn.microsoft.com/ko-kr/azure/active-directory/conditional-access/concept-conditional-access-report-only)로 정책 영향을 사전 평가할 수 있습니다.
    - [What If](https://learn.microsoft.com/ko-kr/azure/active-directory/conditional-access/what-if-tool) 도구로 정책 계획 및 문제해결이 가능합니다.
    
    **참고**
    
    조건부 액세스에는 Microsoft Entra ID P1/P2 또는 Microsoft 365 Business Premium 라이선스가 필요합니다.
    
    ### **조건부 액세스를 사용할 때 고려해야 할 사항**
    
    Tailwind Traders의 조건부 액세스 구현을 위해 다음 옵션을 검토하세요.
    
    - **세부적 MFA 제어**: 알려진 위치에서는 추가 인증 없이, 알 수 없는 위치에서는 MFA를 요구하는 선택적 접근법.
    - **지리적 액세스 제한**: 불필요한 지역에서의 접근을 차단하는 명명된 위치 정책 구현(관리자 제외).
    - **관리형 디바이스 제한**: 회사 보안 기준을 충족하는 디바이스만 접근 허용으로 환경 보호.
    - **승인된 앱 접근**: 승인된 클라이언트 앱으로만 회사 데이터 보호, 디바이스/데이터 관리 범위 결정.
    - **손상된 계정 관리**: 다음 정책으로 보호:
        - 전체 사용자 MFA 등록 의무화
        - 고위험 사용자 암호 변경 요구
        - 중/고위험 로그인에 MFA 요구
    - **액세스 차단**: 전체 조직, 특정 네트워크 위치, 레거시 인증 앱의 접근 차단(마이그레이션 중 유용).
    - **레거시 인증 차단**: [레거시 프로토콜 차단](https://learn.microsoft.com/ko-kr/azure/active-directory/conditional-access/howto-conditional-access-policy-block-legacy)으로 암호 스프레이 공격 등 취약점 보호.
    - **보고서 전용 모드**: 배포 영향을 미리 예측하고 레거시 인증 차단, MFA, 로그인 위험 정책 테스트.
    - **What If 도구**: 구현 전 조건부 액세스 정책 시뮬레이션.
- ID 보호를 위한 디자인
    
    [ID 보호](https://learn.microsoft.com/ko-kr/azure/active-directory/identity-protection/overview-identity-protection) 는 조직에서 다음 세 가지 주요 작업을 수행할 수 있는 도구입니다.
    
    - [ID 기반 위험의 검색 및 수정을 자동화합니다](https://learn.microsoft.com/ko-kr/azure/active-directory/identity-protection/howto-identity-protection-configure-risk-policies).
    - Azure Portal에서 데이터를 사용하여 [위험을 조사합니다](https://learn.microsoft.com/ko-kr/azure/active-directory/identity-protection/howto-identity-protection-investigate-risk).
    - [위험 검색 데이터를 다른 도구로 내보냅니다](https://learn.microsoft.com/ko-kr/azure/sentinel/connect-azure-ad-identity-protection) .
    
    ID 보호에 생성되고 공급되는 신호를 다른 도구로 내보낼 수 있습니다. 조건부 액세스 도구가 조직의 정책에 따라 결정을 내리는 방법을 알아보았습니다. ID 보호를 사용하여 이 정보를 SIEM(보안 정보 및 이벤트 관리) 도구에 전달하여 더 많은 조사를 수행할 수 있습니다.
    
    다음 워크플로에서는 관리자가 먼저 ID 위험을 모니터링하는 위험 정책을 구성합니다. 위험이 탐지되면 정책에 따라 수정 조치가 적용됩니다. 예를 들어 정책에서 검색된 위험에 대한 대응으로 암호를 재설정하도록 사용자에게 요청할 수 있습니다. 그러면 사용자가 암호를 재설정하고 위험이 수정됩니다.
    
    ![자동화된 수정을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-authentication-authorization-solutions/media/user-risk-level-evaluation.png)
    
    ### **ID 보호에 대해 알아야 할 사항**
    
    Tailwind Traders의 CTO로서 인증 전략에 ID 보호를 포함할 수 있는 방법을 알고 싶습니다. 이 도구의 다음 특징을 고려합니다.
    
    - ID 보호는 디렉터리의 사용자 계정과 관련된 식별된 의심스러운 작업을 포함하는 **위험 정책** 검색을 제공합니다.
    - 두 가지 위험 정책, 즉 사용자 위험 및 로그인 위험이 평가됩니다.
        
        ![위험한 사용자, 위험한 로그인 및 위험 검색을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-authentication-authorization-solutions/media/risk-detections.png)
        
    - [**사용자 위험은**](https://learn.microsoft.com/ko-kr/azure/active-directory/identity-protection/concept-identity-protection-risks) 지정된 ID 또는 계정이 손상될 확률을 나타냅니다. 예를 들어 사용자의 유효한 자격 증명이 유출된 경우입니다. Microsoft 내부 및 외부 위협 인텔리전스 소스를 사용하여 사용자 위험을 오프라인에서 계산합니다. 다음은 식별할 수 있는 몇 가지 사용자 위험입니다.
        - **유출된 자격 증명**: Microsoft는 다크 웹, 붙여넣기 사이트 또는 기타 원본에서 유출된 자격 증명을 확인합니다. 이러한 유출된 자격 증명은 Microsoft Entra 사용자의 현재 유효한 자격 증명과 유효한 일치 여부를 대조하여 확인합니다.
        - **Microsoft Entra 위협 인텔리전스**: 이 위험 검색 유형은 지정된 사용자에게 비정상적이거나 알려진 공격 패턴과 일치하는 사용자 활동을 나타냅니다.
    - [**로그인 위험은**](https://learn.microsoft.com/ko-kr/azure/active-directory/identity-protection/concept-identity-protection-risks) ID 소유자가 지정한 로그인(인증 요청)에 권한이 부여되지 않을 확률을 나타냅니다. 로그인 위험은 실시간 또는 오프라인으로 계산할 수 있습니다. 다음은 식별할 수 있는 몇 가지 로그인 위험입니다.
        - **익명 IP 주소**: Tor 브라우저 또는 익명화된 VPN과 같은 익명 IP 주소에서 로그인을 시도합니다.
        - **비정형 이동**: 지리적으로 먼 위치에서 시작된 동일한 사용자의 두 로그인입니다. 과거 동작을 고려할 때 사용자에 대해 하나 이상의 위치가 비정상일 수도 있습니다.
        - **맬웨어 연결 IP 주소**: 봇 서버와 적극적으로 통신하는 것으로 알려진 감염된 IP 주소 로그인입니다.
        - **암호 스프레이**: 악의적인 행위자가 서로 다른 사용자 이름과 동일한 암호로 로그인을 시도하여 잠금 및 탐지를 피하려고 하는 암호 스프레이 공격입니다.
    
    ### **ID 보호를 사용할 때 고려해야 할 사항**
    
    Tailwind Traders는 ID 보호를 보안 솔루션에 구현하기로 결정합니다. 전략을 향상시킬 수 있는 이러한 옵션을 검토합니다.
    
    - **사용자 위험 정책에 대해 "높음" 임계값을 고려합니다**. (Microsoft 권장) Tailwind Traders 사용자의 위험 정책 수준을 “높음”으로 설정합니다. 높은 설정은 사용자의 유출된 자격 증명 및 비정상적인 활동을 감지하고 알려진 공격 패턴을 확인할 수 있습니다. 정책 임계값을 “높음”으로 설정하면 광범위한 그물을 분산하여 사용자 자격 증명을 대상으로 하는 공격을 방지할 수 있습니다.
    - **로그인 위험 정책에 대해 "중간 이상" 임계값을 고려**합니다. (Microsoft 권장) Tailwind Traders 앱에 대한 로그인 시도에 대한 위험 정책 수준을 “중간 이상”으로 구성합니다. 이 설정은 ID 보호 자체 수정 옵션을 지원합니다. 암호 변경 및 MFA와 같은 자체 수정은 사용자를 차단하는 것보다 영향이 적습니다.
    - **Azure Portal에서 위험을 조사하는 것이 좋습니다**. Azure Portal에서 Tailwind Traders 위험 이벤트를 조사하고 보안 구현의 약한 영역을 식별합니다. 위험 이벤트를 .CSV 형식으로 다운로드하고 Microsoft Entra ID 보안 섹션의 출력을 봅니다. Microsoft Graph API 통합을 사용하여 데이터를 다른 원본과 집계합니다.
    - **위험 검색 데이터를 내보내는 것이 좋습니다**. ID 보호용 Microsoft Sentinel 데이터 커넥터를 사용하여 Tailwind Traders에 대한 위험 검색 데이터를 내보냅니다.
- 액세스 검토를 위한 디자인
    
    직원은 근무 중 여러 역할을 수행할 수 있으며, 각 직책마다 다른 리소스 접근 권한이 필요합니다. 신규 직원은 초기 리소스 및 앱 접근이 필요하고, 퇴사 시 접근 권한은 제거됩니다.
    
    ![고용 날짜부터 특정 역할에 대한 액세스, 회사를 떠날 때 제거된 액세스에 대한 직원의 ID 관리를 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-authentication-authorization-solutions/media/employee-access-lifecycle.png)
    
    올바른 접근 권한 관리를 위해 [Microsoft Entra 액세스 검토](https://learn.microsoft.com/ko-kr/azure/active-directory/governance/access-reviews-overview)를 수행합니다. 이는 사용자 액세스 요구사항, 권한 및 기록에 대한 계획된 검토입니다.
    
    Tailwind Traders CTO는 다음과 같은 질문을 고려합니다:
    
    - 신규 직원에게 필요한 액세스 권한을 어떻게 제공할까요?
    - 직원이 팀 변경 또는 퇴사 시 기존 액세스 권한 제거는 어떻게 할까요?
    
    ### **Microsoft Entra 액세스 검토의 목적**
    
    Microsoft Entra 액세스 검토의 주요 특징:
    
    - 중요 자산 보호, 모니터링 및 감사를 통한 위험 완화
    - 올바른 사용자의 적절한 리소스 접근 확인
    - Single Sign-On 통합 앱의 사용자 액세스 확인
    - Microsoft Entra ID 그룹 멤버십 확인
    - 액세스 패키지 관리 확인
    - PIM에 정의된 역할 검토
    
    ### **검토자 결정**
    
    액세스 검토는 검토자에 따라 달라집니다. 검토 생성자는 검토자를 지정하며, 시작 후에는 변경 불가합니다. 검토자 유형:
    
    - **리소스 소유자**: 비즈니스 소유자
    - **대리인**: 관리자가 선택한 그룹
    - **최종 사용자**: 자가 증명 필요한 사용자
    
    관리자는 여러 검토자를 선택할 수 있으며, 모든 검토자는 액세스 권한 부여나 제거 결정이 가능합니다.
    
    ### **액세스 검토 계획 고려사항**
    
    검토 구현 전, 조직에 적합한 검토 유형과 후속 조치에 대한 의사결정이 필요합니다.
    
    Microsoft Dynamics 리소스 액세스 검토 계획 예시:
    
    | 액세스 검토 구성 요소 | 구현 |
    | --- | --- |
    | **검토할 리소스** | Microsoft Dynamics 리소스 |
    | **검토 빈도** | 월 1회 |
    | **검토자** | Dynamics 비즈니스 그룹 프로그램 관리자 |
    | **검토자 알림 방법** | 검토 시작 24시간 전 별칭으로 메일 발송(`Dynamics-PMs@tailwind-traders.org`) |
    | **검토 완료 시간** | 최대 24시간(알림 후 48시간 이내) |
    | **자동 작업** | 예. 90일 내 로그인 없는 계정 액세스 제거, 보안 그룹에서 사용자 제거, 미검토 계정 자동 처리 |
    | **수동 작업** | 예. 검토자는 자동화 전 계정 제거 승인 가능 |
    | **사용자 알림 방법** | 제거된 내부 사용자에게 설명 및 재접근 방법 메일 발송 |
- 애플리케이션의 서비스 주체 디자인
    
    리소스 액세스 시 사용자나 앱은 *보안 주체*를 사용합니다. 보안 주체는 Microsoft Entra 테넌트에서 사용자(*사용자 계정*)나 앱(*서비스 주체*)의 액세스 정책과 권한을 정의하며, 인증 및 권한 부여 기능을 지원합니다.
    
    Tailwind Traders는 서비스 주체 구현에 관심이 있으며, CTO는 Microsoft Entra ID에서 앱을 애플리케이션 개체나 서비스 주체로 표현하는 두 가지 방법을 이해해야 합니다.
    
    - **애플리케이션 개체**: *앱에 대한 정의*로, 서비스가 앱에 토큰을 발급하는 방법을 정의합니다. 다중 테넌트 앱이라도 홈 디렉터리에만 존재합니다.
    - **서비스 주체**: *앱의 인스턴스*로, 일반적으로 앱 개체를 참조합니다. 여러 서비스 주체가 동일한 앱 개체를 사용할 수 있습니다.
    
    서비스 주체는 Microsoft Entra ID에 대한 앱 연결을 제어하고 디렉터리에서 앱의 인스턴스 역할을 합니다.
    
    ![Azure 구독에서 애플리케이션 개체 및 서비스 주체를 사용하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-authentication-authorization-solutions/media/application-service-principals.png)
    
    ### **서비스 주체 유형**
    
    서비스 주체는 애플리케이션, 관리 ID, 레거시 세 가지 유형이 있습니다.
    
    - **애플리케이션**: 단일 테넌트나 디렉터리의 전역 앱 개체를 로컬로 표현합니다. 앱 개체에서 속성을 상속받은 구체적 인스턴스로, 앱이 사용되는 각 테넌트에 생성됩니다. 앱의 권한, 접근 가능한 사용자 및 리소스를 정의합니다.앱 개체는 모든 테넌트용 전역 표현이지만, 서비스 주체는 특정 테넌트용 로컬 표현입니다. 앱 개체는 서비스 주체 생성을 위한 템플릿 역할을 합니다.
    - **관리 ID**: 자격 증명 관리가 필요 없는 관리 ID를 나타냅니다. Microsoft Entra 인증 지원 리소스 연결 시 애플리케이션 ID를 제공합니다.관련 용어:
        - **클라이언트 ID**: ID 프로비저닝 시 생성된 앱과 서비스 주체의 고유 ID입니다.
        - **개체 ID**: 관리 ID의 서비스 주체 개체입니다.
        - **Azure Instance Metadata Service**: VM 생성 시 활성화되는 REST API로, VM 내에서만 접근 가능합니다.
    - **레거시**: 앱 등록 도입 이전 또는 레거시 구성으로 생성된 앱을 나타냅니다. 자격 증명, 서비스 주체 이름, 회신 URL 등의 속성을 가지며, 연결된 앱 등록이 없습니다.
    
    ### **애플리케이션 개체 및 서비스 주체 핵심 사항**
    
    Tailwind Traders의 ID 전략 계획 시 다음 특성을 고려하세요.
    
    - 앱은 "홈" 디렉터리에 하나 이상의 앱 개체를 가질 수 있습니다.
    - 앱은 작동하는 모든 디렉터리에 하나 이상의 서비스 주체 개체를 가질 수 있습니다.
    - 앱 개체는 소프트웨어 앱과 `1:1` 관계, 서비스 주체와 `1:many` 관계를 갖습니다.
    - 앱 사용 테넌트마다 서비스 주체 생성이 필요하며, 이는 테넌트 리소스 접근을 위한 ID를 설정합니다.
    - 단일 테넌트 앱은 홈 테넌트에 하나의 서비스 주체만 갖지만, 다중 테넌트 앱은 각 사용 테넌트에 서비스 주체를 갖습니다.
    - 관리 ID 서비스 주체는 권한 부여는 가능하나 직접 수정은 불가능합니다.
    - 레거시 서비스 주체는 생성된 테넌트에서만 사용 가능합니다.
    
    ### **서비스 주체 사용 시 고려사항**
    
    Tailwind Traders의 관리 ID 및 서비스 주체 활용 방안을 검토합니다.
    
    - **애플리케이션 서비스 주체 생성 방법**: 다음과 같은 방법으로 생성 가능합니다.
        - 앱이 테넌트 리소스 접근 권한을 받을 때(등록/동의 시) 자동 생성됩니다.
        - Azure Portal에서 앱 등록 시 자동 생성됩니다.
        - Azure PowerShell, CLI, Microsoft Graph 등을 통해 수동 생성도 가능합니다.
    - **관리 ID 없는 서비스 주체**: 자격 증명 관리가 필요할 때 사용합니다.
    - **외부 앱 인증**: Azure 리소스에 대한 외부 앱 인증에 서비스 주체를 활용합니다.
    - **권한 요청 모범 사례**: Microsoft Entra ID 앱 개발 시 다음 사항을 고려하세요.
        - 구현된 기능에 필요한 최소 권한만 요청하고, 미래 사용을 위한 권한은 요청하지 마세요.
        - 최소 권한 원칙을 따르세요. 예: 메일 분석만 필요하면 `Mail.ReadWrite`가 아닌 `Mail.Read`만 요청하세요.
        - 사용자 동의 거부 상황에 대비하고, 권한 부족 시 사용자에게 해결 방법을 제시하세요.
    - **사용자 동의 제한 권장**: 검증된 게시자 앱과 승인된 권한에만 동의하도록 제한하고, 예외 앱은 보안/ID 관리팀에 결정권을 집중시키세요. 이는 중요 앱 사용성을 유지하면서 보안을 강화하고, 관리되지 않는 계정의 타사 앱 사용을 방지합니다.
- 관리 ID 설계
    
    개발자는 보통 솔루션 구성 요소 간 통신 보안과 자격 증명 관리에 어려움을 겪습니다. 관리 ID를 사용하면 이런 자격 증명 관리가 필요 없습니다.
    
    Azure 관리 ID는 Microsoft Entra ID의 무료 기능으로, 앱이 Azure 리소스 인증을 위한 ID를 자동 생성합니다. 모든 버전의 Microsoft Entra ID에서 사용 가능하며, App Service에서도 추가 비용이나 구성 없이 사용할 수 있습니다.
    
    관리 ID는 앱에 Microsoft Entra 인증 지원 리소스 연결용 ID를 제공합니다. 앱은 이를 통해 Microsoft Entra 토큰을 획득하고 Azure Key Vault 같은 리소스에 액세스할 수 있습니다.
    
    ### **관리 ID에 대해 알아야 할 사항**
    
    Tailwind Traders가 앱을 온-프레미스에서 Azure VM으로 이전 계획 중입니다. Azure VM에서 앱 호스팅 시 관리 ID 활용을 고려해야 합니다.
    
    - 관리 ID는 Microsoft Entra 인증과 Azure RBAC를 결합합니다.
    - 자격 증명 회전이나 인증 만료를 걱정할 필요 없습니다. Azure가 자동으로 처리하며, 앱은 제공된 토큰으로 서비스를 호출합니다.
    - 시스템 할당 관리 ID 지원 리소스로 다음이 가능합니다:
        - 리소스 수준에서 관리 ID 활성화/비활성화
        - RBAC 역할로 권한 부여
        - Azure 활동 로그에서 CRUD 작업 검토
        - Microsoft Entra 로그인 로그에서 활동 검토
    - 관리 ID는 언제든지 앱에서 활성화/비활성화할 수 있습니다.
    
    두 가지 종류의 관리 ID가 있습니다.
    
    - **시스템 할당**: 서비스 인스턴스에서 직접 활성화하며, 서비스 수명주기와 연결됩니다. 리소스 삭제 시 ID도 자동 삭제되며, 해당 리소스만 이 ID로 토큰을 요청할 수 있습니다.
    - **사용자 할당**: 독립 리소스로 생성하여 여러 서비스 인스턴스에 할당 가능합니다. 사용 리소스와 별도로 관리됩니다.
    
    ### **관리 ID를 사용할 때 고려해야 할 사항**
    
    이제 Tailwind Traders VM에 관리 ID 구현 방법을 검토합니다.
    
    - **Azure 서비스 및 대상 고려**: App Service로 앱 구축 시 Azure Storage 접근에 관리 ID 활용.
        
        
        | Azure 서비스를 사용하여 앱 빌드 | 자격 증명을 관리하지 않고 대상에 액세스 |
        | --- | --- |
        | Azure 리소스
        Azure Virtual Machines
        Azure App Service
        Azure Functions (Azure 함수)
        Azure Container Instances
        Azure Kubernetes Service
        Azure Logic Apps
        Azure Storage | Microsoft Entra 인증을 지원하는 대상에 액세스합니다.
        - 애플리케이션
        - Azure Key Vault, Azure Storage, Azure SQL 등과 같은 Azure 서비스 |
    - **시스템 할당 관리 ID 권장**: 단일 Azure 리소스 워크로드나 독립 ID가 필요한 워크로드에 적합합니다.
    - **사용자 할당 관리 ID 권장**: 여러 리소스에서 단일 ID 공유 시, 보안 리소스 사전 권한 부여 필요 시, 또는 재활용되는 리소스의 권한 일관성 유지 시 적합합니다.
    - **VM 관리 ID의 이점**: 다음 시나리오에서 유용합니다.
        - 관리 ID가 있는 Azure VM에서 주식 추적 앱 실행 시 코드에 인증 정보 저장 없이 Key Vault 인증 가능
        - 온-프레미스 VM을 Azure로 마이그레이션 시 하드코딩된 인증 정보 제거하고 안전한 관리 ID 토큰 사용
    - **Key Vault 인증 고려**: Key Vault와 관리 ID 통합으로 Azure 리소스 인증.앱에 필요한 비밀 값(암호, 연결 문자열 등)은 저장과 처리가 위험합니다. 관리 ID와 Key Vault 조합으로 웹앱이 안전하게 비밀 값에 접근할 수 있으며, 소스 제어나 구성에 비밀 저장이 불필요합니다. Key Vault는 Microsoft Entra ID로 사용자와 앱을 인증합니다. 웹앱에 자격 증명 모음 접근 권한을 부여하려면 Microsoft Entra ID에 앱을 등록하고 ID를 생성합니다. 앱과 사용자는 Microsoft Entra 인증 토큰으로 Key Vault에 인증하며, 토큰 획득을 위해서는 비밀이나 인증서가 필요합니다.
- Azure Key Vault를 위한 디자인
    
    비밀, 암호화 키, 인증서의 직접 저장 및 처리는 위험하며 데이터 노출 가능성이 있습니다. Azure Key Vault는 앱 비밀과 데이터 암호화를 위한 안전한 저장소입니다.
    
    Azure Key Vault는 Tailwind Traders의 보안 문제 해결에 도움이 됩니다.
    
    - **비밀 관리:** 토큰, 암호, 인증서, API 키 등을 안전하게 저장하고 액세스를 제어합니다.
    - **키 관리:** 암호화 키를 쉽게 생성하고 제어하는 키 관리 솔루션입니다.
    - **인증서 관리:** 퍼블릭 및 프라이빗 TLS/SSL 인증서를 쉽게 등록, 관리, 배포할 수 있습니다.
    
    ### **Azure Key Vault에 대해 알아야 할 사항**
    
    Tailwind Traders의 CTO로서 Key Vault가 현재 전략을 향상시키는 방법을 고려합니다.
    
    - Key Vault는 두 서비스 계층이 있습니다.
        - **표준 계층**: 소프트웨어 키로 데이터 암호화
        - **프리미엄 계층**: HSM으로 보호된 키 제공
    - 필요한 앱과 개인에 맞게 비밀 액세스 정책을 구성할 수 있습니다.
    - 중요 앱 정보를 코드와 분리하여 누출 위험을 줄입니다.
    - 중앙화된 비밀 저장소로 변경 사항을 한 곳에서만 수행합니다.
    - 로깅 및 모니터링으로 비밀 접근 방법과 시기를 파악합니다.
    - 앱 내에서 중요 정보에 대한 보안 액세스를 제공합니다.
        - 키, 비밀, 인증서는 추가 코드 없이 보호되며 앱에서 사용 가능합니다.
        - 고객은 자신의 자산을 관리하고, 앱은 고객 자산 책임이 없어 핵심 기능에 집중할 수 있습니다.
        - 앱은 키 관리를 외부화하면서 서명 및 암호화에 활용할 수 있습니다.
        - 암호, 액세스 키, 토큰 등의 자격 증명을 비밀로 저장하여 관리합니다.
    
    ### **Azure Key Vault를 사용할 때 고려해야 할 사항**
    
    Tailwind Traders의 인증 및 권한 부여 구현 계획의 마지막 단계입니다. Key Vault로 비밀 관리 방법을 고려합니다.
    
    - **별도 키 자격 증명 모음 사용 권장**. 키 자격 증명 모음은 비밀의 보안 경계를 정의합니다. 동일 모음 그룹화는 보안 사고 영향 범위를 증가시킵니다. 애플리케이션별로 모음을 구분하는 것이 일반적입니다.
    - **액세스 고려사항**. 권한 있는 앱과 사용자만 접근하도록 보안을 유지합니다.
        - 모든 자격 증명 모음에 액세스 정책 생성
        - 최소 권한 원칙으로 액세스 권한 부여
        - 방화벽 및 가상 네트워크 서비스 엔드포인트 활성화
    - **데이터 보호 고려**. 자격 증명 모음 보호를 위해 [일시 삭제 및 제거 방지](https://learn.microsoft.com/ko-kr/azure/key-vault/general/key-vault-recovery?tabs=azure-portal#what-are-soft-delete-and-purge-protection) 활성화.
        - **일시 삭제**는 실수로 인한 삭제 방지용으로, 휴지통과 유사합니다.
        - **제거 방지**는 악의적 내부자의 삭제 방지용으로, 시간 기반 잠금 장치가 있는 휴지통과 같습니다. 보존 기간 동안 항목을 복구할 수 있습니다.

### Azure 리소스를 기록하고 모니터링하는 솔루션 설계

- Azure Monitor 데이터 원본을 위한 설계
    
    Azure Monitor는 [모니터링 데이터 플랫폼](https://learn.microsoft.com/ko-kr/azure/azure-monitor/data-platform)을 기반으로 리소스 데이터를 보고 분석합니다. **로그**와 **메트릭** 두 구성 요소를 지원합니다.
    
    [Azure Monitor 로그](https://learn.microsoft.com/ko-kr/azure/azure-monitor/logs/data-platform-logs)는 리소스 데이터를 수집하고 자동으로 저장합니다. 이 데이터로 환경 성능을 모니터링할 수 있습니다.
    
    [Azure Monitor 메트릭](https://learn.microsoft.com/ko-kr/azure/azure-monitor/essentials/data-platform-metrics)은 수치 데이터를 캡처하여 시간 구성 DB에 저장합니다. 특정 시간이나 상황에서 시스템 성능을 확인할 수 있습니다.
    
    Azure Monitor는 다양한 데이터 원본을 수집합니다.
    
    ![Azure Monitor 모니터링 데이터의 원본을 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-solution-to-log-monitor-azure-resources/media/azure-monitor-source.png)
    
    Tailwind Traders의 CTO로서 어떤 모니터링 데이터를 수집하고 어떤 분석을 수행하고 싶으신가요?
    
    ### **Azure Monitor에 대해 알아야 할 사항**
    
    모니터링 계획 시 Azure Monitor의 다음 특성을 고려하세요.
    
    - 여러 리소스 데이터를 수집하여 공통 도구로 함께 분석할 수 있습니다.
    - 로그 쿼리로 복잡한 분석이 가능합니다.
    - 메트릭은 실시간에 가까운 경고와 대응을 지원합니다.
    - 모니터링 데이터를 다른 위치로 보내 특정 시나리오를 지원할 수 있습니다.
    - 모니터링 데이터 원본은 계층 구조로 구성됩니다.
        - 최상위 계층은 애플리케이션용입니다.
        - 하위 계층은 Azure 플랫폼 구성 요소입니다.
    
    자세한 내용은 [Azure에서 데이터 위치 모니터링](https://learn.microsoft.com/ko-kr/azure/azure-monitor/monitor-reference)을 참조하세요.
    
    ### **Azure Monitor를 사용할 때 고려해야 할 사항**
    
    이제 Tailwind Traders에 모니터링 솔루션을 구현하는 방법을 살펴보겠습니다.
    
    - **데이터 원본 및 데이터 액세스**. 모니터링할 리소스를 식별하세요. Azure Monitor는 다양한 구성 요소에서 자동으로 데이터를 수집합니다:
        - **Windows 이벤트**: Windows 로깅 시스템의 정보
        - **성능 카운터**: 시스템 성능 측정값
        - **Syslog**: Linux 로깅 시스템 정보
        - **텍스트 로그**: 로컬 디스크의 텍스트 파일
        - **JSON 로그**: 로컬 디스크의 JSON 파일
        - **IIS 로그**: Windows의 IIS 로그
    - **로그 쿼리 작성**: 수집된 데이터를 분석하는 쿼리를 개발하세요. 자세한 내용은 [로그 쿼리 개요](https://learn.microsoft.com/ko-kr/azure/azure-monitor/logs/log-query-overview)를 참조하세요.
    - **경고 설정**: 로그와 메트릭 데이터를 기반으로 문제 발생 시 알림을 받을 수 있는 경고 규칙을 구성하세요.
    - **메트릭 탐색기 활용**: 중요 메트릭을 정의하고 수집된 데이터를 조사하세요. 자세한 내용은 [메트릭 탐색기 기능](https://learn.microsoft.com/ko-kr/azure/azure-monitor/essentials/metrics-charts)을 참조하세요.
- Azure Monitor 로그(Log Analytics) 작업 영역 디자인
    
    Azure Monitor는 [로그](https://learn.microsoft.com/ko-kr/azure/azure-monitor/logs/data-platform-logs) 데이터를 Azure Monitor 로그 작업 영역에 저장합니다. 작업 영역은 데이터 관리 경계나 지리적 위치 역할을 하는 Azure 리소스로, 데이터 수집 및 집계 컨테이너입니다.
    
    Azure 구독에 여러 작업 영역을 배포할 수 있지만 Microsoft 지침을 따라야 합니다. 작업 영역은 비용 효율적이고 관리 가능하며 확장 가능한 배포를 제공해야 합니다.
    
    ### **Azure Monitor 로그 작업 영역 주요 특성**
    
    다음 특성을 검토하여 Tailwind Traders의 모니터링 솔루션에 적용할 방법을 고려하세요.
    
    - Microsoft 권장 전략에 따라 사용자별 액세스 권한 부여로 데이터 격리 가능
    - 데이터는 테이블로 구성되며, 각 테이블은 리소스별 고유 속성을 가진 다양한 데이터 저장
    - 관리 경계나 지역에 따라 [가격 책정](https://learn.microsoft.com/ko-kr/azure/azure-monitor/logs/manage-cost-storage), [보존](https://learn.microsoft.com/ko-kr/azure/azure-monitor/logs/manage-cost-storage#log-data-retention-and-archive), [데이터 제한](https://learn.microsoft.com/ko-kr/azure/azure-monitor/logs/daily-cap) 설정 가능
    - Azure RBAC로 필요한 액세스 권한만 부여 가능하며, 단일 작업 영역으로 IT 조직 운영 모델 지원
    - 물리적 클러스터에서 호스팅되며, 일일 500GB 이상 데이터 수집 시 전용 클러스터 생성 가능
    
    ### **작업 영역 사용 시 고려사항**
    
    Tailwind Traders 아키텍처에 Azure Monitor 로그 작업 영역 설계 시 고려사항:
    
    - **액세스 제어 전략**: 작업 영역 수 계획 시 고려할 요구사항
        - 글로벌 회사의 데이터 주권/규정 준수 요구사항 확인
        - Azure 리소스와 같은 지역에 배치하여 데이터 전송 비용 절감
        - 부서/비즈니스 그룹별 데이터 접근 요구사항 확인
    - **배포 모델 옵션**: IT 조직의 일반적 작업 영역 배포 모델
        
        
        | 배포 | 설명 |
        | --- | --- |
        | **중앙 집중형** | 중앙 작업 영역에 모든 로그 저장, 팀별 차별화된 액세스 제공, 관리 및 검색 용이, 허브-스포크 모델 |
        | **탈중앙화** | 팀별 작업 영역 생성, 리소스별 로그 분리, 액세스 제어와 리소스 액세스 일치, 로그 연결 어려움 |
        | **하이브리드** | 두 모델 동시 구현, 보안 감사 규정 준수 복잡화, 관리 어려움 |
    - **액세스 모드**: 데이터 접근 방법 및 범위
        
        
        | 액세스 모드 | 설명 |
        | --- | --- |
        | *작업 영역-컨텍스트* | 권한 있는 작업 영역의 모든 로그 검토 가능, Azure Monitor 메뉴에서 접근 |
        | *리소스-컨텍스트* | 특정 리소스 관련 로그만 접근 가능, 리소스 메뉴에서 접근, 세분화된 RBAC 지원 |
    - **Azure RBAC 및 작업 영역**: 작업 영역 연결에 따라 어떤 사용자가 어떤 리소스에 액세스할 수 있는지를 제어(작업 영역 연결로 리소스 접근 제어), 리소스 컨텍스트 로그 모델 사용
    - **스케일링**: 작업 영역은 페타바이트 단위까지 확장 가능하여 분할 필요 없음
    
    ### **권장 사항**
    
    모니터링 및 로깅 솔루션 구현 시 다음 권장사항 검토:
    
    ![Azure Monitor 로그 배포를 디자인하는 방법을 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-solution-to-log-monitor-azure-resources/media/workspace-design-expanded.png)
    
    데이터 주권/규정 준수 요구사항이 없으면 지역 매핑 불필요, Azure 액세스 관리 통합 및 보안 강화
    
    모든 리소스, 모니터링 솔루션 및 인사이트(Application Insights, 가상 머신 인사이트 등)는 수집된 로그 데이터를 IT 조직의 중앙 작업 영역으로 전송하도록 구성됩니다. 여러 팀이 관리하는 인프라 및 앱 로그도 동일한 중앙 작업 영역으로 전송됩니다.
    
    사용자는 자신에게 권한이 부여된 리소스 로그에만 접근할 수 있습니다.
    
    [Azure Policy](https://learn.microsoft.com/ko-kr/azure/governance/policy/overview)로 이 모델을 모든 Azure 리소스에 적용할 수 있습니다. 정책을 정의하여 모든 리소스 로그가 지정된 작업 영역으로 전송되도록 합니다. VM이나 VMSS에서는 기존 정책을 사용해 작업 영역 준수를 평가하고 필요시 수정할 수 있습니다.
    
- Azure 통합 문서 및 Azure Insights를 위한 디자인
    
    Azure Workbooks는 Azure Monitor의 기능입니다. 워크북은 Azure 포털 내에서 데이터 분석을 위한 유연한 캔버스를 제공하며 풍부한 시각적 보고서를 생성할 수 있도록 합니다. 고객은 통합 문서를 사용하여 앱 사용을 탐색하고, 근본 원인 분석을 수행하고, 운영 플레이북 및 기타 많은 작업을 함께 수행합니다.
    
    워크북의 진정한 강점은 단일 보고서 내에서 서로 다른 출처의 데이터를 결합할 수 있는 능력입니다. 리소스 간에 복합 리소스 뷰 또는 조인을 만들 수 있으므로 더 풍부한 데이터와 인사이트를 사용할 수 있으며, 그렇지 않으면 불가능합니다.
    
    ### **Azure Workbooks에 대해 알아두어야 할 것들**
    
    Tailwind Traders는 모니터링 전략에서 Azure Workbooks을 사용하려고 합니다. 통합 문서의 다음과 같은 특징을 생각해 보세요.
    
    - Azure 통합 문서를 사용하면 Azure 전체에서 여러 데이터 원본을 활용하여 통합 대화형 환경으로 결합할 수 있습니다.
    - 통합 문서의 작성자는 수집된 데이터를 변환하여 기본 구성 요소의 가용성, 성능, 사용량 및 전반적인 상태에 대한 인사이트를 제공할 수 있습니다.
    - 가상 머신의 성능 로그를 분석하여 높은 CPU 또는 낮은 메모리 인스턴스를 식별하고 결과를 대화형 보고서에 그리드로 표시할 수 있습니다.
    - 통합 문서는 현재 다음 데이터 원본과 호환됩니다.
        - [로그](https://learn.microsoft.com/ko-kr/azure/azure-monitor/visualize/workbooks-data-sources)
        - [메트릭](https://learn.microsoft.com/ko-kr/azure/azure-monitor/visualize/workbooks-data-sources)
        - Azure Resource Graph
        - [경고](https://learn.microsoft.com/ko-kr/azure/azure-monitor/visualize/workbooks-data-sources)
        - [워크로드 상태](https://learn.microsoft.com/ko-kr/azure/azure-monitor/visualize/workbooks-data-sources)
        - Azure Resource Health
        - [Azure Data Explorer](https://learn.microsoft.com/ko-kr/azure/azure-monitor/visualize/workbooks-data-sources)
    
    ### **Azure 인사이트 및 워크북**
    
    조직의 평판은 시스템의 성능, 안정성 및 보안에 따라 달라집니다. 사용자에게 영향을 미치기 전에 시스템을 면밀히 모니터링하여 성능 문제 또는 공격을 식별하는 것이 중요합니다. 대용량 휴일 판매 기간 동안 결제 시스템이 사용자 트랜잭션을 처리할 수 없는 경우 고객은 비즈니스에 대한 신뢰를 잃을 수 있습니다.
    
    효과적인 모니터링 솔루션을 위해 리소스 및 앱에 대한 Azure 인사이트를 Azure 통합 문서와 결합합니다.
    
    ### **Azure 인사이트에 대해 알아야 할 사항**
    
    Azure 인사이트는 Tailwind Traders 아키텍처에서 성능 문제를 식별하는 데 도움이 될 수 있습니다. 인사이트에 대한 이러한 특징을 고려합니다.
    
    - Azure 인사이트는 특정 애플리케이션 및 서비스에 대한 사용자 지정 모니터링 환경을 제공합니다.
    - Azure 인사이트는 로그와 메트릭을 모두 수집하고 분석합니다.
    - 많은 인사이트가 Azure Monitor의 기능으로 제공됩니다. 다음은 몇 가지 예입니다.
        
        
        | 통찰력 | 설명 |
        | --- | --- |
        | Application Insights | Azure Monitor에서 사용할 수 있는 이 확장 가능한 APM(애플리케이션 성능 관리) 서비스를 사용하여 모든 플랫폼에서 라이브 웹 애플리케이션을 모니터링합니다. |
        | [컨테이너 인사이트](https://learn.microsoft.com/ko-kr/azure/azure-monitor/containers/container-insights-overview) | AKS(Azure Kubernetes Service)에서 호스트되는 Azure Container Instances 또는 관리되는 Kubernetes 클러스터에 배포된 컨테이너 워크로드의 성능을 확인합니다. |
        | [네트워크 인사이트](https://learn.microsoft.com/ko-kr/azure/azure-monitor/insights/network-insights-overview) | 모든 네트워크 리소스의 상태 및 메트릭에 대한 포괄적인 정보를 가져옵니다. 고급 검색 기능을 사용하여 리소스 종속성을 식별합니다. 웹 사이트 이름으로 검색하여 웹 사이트를 호스트하는 리소스를 찾습니다. |
        | [리소스 그룹 인사이트](https://learn.microsoft.com/ko-kr/azure/azure-monitor/insights/resource-group-insights) | 리소스 그룹 전체의 상태 및 성능에 대한 컨텍스트를 제공하면서 개별 리소스에서 발생하는 문제를 심사하고 진단합니다. |
        | 가상 머신 인사이트 | Azure Virtual Machines, Virtual Machine Scale Sets 및 기타 가상 머신을 모니터링합니다. Windows 및 Linux Virtual Machines의 성능 및 상태를 분석하고 다른 리소스 및 외부 프로세스에 대한 프로세스 및 종속성을 모니터링합니다. |
        | [Azure Cache for Redis 인사이트](https://learn.microsoft.com/ko-kr/azure/azure-monitor/insights/redis-cache-insights-overview) | 전반적인 성능, 실패, 용량 및 운영 상태에 대한 통합된 대화형 보고서를 검토합니다. |
        | [Azure Cosmos DB Insights](https://learn.microsoft.com/ko-kr/azure/azure-monitor/insights/cosmosdb-insights-overview) | 통합 대화형 환경에서 모든 Azure Cosmos DB 리소스의 전반적인 성능, 실패, 용량 및 운영 상태에 대한 정보를 가져옵니다. |
        | Azure Key Vault 인사이트 | 키 볼트 요청, 성능, 실패 및 지연 시간에 대한 통합 보고서를 사용하여 키 볼트를 모니터링합니다. |
        | [Azure Storage Insights](https://learn.microsoft.com/ko-kr/azure/storage/common/storage-insights-overview?toc=/azure/azure-monitor/toc.json) | 스토리지 성능, 용량 및 가용성에 대한 통합 보고서를 통해 스토리지 계정에 대한 포괄적인 모니터링을 수행합니다. |
    
    ### **Azure 인사이트 및 통합 문서를 사용할 때 고려해야 할 사항**
    
    Tailwind Traders는 모니터링 전략에서 Azure 인사이트 및 통합 문서를 사용하는 데 관심이 있습니다. Azure 환경 및 비즈니스 요구 사항에 따라 어떤 권장 사항을 제안하시겠습니까? 계획을 준비할 때 이러한 사항을 고려합니다.
    
    - **Azure 워크북을 고려하십시오**. Tailwind Traders 앱을 Azure 통합 문서에서 사용하는 방법을 알아보세요. 인시던트에 대한 근본 원인 분석을 조사하고 팀을 위한 운영 플레이북을 구성합니다.
    - **Azure 인사이트 및 데이터 분석을 고려합니다**. Tailwind Traders 앱 및 서비스에 대한 사용자 지정 모니터링 환경을 위한 Azure 인사이트를 포함합니다. 네트워크, VM 및 기타 Azure 리소스에 대한 인사이트를 검토합니다. Workbooks에서 로그 및 메트릭 데이터를 수집하고 분석합니다.
    - **결합된 데이터 원본 및 시각적 보고를 고려합니다**. Tailwind Traders 원본의 데이터를 단일 보고서에 결합합니다. 보다 강력한 데이터와 더 큰 인사이트를 위한 복합 리소스 뷰를 만듭니다. Azure Portal 내에서 다양한 시각적 보고서를 준비합니다.
- Azure Data Explorer를 위한 설계
    
    [Azure Data Explorer](https://learn.microsoft.com/ko-kr/azure/data-explorer/data-explorer-overview)는 대용량 데이터를 거의 실시간으로 분석하는 데 도움이 되는 빅 데이터용 플랫폼입니다. Azure Data Explorer에는 데이터 수집 및 관리, 쿼리 실행, 시각화 생성을 위한 엔드투엔드 솔루션을 구성하는 데 도움이 되는 기능이 포함되어 있습니다.
    
    ### **Azure Data Explorer에 대해 알아야 할 사항**
    
    Tailwind Traders에 대한 모니터링 솔루션을 개선하는 데 도움이 될 수 있는 Azure Data Explorer의 다음 특성을 고려합니다.
    
    - Azure 데이터 탐색기는 로그 및 원격 분석 데이터에 사용 가능한 빠르고 확장성이 우수한 데이터 탐색 서비스입니다.
    - Azure Data Explorer를 사용하면 여러 데이터 스트림을 처리할 수 있으므로 모든 리소스에서 데이터를 수집, 저장 및 분석할 수 있습니다.
    - 웹 사이트, 애플리케이션, IoT 디바이스 등과 같은 데이터 원본의 다양한 대규모 데이터를 분석합니다.
    - 진단, 모니터링, 보고, 기계 학습 및 기타 분석 작업에 Azure Data Explorer를 사용합니다.
    
    ### **Azure Data Explorer를 사용할 때 고려해야 할 사항**
    
    다음 다이어그램은 Microsoft Sentinel 및 Azure Monitor와 통합된 하이브리드 엔드투엔드 모니터링 솔루션을 보여줍니다. 이 구성은 엔터프라이즈 에코시스템 내의 여러 원본, 온-프레미스 또는 클라우드에서 스트리밍되고 일괄 처리된 로그를 수집합니다. Tailwind Traders 아키텍처에서 이 솔루션을 구현하여 다양한 로그를 모니터링하는 방법을 고려합니다.
    
    ![다양한 원본에서 스트리밍 및 일괄 처리된 로그를 수집하기 위해 Azure Monitor와 통합된 엔드투엔드 모니터링 솔루션의 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-solution-to-log-monitor-azure-resources/media/azure-data-explorer.png)
    
    - **Azure Monitor의 네이티브 기능을 고려합니다**. Azure Monitor의 네이티브 기능을 구현하여 Tailwind Traders IT 자산을 모니터링하고, 대시보드에서 작업을 실행 및 모니터링하고, VM 및 서비스에서 로그를 수집하도록 경고를 설정합니다.
    - **Microsoft Sentinel의 기능을 고려합니다**. Microsoft Sentinel의 기능과 Azure Data Explorer가 있는 Azure Monitor에서 제공하는 기능을 결합하여 Tailwind Traders를 위한 유연하고 비용 최적화된 엔드투엔드 모니터링 솔루션을 구축할 수 있습니다.
    - **Azure Data Explorer의 장점을 고려합니다**. 다음 시나리오의 모든 측면 및 로그 유형에 대해 Azure Data Explorer에서 제공하는 유연성과 제어를 활용합니다.
        - Microsoft Sentinel 및 Azure Monitor SaaS 솔루션은 애플리케이션 추적 로그와 같은 특정 시나리오에 대한 기본 지원을 제공하지 않습니다. Azure Data Explorer를 사용하면 Tailwind Traders의 모든 측면과 모든 유형의 로그에 대한 모니터링 지원을 제공할 수 있습니다.
        - Azure Data Explorer는 빠르고 간편한 근 실시간 분석 대시보드, 패턴 인식 및 [시계열 분석](https://learn.microsoft.com/ko-kr/azure/data-explorer/time-series-analysis)을 빌드하는 데 더 큰 유연성을 제공합니다. 이 도구는 세부적인 역할 기반 액세스 제어, [변칙 검색 및 예측](https://learn.microsoft.com/ko-kr/azure/data-explorer/anomaly-detection), 그리고 기계 학습을 지원합니다.
        - Azure Data Explorer는 Databricks 및 Azure Machine Learning과 같은 ML 서비스와 잘 통합됩니다. 다른 도구와 서비스를 사용하여 Tailwind Traders를 위한 모델을 빌드하고 ML 모델을 Azure Data Explorer로 내보내 점수를 매길 수 있습니다.
        - Azure Data Explorer는 비용 효율적인 방식으로 장기간 데이터 보존을 지원합니다.
        - Azure Data Explorer는 통합 빅 데이터 분석 플랫폼으로, 고급 분석 시나리오를 구축할 수 있습니다. 다양한 유형의 로그에 대한 중앙 집중식 Tailwind Traders 리포지토리를 가질 수 있습니다.

---

### 고가용성 및 재해 복구 전략 설명

- 복구 지점 목표 및 복구 시간 목표 설명
    
    ### **고가용성 및 재해 복구(HADR)의 핵심: RTO 및 RPO**
    
    고가용성 및 재해 복구(HADR) 계획을 수립할 때, **복구 시간 목표(RTO)**와 **복구 지점 목표(RPO)**를 이해하는 것은 매우 중요합니다. 이 두 가지 목표는 가용성 솔루션의 토대가 됩니다.
    
    ### **복구 시간 목표 (RTO, Recovery Time Objective)**
    
    **RTO**는 시스템 또는 리소스에 문제가 발생한 후 다시 온라인 상태로 전환하는 데 걸리는 **최대 허용 시간**입니다. 이 시간을 초과하면 재정적 손실이나 업무 중단 같은 심각한 결과를 초래할 수 있습니다.
    
    - **정의**: 전체 솔루션은 물론 SQL Server 인스턴스나 개별 데이터베이스와 같은 개별 구성 요소에 대해서도 RTO를 설정할 수 있습니다.
    - **전체 RTO**: 전체 시스템의 RTO는 복구하는 데 가장 오래 걸리는 구성 요소에 의해 결정됩니다. 예를 들어, SQL Server가 5분 안에 복구되더라도 애플리케이션 서버가 20분 걸린다면, 전체 RTO는 20분입니다.
    
    ### **복구 지점 목표 (RPO, Recovery Point Objective)**
    
    **RPO**는 데이터 손실이 발생할 경우, 비즈니스에서 허용할 수 있는 **최대 데이터 손실량**을 의미합니다. 이는 데이터를 복구해야 하는 시점을 결정하는 기준이 됩니다.
    
    - **예시**: SQL Server 인스턴스의 RPO가 15분이라면, 시스템 중단 시 최대 15분 분량의 데이터 손실을 감수하겠다는 의미입니다. 즉, 데이터베이스는 중단 시점으로부터 15분 이내의 시점으로 복구되어야 합니다.
    - **달성 요인**: RPO는 HADR 솔루션의 설계와 관리 정책에 직접적인 영향을 받습니다. 예를 들어, 트랜잭션 로그 백업이 30분마다 이루어지는데 RPO가 15분이라면, RPO 목표를 달성할 수 없습니다.
    
    ### **RTO 및 RPO 정의 시 고려사항**
    
    RTO와 RPO는 비즈니스 요구사항과 기술적 요소를 모두 고려하여 현실적으로 설정해야 합니다.
    
    - **가동 중지 시간 비용**: 가동 중지 시간으로 인한 재정적 손실을 파악하면 현실적인 목표를 세우는 데 도움이 됩니다. HADR 솔루션에 대한 투자는 가동 중지 시간 비용과 비례해야 합니다.
    - **솔루션 선택**: Always On 가용성 그룹(AG)이나 장애 조치 클러스터 인스턴스(FCI)와 같은 HADR 솔루션은 RTO와 RPO에 직접적인 영향을 미칩니다. 선택한 솔루션이 정의된 목표를 지원하는지 확인해야 합니다.
    - **HA vs. DR**:
        - **고가용성(HA)**: Azure 지역 내 AG 장애 조치와 같이 지역화되고 복구가 빠른 이벤트입니다. RTO는 몇 초 정도로 짧을 수 있습니다.
        - **재해 복구(DR)**: 다른 데이터 센터로의 복구와 같이 복구에 몇 시간 이상이 소요될 수 있습니다. HA와 DR에 대한 RTO와 RPO는 다르게 정의해야 합니다.
    - **문서화 및 테스트**: 모든 RTO 및 RPO 목표는 문서화하고 정기적으로 수정해야 합니다. 또한, 백업 및 복구 프로세스를 주기적으로 테스트하여 안정성을 보장해야 합니다.
- 고가용성 및 재해 복구 옵션 살펴보기
    
    VM 솔루션 구현 전 IaaS 배포의 가용성 옵션을 이해해야 합니다.
    
    ## **IaaS와 PaaS 비교**
    
    가용성 측면에서 IaaS와 PaaS 선택에 따라 결과가 달라집니다. IaaS는 SQL Server를 설치할 운영 체제가 있는 VM을 제공하며, 관리자가 HADR 솔루션 선택과 구성을 효과적으로 제어할 수 있습니다.
    
    Azure SQL Database 같은 PaaS는 HADR 솔루션이 기본 제공되어 활성화만 하면 되며, 구성 옵션이 제한적입니다.
    
    이러한 차이로 IaaS와 PaaS 선택에 따라 HADR 솔루션 설계가 달라집니다.
    
    ## **Azure VM용 SQL Server HADR 기능**
    
    IaaS에서는 SQL Server 기능을 활용해 가용성을 높일 수 있으며, Azure 수준 기능과 결합도 가능합니다.
    
    SQL Server에서 사용 가능한 솔루션은 다음과 같습니다.
    
    | **기능 이름** | **보호** |
    | --- | --- |
    | Always On FCI(장애 조치(failover) 클러스터 인스턴스) | 인스턴스 |
    | Always On AG(가용성 그룹) | Database |
    | 로그 전달 | Database |
    
    SQL Server 인스턴스는 로그인, 에이전트 작업, 데이터베이스를 포함한 전체 설치입니다. 인스턴스 수준 보호는 전체 인스턴스가 가용성 기능에 포함됨을 의미합니다.
    
    데이터베이스 수준 보호는 데이터베이스 내용과 트랜잭션 로그에 캡처된 항목만 가용성 기능에 포함됩니다. 에이전트 작업이나 연결된 서버 같은 외부 항목은 장애 조치 시 수동 처리가 필요합니다.
    
    FCI와 AG 모두 클러스터 메커니즘이 필요하며, Windows Server에서는 WSFC, Linux에서는 Pacemaker를 사용합니다.
    
    ## **AlwaysOn 장애 조치 클러스터 인스턴스**
    
    FCI는 SQL Server 설치 시 구성되며, 고유한 이름과 IP를 갖습니다. 애플리케이션은 FCI 이름으로 접근하여 인스턴스 위치를 알 필요가 없습니다. Azure FCI는 내부 부하 분산 장치(ILB)가 필요합니다.
    
    FCI 장애 조치 시 전체 인스턴스가 다른 노드에서 재시작되므로 SQL Server가 완전히 중단되었다 시작됩니다. 연결된 애플리케이션은 중단되며 자체 복구 기능이 있는 앱만 자동 재연결됩니다.
    
    장애 조치 후 복구 과정에서 데이터 일관성을 유지하여 손실이 없습니다. 인스턴스 수준 보호로 모든 구성요소가 준비되어 있어 데이터베이스 복구 후 바로 작업 재개가 가능합니다.
    
    FCI는 단일 데이터베이스 복사본을 사용하며 공유 스토리지가 필요합니다. Windows Server에서는 Azure 프리미엄 파일, iSCSI, 공유 디스크, S2D 등을 사용할 수 있습니다. Standard Edition은 최대 2개 노드를 지원하며, FCI는 AD DS와 DNS가 필요합니다.
    
    Windows Server FCI는 스토리지 복제본으로 별도 기능 없이 재해 복구를 구현할 수 있습니다.
    
    ## **Always On 가용성 그룹**
    
    AG는 SQL Server 2012 Enterprise에 도입되었고 2016부터 Standard에서도 사용 가능합니다. Standard는 단일 DB, Enterprise는 다중 DB를 지원하며, FCI와 유사점이 있지만 여러 면에서 다릅니다.
    
    AG는 데이터베이스 수준 보호를 제공합니다. 주 복제본은 읽기/쓰기, 보조 복제본은 트랜잭션을 동기화합니다. Standard는 2개(주1, 보조1), Enterprise는 9개(주1, 보조8) 복제본을 지원합니다. 보조 복제본은 백업이나 자동 시드로 초기화됩니다.
    
    AG는 리스너로 추상화를 제공하며 고유 이름과 IP를 가집니다. Enterprise에서는 보조 복제본을 읽기 전용으로 구성하여 DBCC나 백업에 활용할 수 있습니다.
    
    AG는 FCI보다 빠른 장애 조치 시간을 제공하고 공유 스토리지가 필요 없지만, 각 복제본이 데이터 사본을 유지하므로 전체 스토리지 비용이 증가합니다.
    
    데이터베이스 외부 항목은 새 주 복제본에서 수동 생성이 필요합니다. Windows 인증이나 포함 DB를 사용하면 액세스가 간소화됩니다.
    
    조직은 고가용성 구현이 어려울 수 있으며, Azure 플랫폼이나 Azure SQL Managed Instance 같은 PaaS의 고가용성만 필요할 수도 있습니다.
    
    ## **로그 전달**
    
    로그 전달은 SQL Server의 기본 기능으로, 백업-복사-복원 방식을 사용해 HADR을 구현하는 간단한 방법입니다. 주로 재해 복구용이지만 로컬 가용성도 향상시킵니다.
    
    AG처럼 데이터베이스 수준 보호를 제공하므로 외부 개체 고려가 필요합니다. 네이티브 추상화가 없어 서버 전환 시 이름 변경이 필요하지만, DNS 별칭으로 완화할 수 있습니다.
    
    로그 전달은 원본 DB 백업을 보조 서버에 STANDBY나 NORECOVERY로 복원하고, 트랜잭션 로그를 자동으로 백업-복사-복원합니다.
    
    SQL Server HADR 외에도 Azure 기능으로 IaaS 가용성을 향상할 수 있습니다.
    
- Azure Virtual Machines용 Azure 고가용성 및 재해 복구 기능 설명
    
    Azure는 IaaS 배포의 가용성을 높이는 세 가지 주요 옵션을 제공합니다.
    
    - 가용성 집합
    - 가용성 영역
    - Azure 사이트 복구
    
    이 옵션들은 모두 VM 외부에 있으며 VM 내 워크로드 유형을 인식하지 못합니다.
    
    ## **가용성 집합**
    
    가용성 집합은 Azure 유지관리나 단일 데이터 센터의 장애 발생 시에도 가동 시간을 보장합니다. Azure에 도입된 첫 가용성 기능으로, VM에 대한 반선호도 역할을 합니다. 즉, 가용성 집합의 SQL Server VM은 동일 물리 서버에서 실행되지 않습니다.
    
    ![장애 도메인 및 업데이트 도메인](https://learn.microsoft.com/ko-kr/training/wwl-data-ai/describe-high-availability-disaster-recovery-strategies/media/module-77-high-availability-final-01.png)
    
    Azure 가용성 집합은 VM을 장애 도메인으로 분리하고 업데이트 도메인을 활용해 안정성을 높입니다. 장애 도메인은 동일 전원과 네트워크를 공유하는 서버 그룹입니다. 데이터 센터는 최대 3개의 장애 도메인(*FD 0, 1, 2*)을 가질 수 있으며, 업데이트 도메인(UD)은 동시에 재부팅 가능한 물리 하드웨어 그룹입니다. Azure는 VM을 여러 업데이트 도메인에 배포해 서비스 연속성을 유지합니다.
    
    가용성 집합과 영역은 OS나 RDBMS 충돌 같은 내부 오류를 방지하지 못합니다. RTO와 RPO 충족을 위해서는 AG나 FCI 같은 추가 솔루션이 필요합니다. 두 옵션 모두 데이터 센터 장애, 하드웨어 오류, 네트워크 중단, 전력 차단 같은 Azure 환경 문제의 영향을 최소화합니다.
    
    다중 계층 애플리케이션에서는 각 계층을 별도 가용성 집합에 배치해야 합니다. 예를 들어, SQL Server 백엔드와 AD DS가 있는 웹 앱을 구축할 때는 각 계층(웹, 데이터베이스, AD DS)별로 가용성 집합을 생성할 수 있습니다.
    
    가용성 집합 외에도 Azure는 가용성 영역을 제공하지만, 두 옵션을 함께 사용할 수는 없습니다.
    
    ## **가용성 영역**
    
    가용성 영역은 Azure의 데이터 센터 수준 오류를 처리합니다. Azure 지역은 낮은 지연 시간으로 연결된 여러 데이터 센터로 구성됩니다. 가용성 영역 지원 지역에서는 VM 리소스를 영역 1, 2, 3 중 하나에 배포할 수 있으며, 각 영역은 Azure 지역 내 고유한 물리적 위치입니다.
    
    영역 번호는 논리적 표현으로, 서로 다른 구독자가 영역 1에 VM을 배포해도 동일한 물리 데이터 센터에 있지 않을 수 있습니다. 거리로 인한 약간의 지연 시간이 발생할 수 있으나, 대부분 왕복 지연 시간은 1ms 미만으로 동기 데이터 이동을 지원합니다. Azure SQL Database도 가용성 영역에 배포 가능합니다.
    
    ## **Azure 사이트 복구**
    
    Azure Site Recovery는 VM 수준에서 향상된 가용성을 제공하며, VM을 한 지역에서 다른 지역으로 복제해 재해 복구 솔루션을 구축합니다. 이 기능은 VM 내 SQL Server 실행이나 트랜잭션을 인식하지 못합니다. RTO는 충족할 수 있으나 SQL Server 데이터 위치를 고려하지 않아 RPO는 충족하지 못할 수 있습니다. 월간 RTO는 2시간으로 지정되어 있으며, RTO/RPO 요구사항을 충족한다면 효과적인 솔루션이 될 수 있습니다.
    
- PaaS 배포를 위한 고가용성 및 재해 복구에 대해 설명
    
    PaaS는 Azure에서 제공하는 옵션만 구성할 수 있어 가용성에 독특한 특징이 있습니다.
    
    Azure SQL Database와 Azure SQL Managed Instance는 활성 지역 복제(Database만) 및 자동 장애 조치 그룹을 제공합니다.
    
    Azure SQL Database는 99.99% 가용성을 보장합니다. 하드웨어 오류 발생 시 기본 장애 조치 메커니즘이 작동하고, 트랜잭션 변경사항은 커밋 시 동기적으로 저장됩니다. 노드 중단 시 서버가 자동으로 새 노드를 생성하고 데이터를 연결합니다.
    
    애플리케이션은 노드 전환 과정에서 연결이 삭제되고 진행 중인 트랜잭션이 손실되므로 재시도 로직이 필요합니다. 이는 클라우드 애플리케이션의 모범 사례입니다.
    
    Azure SQL 서비스는 읽기 복제본 생성 옵션을 제공해 보고 작업을 주 데이터베이스에서 분산시키고, 다른 지역에 배치해 지역 장애 시에도 데이터 접근성을 확보합니다.
    
    ## **데이터베이스 가용성**
    
    Azure SQL 서비스에서는 `OFFLINE`이나 `EMERGENCY` 상태 설정이 불가능합니다. `OFFLINE`은 연결 불가로 부적절하며, `EMERGENCY`는 Azure가 관리하므로 불필요합니다. `RESTRICTED_USER`와 DAC는 허용됩니다.
    
    ADR은 기본 제공되어 트랜잭션 로그를 효율적으로 관리하고 PVS를 활용합니다. 이로써 장기 실행 트랜잭션 문제를 해결하고 빠른 데이터베이스 복구가 가능합니다.
    
    ADR은 데이터베이스 가용성을 크게 높이는 SLA의 핵심 요소로, 기본 활성화되어 있으며 비활성화할 수 없습니다.
    
    ## **데이터베이스 일관성**
    
    데이터와 백업은 로컬 및 여러 영역에 중복 저장됩니다. 정기적인 무결성 검사로 *손실된 쓰기*와 *부실 읽기*를 감지합니다. `DBCC CHECKDB`를 실행할 수 있고 `CHECKSUM`은 기본 활성화됩니다. 백엔드에서 자동 페이지 복구가 수행되며 무결성 오류가 모니터링됩니다. 영향이 없으면 무통보 복구, 있으면 사전 알림이 제공됩니다.
    
- IaaS에 대한 고가용성 및 재해 복구 솔루션 살펴보기
    
    Azure IaaS에 배포 가능한 다양한 SQL Server HADR 구성이 있습니다. 여기서는 5가지 주요 아키텍처를 살펴봅니다.
    
    ## **단일 지역 고가용성 예제 1 – Always On 가용성 그룹**
    
    고가용성만 필요한 경우, AG는 SQL Server에서 가장 보편적인 방법입니다. 다음은 단일 지역 AG 구성 예시입니다.
    
    ![단일 지역의 가용성 그룹](https://learn.microsoft.com/ko-kr/training/wwl-data-ai/describe-high-availability-disaster-recovery-strategies/media/module-77-high-availability-final-02.png)
    
    - 여러 VM에 데이터 복사본을 분산하여 보호
    - 최소한의 to-no 데이터 손실로 RTO(복구 시간 목표)/RPO(복구 지점 목표) 충족
    - 주/보조 복제본에 대한 쉽고 표준화된 접근 방식
    - 패치 시 가용성 향상
    - 공유 스토리지 불필요로 FCI(장애조치 크러스터 인스턴스)보다 단순한 구성(복잡도가 낮다)
    
    ## **단일 지역 고가용성 예제 2 – Always On 장애 조치(failover) 클러스터 인스턴스**
    
    AG 이전에는 FCI가 주요 고가용성 방식이었습니다. 물리적 환경용으로 설계되어 Azure VM 환경에서는 보호 수준이 낮습니다. 그러나 적절한 기대치를 가지고 사용하면 여전히 유효한 솔루션입니다.
    
    ![image.png](AZ-305%20(25%2008%2022)/image%201.png)
    
    - 널리 사용되는 가용성 솔루션(인기있음)
    - 공유 스토리지 스토리는 Azure Shared Disk 등으로 지속 개선
    - 대부분의 RTO/HA용 RPO 충족(DR은 안됨)
    - SQL Server 클러스터에 대한 쉽고 표준화된 접근성
    - 패치 중 가용성 향상
    
    ## **재해 복구 예제 1 – 다중 지역/하이브리드 Always On 가용성 그룹**
    
    AG를 여러 Azure 지역 또는 하이브리드 환경에 구성할 수 있습니다. 모든 노드가 동일한 WSFC에 참여하며, 좋은 네트워크 연결이 필요합니다. 감시 리소스와 모든 지역에서 AD DS 및 DNS 가용성이 중요합니다.
    
    ![image.png](AZ-305%20(25%2008%2022)/image%202.png)
    
    - 검증된 솔루션으로 기존 데이터센터 구성과 유사
    - SQL Server 표준/엔터프라이즈 버전 지원
    - 데이터 추가 복사본과 데이터 중복성 제공
    - HA와 D/R을 모두 제공하는 단일 기능으로 해결
    
    ## **재해 복구 예제 2 – 분산 가용성 그룹**
    
    SQL Server 2016 엔터프라이즈 전용 기능으로, 여러 AG로 구성됩니다. 글로벌 주 복제본은 AG 1의 보조 복제본과 AG 2의 전달자를 동기화합니다. 각 클러스터는 자체 쿼럼을 유지하여 관리가 용이합니다.
    
    ![image.png](AZ-305%20(25%2008%2022)/image%203.png)
    
    - WSFC를 단일 실패 지점에서 분리
    - 주 복제본이 모든 보조 복제본을 직접 동기화하지 않음
    - 위치 간 장애 복구 지원
    
    ## **재해 복구 예제 3 – 로그 전달**
    
    오래된 HADR 방식으로, 트랜잭션 로그 백업 단위로 작동합니다. 웜 대기로 전환하지 않으면 일부 데이터 손실 가능성이 있습니다.
    
    ![image.png](AZ-305%20(25%2008%2022)/image%204.png)
    
    이점:
    
    - 20년 이상 검증된 기능
    - 백업/복원 기반으로 쉬운 관리
    - 불안정한 네트워크에서도 작동
    - DR용 RTO/RPO 목표 충족
    - FCI 보호에 적합
    
    ## **재해 복구 예제 4 - Azure Site Recovery**
    
    SQL Server 기반 DR 솔루션을 원치 않는 경우의 대안입니다. 데이터 전문가들은 RPO가 낮기 때문 데이터베이스 중심 접근법을 선호합니다.
    
    ![image.png](AZ-305%20(25%2008%2022)/image%205.png)
    
    이점:
    
    - SQL Server 이상 시스템 지원
    - RTO/RPO 요구사항 충족
    - Azure 플랫폼의 일부로 제공됨
- 하이브리드 솔루션 설명
    
    지금까지 RTO(복구 시간 목표) 및 RPO(복구 지점 목표)뿐만 아니라 가용성을 향상시키는 SQL Server와 Azure의 다양한 기능을 살펴보았습니다. 이제는 관련 기능을 모두 종합하여 HADR(고가용성 및 재해 복구) 요구 사항을 충족하는 솔루션을 설계할 수 있습니다.
    
    온-프레미스와 Azure 모두에 걸쳐 실행되거나 Azure에서 다른 퍼블릭 클라우드로 넘어가 실행되는 솔루션 아키텍처를 하이브리드 솔루션이라고 합니다.
    
    기본적으로 PaaS 솔루션은 기존 하이브리드 솔루션을 허용하도록 설계되지 않았습니다. HADR은 Azure 인프라에서 제공됩니다. 여기에는 몇 가지 예외 사항이 있습니다. 예를 들어 SQL Server의 트랜잭션 복제 기능은 온-프레미스(또는 다른 클라우드)에 있는 게시자로부터 Azure SQL Managed Instance 구독자에게 전달되도록 구성할 수 있지만 반대 방향으로 구성할 수는 없습니다.
    
    따라서 하이브리드 솔루션은 기존 인프라를 사용하기 때문에 IaaS 기반입니다. 하이브리드 솔루션은 효용성이 큽니다. 하이브리드 아키텍처는 Azure로 마이그레이션하는 데 사용할 수 있을 뿐 아니라 가장 일반적으로는 온-프레미스 시스템에 강력한 재해 복구 솔루션을 만드는 데 사용할 수 있습니다. 예를 들어 AG의 보조 복제본을 Azure에 추가할 수 있습니다. 즉, AD DS 및 DNS와 같은 관련 인프라가 모두 존재해야 합니다.
    
    Azure로 확장되는 하이브리드 HADR 솔루션과 관련하여 가장 중요한 고려 사항은 바로 네트워킹입니다. 대역폭이 적합하지 않으면 RTO 및 RPO를 충족할 수 없습니다. Azure에는 ExpressRoute라는 빠른 네트워킹 옵션이 있습니다. ExpressRoute가 회사에서 구현할 수 있거나 구현할 수 없는 경우 Azure VM이 온-프레미스 인프라의 확장 역할을 하도록 보안 사이트 및 사이트 간의 VPN을 구성합니다. IaaS VM은 퍼블릭 인터넷에 직접 노출하지 않는 것이 좋습니다.
    
    Azure는 전통적인 의미의 하이브리드는 아니지만 데이터베이스 백업의 대상뿐만 아니라 백업용 보관 스토리지 겸 콜드 스토리지로 사용할 수도 있습니다.
    

### 백업 및 재해 복구를 위한 솔루션 설계

- 백업 및 복구를 위한 설계
    
    Tailwind Traders와 같은 조직은 업무상 중요한 앱에 높은 안정성이 필요합니다. 온-프레미스 환경에서는 서버와 스토리지 같은 추가 컴퓨팅 리소스를 구매하여 중복성을 구축합니다.
    
    중요 업무용 앱과 데이터는 오류 후 복구 기능이 필수적이며, 이는 주로 백업 및 복원 절차로 구현됩니다. Azure 호스팅 또는 하이브리드 앱의 경우 다른 옵션이 있습니다.
    
    신뢰할 수 있는 앱은 다음과 같습니다:
    
    - 구성 요소 오류에 대한 복원력이 뛰어남
    - 가용성이 높고 심각한 중단 없이 작동 가능
    
    이 비디오는 백업 및 복구 전략 계획의 중요성을 설명합니다.
    
    ### **요구 사항 정의하기**
    
    요구 사항 정의:
    
    - 비즈니스 요구 사항 식별
    - 복원력 계획 수립
    
    아래 표는 이 프로세스에 대한 지침을 제공합니다.
    
    | **고려 사항** | **설명** |
    | --- | --- |
    | 워크로드와 용도가 어떻게 되나요? | 워크로드는 비즈니스 논리와 데이터 스토리지 측면에서 고유한 기능입니다. 워크로드별로 가용성, 성능, 데이터 일관성 및 재해 복구 요구 사항이 다를 수 있습니다. |
    | 워크로드에 대한 사용 패턴이 어떻게 되나요? | 사용 패턴에 따라 요구 사항이 결정됩니다. 중요/비중요 기간의 차이점을 파악하고, 필요에 따라 다중 지역 중복성을 계획하거나 비용 절감을 위해 단일 지역 실행을 고려합니다. |
    | 가용성 메트릭이란? | MTTR(평균 복구 시간)과 MTBF(평균 장애 간격)가 주요 메트릭입니다. MTBF는 장애 간 예상 작동 기간, MTTR은 복구에 필요한 평균 시간입니다. 이 메트릭으로 중복성 필요 위치를 파악하고 SLA를 결정합니다. |
    | 복구 메트릭이란? | RTO(복구 시간 목표)는 인시던트 후 허용 가능한 최대 중단 시간입니다. RPO(복구 지점 목표)는 허용되는 최대 데이터 손실 기간입니다. RLO(복구 수준 목표)는 복구 세분성을 결정합니다. 적절한 값 설정을 위해 위험 평가가 필요합니다. |
    | 워크로드 가용성 목표란? | 비즈니스 요구 사항 충족을 위해 워크로드별 대상 SLA를 정의합니다. 가용성 요구 사항을 충족하는 데 필요한 비용과 복잡성도 고려합니다. |
    | SLA란 무엇일까요? | Azure에서 SLA는 작동 시간 및 연결에 대한 Microsoft 정책입니다. SLA 99.9%는 시간의 99.9% 동안 서비스 이용 가능을 의미합니다. |
    
    **팁)** 고가용성 환경에서 중요 구성 요소의 MTTR이 시스템 RTO를 초과하면 허용할 수 없는 비즈니스 중단이 발생할 수 있습니다.
    
    각 워크로드별로 고유한 대상 SLA를 정의하여 아키텍처가 비즈니스 요구 사항을 충족하는지 확인합니다. 예를 들어 99.99% 작동 시간이 필요한 워크로드가 99.9% SLA 서비스에 의존한다면, 해당 서비스는 단일 실패 지점이 될 수 없습니다.
    
    복구 요구 사항을 정의한 후 적합한 복구 기술을 선택할 수 있습니다.
    
- Azure Backup을 위한 설계
    
    Azure Backup은 Azure 리소스를 장단기 스토리지에 활용합니다. 이를 통해 테이프, 하드 드라이브, DVD와 같은 물리적 백업 미디어 사용을 최소화하거나 완전히 제거할 수 있습니다.
    
    ![온-프레미스 및 클라우드 에이전트가 있는 Azure Backup 서비스를 보여주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-solution-for-backup-disaster-recovery/media/azure-backup-overview.png)
    
    ### **Azure Backup 핵심 사항**
    
    Azure Backup은 다양한 구성 요소를 제공하며, 이는 보호 대상에 따라 적절한 환경에 배포할 수 있습니다. 다음 표는 주요 백업 유형을 요약합니다.
    
    | 백업 유형 | 설명 |
    | --- | --- |
    | **온-프레미스** | MARS 에이전트로 파일, 폴더, 시스템 상태를 백업. DPM이나 MABS 에이전트로 VM(Hyper-V, VMware)과 기타 워크로드 보호. |
    | **Azure Virtual Machines** | 백업 확장으로 전체 VM 백업 또는 MARS 에이전트로 파일, 폴더, 시스템 상태 백업. |
    | **Azure 파일** | 스토리지 계정에 Azure 파일 공유 백업. |
    | **Azure VM의 SQL Server** | Azure VM에서 실행 중인 SQL Server DB 백업. |
    | **Azure VM의 SAP HANA DB** | Azure VM에서 실행 중인 SAP HANA DB 백업. |
    | **Microsoft 클라우드** | 기존 백업 솔루션을 안정적이고 안전하며 비용 효율적인 클라우드 솔루션으로 대체. |
    
    ### **Azure Backup 스토리지 자격 증명 모음**
    
    Azure Backup은 백업 데이터를 *자격 증명 모음*이라는 스토리지 엔터티에 구성합니다. 이 모음은 백업, 복구 지점, 정책을 저장하며, Azure Backup과 Azure Recovery Services 두 유형이 있습니다. 주요 차이점은 지원하는 데이터 소스와 Azure 제품입니다.
    
    - **Azure Backup 자격 증명 모음**: Azure Backup 전용으로, PostgreSQL 서버, Blob, 디스크 등을 지원합니다.
    - **Recovery Services 자격 증명 모음**: Backup 또는 Site Recovery에 사용 가능하며, Azure VM, VM의 SQL/SAP HANA, 파일 공유를 지원합니다. Backup Server, 에이전트, DPM에서 백업 가능합니다.
    
    ### **스토리지 자격 증명 모음 고려사항**
    
    Azure Backup 및 자격 증명 모음 스토리지 계획 시 다음을 고려하세요. Tailwind Traders BCDR 요구사항에 맞는 방법을 선택하세요.
    
    - **자격 증명 모음 구성**: 워크로드가 단일 구독/리소스에 있다면 단일 모음 사용. 여러 구독에 분산됐다면 다중 모음 생성. Backup과 Site Recovery에는 별도 모음 사용.
    - **Azure Policy 활용**: 일관된 정책 설정이 필요하면 Azure Policy로 여러 모음에 정책 전파. 백업 정책은 모음 범위로 지정됩니다.
    - **역할 기반 보호**: Azure RBAC로 자격 증명 모음 보호 및 액세스 관리.
    - **중복 고려**: 데이터 복제 방식 지정.
        - LRS: 데이터 센터 오류 대비, 스토리지 배율 단위에 데이터 복제.
        - GRS: 지역 중단 대비, 데이터를 보조 지역에 복제.
- Azure BLOB 백업 및 복구를 위한 설계
    
    Azure Backup은 [Azure Blob용 운영 백업](https://learn.microsoft.com/ko-kr/azure/backup/blob-backup-overview)을 제공합니다. 백업 데이터는 Azure Backup 스토리지가 아닌 원본 Azure Storage 계정에 저장됩니다.
    
    ### **Azure Blob Storage 백업 및 복구 주요 사항**
    
    Azure Blob Storage의 주요 백업 및 복구 기능:
    
    - Azure Blob용 운영 백업은 *지속적인 백업* 솔루션을 제공하여 예약이 불필요합니다.
    - 모든 변경 내용은 지정 기간 동안 유지되며 선택한 시점부터 복원 가능합니다.
    - [일시 삭제 기능](https://learn.microsoft.com/ko-kr/azure/backup/backup-azure-security-feature-cloud)으로 데이터 실수 삭제나 손상을 방지합니다. 보존 기간 중 삭제된 Blob을 원래 상태로 복원할 수 있습니다.
    - 보존 기간은 1-365일로 설정 가능하며, 기본값은 7일입니다.
    - [Blob 버전 관리](https://learn.microsoft.com/ko-kr/azure/storage/blobs/versioning-enable)로 이전 버전 복원이나 실수 수정 후 데이터 복구가 가능합니다.
    - [특정 시점 복원](https://learn.microsoft.com/ko-kr/azure/storage/blobs/point-in-time-restore-overview)으로 보존 기간 내 블록 BLOB을 이전 상태로 되돌릴 수 있습니다.
    - [리소스 잠금](https://learn.microsoft.com/ko-kr/azure/azure-resource-manager/management/lock-resources)으로 실수 삭제나 변경을 방지합니다.
    
    이러한 기능들을 살펴보며 Tailwind Traders 솔루션에 도움될 기능을 고려해 보겠습니다.
    
    ### **일시 삭제 및 버전 관리 고려사항**
    
    일시 삭제는 Blob, 스냅샷, 컨테이너 등의 실수 삭제나 덮어쓰기를 방지합니다. 지정된 보존 기간 동안 삭제된 데이터를 유지하여 복원 가능하게 합니다.
    
    다음 다이어그램은 일시 삭제 기능을 보여줍니다.
    
    ![일시 삭제 기능의 개략적인 보기를 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-solution-for-backup-disaster-recovery/media/soft-delete.png)
    
    구현 옵션:
    
    - [Blob 일시 삭제](https://learn.microsoft.com/ko-kr/azure/storage/blobs/soft-delete-blob-enable)로 삭제된 파일 복원
    - [컨테이너 일시 삭제](https://learn.microsoft.com/ko-kr/azure/storage/blobs/soft-delete-container-enable)로 컨테이너와 콘텐츠 복원
        
        **참고)** 스토리지 계정 삭제는 방지하지 않고 스토리지 계정 내 컨테이너 삭제만 방지
        
    - [Blob 버전 관리](https://learn.microsoft.com/ko-kr/azure/storage/blobs/versioning-enable)로 이전 버전 유지 및 복원. 다중 작성자 환경에서 유용합니다.
    
    ### **특정 시점 복원 고려사항**
    
    [특정 시점 복원](https://learn.microsoft.com/ko-kr/azure/storage/blobs/point-in-time-restore-overview)은 실수 삭제나 손상 방지를 제공합니다. 관리 정책으로 보존 기간을 설정하고 이전 상태로 복원할 수 있어 테스트 환경에 유용합니다.
    
    다음 다이어그램은 복원 방법을 보여줍니다. 보존 기간 내 변경 작업을 되돌립니다.
    
    ![지정 시간 복원의 작동 방식을 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-solution-for-backup-disaster-recovery/media/blob-point-restore.png)
    
    ### **리소스 잠금 고려사항**
    
    [리소스 잠금](https://learn.microsoft.com/ko-kr/azure/azure-resource-manager/management/lock-resources)으로 데이터 실수 변경을 방지합니다. 두 가지 수준이 있습니다:
    
    - **CanNotDelete**: 읽기와 수정은 허용하나 삭제 시 먼저 잠금 해제 필요
    - **ReadOnly**: 읽기만 허용하고 삭제나 변경은 불가. Azure RBAC의 *읽기 권한자* 역할과 유사
- Azure 파일 백업 및 복구를 위한 설계
    
    [Azure Files는 파일 공유의 공유 스냅샷을 제공합니다.](https://learn.microsoft.com/ko-kr/azure/storage/files/storage-snapshots-files) 이 스냅샷은 보안을 강화하고 데이터 손상이나 실수로 인한 삭제 위험을 줄이며, 재해 복구용 백업으로 활용 가능합니다.
    
    이 비디오는 Azure 파일 백업 및 복구에 관해 설명합니다.
    
    ### **Azure 파일 공유 백업 및 복구 핵심 사항**
    
    Azure 파일 공유 백업 및 복구의 주요 특성은 다음과 같습니다.
    
    - 공유 스냅샷은 특정 시점의 공유 상태를 캡처합니다.
    - 스냅샷은 Azure Portal, REST API, 클라이언트 라이브러리, CLI, PowerShell로 수동 생성 가능합니다.
    - Azure Backup과 백업 정책으로 스냅샷을 자동화할 수 있습니다.
    - 스냅샷은 공유 루트에 위치하며 모든 폴더와 파일에 적용됩니다. 개별 파일 수준 검색이 가능합니다.
    - 스냅샷은 증분식으로, 변경된 부분만 저장됩니다.
    - 공유 스냅샷은 생성 후 읽기, 복사, 삭제만 가능하고 수정은 불가능합니다.
    - 스냅샷이 있는 공유는 삭제할 수 없으며, 공유 삭제 시 모든 스냅샷을 먼저 삭제해야 합니다.
    
    **중요**
    
    스냅샷은 클라우드 측 백업을 대체하지 않습니다.
    
    ### **자동 파일 공유 백업**
    
    Azure 파일 공유 스냅샷은 자동화 및 관리가 가능합니다. Azure Backup으로 스냅샷 백업 자동화를 권장합니다. 아래 다이어그램은 Recovery Services 자격 증명 모음에서 파일 공유 자동 백업 복원 방법을 보여줍니다.
    
    ![Azure 파일 공유 스냅샷이 Azure Backup Recovery Services 자격 증명 모음에서 복원되는 방법을 보여주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-solution-for-backup-disaster-recovery/media/file-share-automated.png)
    
    - Azure Backup은 복구 서비스 자격 증명 모음에 스냅샷 메타데이터만 유지하고 데이터는 전송하지 않습니다. 이는 기본 제공 백업 및 보고 기능이 있는 빠른 백업 솔루션입니다.
    - 파일 공유에 Azure Backup 설정 시 일시 삭제 기능도 활성화됩니다.
    - 스냅샷 백업은 일별, 주별, 월별, 연별 보존으로 구성 가능합니다.
    
    ### **파일 공유 백업 고려사항**
    
    파일 공유 백업 및 복구 시 고려할 사항들을 검토하고, Tailwind Traders BCDR 요구사항 지원 방안을 생각해 보세요.
    
    - **즉시 복원** - 파일 공유 스냅샷으로 필요한 파일만 선택적 복원이 가능합니다.
    - **경고 및 보고** - 백업/복원 실패 경고 구성과 Azure Backup 보고 솔루션으로 인사이트를 얻을 수 있습니다.
    - **셀프 서비스 복원** - Windows VSS 스냅샷을 활용해 고급 사용자에게 자체 복원 기능을 제공할 수 있습니다.
    - **요청 시 백업** - Azure Backup은 일일 백업만 지원하므로 중요 파일에 대한 필요시 백업을 고려하세요.
    - **파일 공유 조직** - 백업 데이터 저장 방식에 따라 공용/내부 파일 공유를 분리하세요.
    - **코드 배포** - 애플리케이션 오류 발생 시 이전 버전으로 복원할 수 있도록 새 코드 배포 전 스냅샷을 생성하세요.
- Azure 가상 머신 백업 및 복구를 위한 설계
    
    Azure Backup은 [Azure 가상 머신](https://learn.microsoft.com/ko-kr/azure/backup/backup-azure-vms-introduction)의 독립적이고 격리된 백업을 제공합니다. 스냅샷 백업으로 손상되거나 삭제된 데이터를 복원할 수 있습니다.
    
    이 비디오는 VM 백업 및 복구 고려 사항을 설명합니다.
    
    ### **가상 머신 백업 및 복구 기본 사항**
    
    Azure Backup의 VM 백업 및 복구 지원 방식을 살펴봅니다.
    
    - Windows 및 Linux VM에 대한 간단한 구성 및 크기 조정이 가능합니다.
    
    **참고**
    
    SQL Server 및 SAP HANA용 전문 서비스는 워크로드 인식, 15분 RPO, 개별 DB 백업 및 복원을 지원합니다.
    
    - 백업 작업 단계:
        - VM 스냅샷 생성
        - 스냅샷을 Recovery Services 자격 증명 모음으로 전송
    
    백업 데이터 전송은 프로덕션 워크로드에 영향을 주지 않습니다.
    
    - 자격 증명 모음에 저장된 백업은 복구 지점에 기본 관리 기능을 제공합니다.
    - VM 백업은 전체 또는 특정 복구 지점에서 쉽게 복원되도록 최적화되었습니다.
    - 스냅샷은 [애플리케이션](https://learn.microsoft.com/ko-kr/azure/backup/backup-azure-vms-introduction#snapshot-consistency), *시스템*, *크래시* 등 *다양한 일관성 수준*을 지원합니다.
    - 백업은 SSE로 암호화되며, Azure Disk Encryption으로 암호화된 VM도 백업 가능합니다.
    
    아래 이미지는 VM이 Azure Backup으로 백업되는 과정입니다.
    
    ![image.png](AZ-305%20(25%2008%2022)/image%206.png)
    
    ### **백업 및 복구 사용 시 고려사항**
    
    VM 백업 및 복구 계획 시 검토할 주요 사항입니다. Tailwind Traders의 BCDR 솔루션 사례를 참고하세요.
    
    - **백업 일정**. 비즈니스 요구에 맞는 일정을 선택하고, VM별로 시간을 분산하여 트래픽 중복을 방지합니다. 낮은 사용량 시간대에 백업을 예약하세요.
    - **백업 빈도**. 단기(일별)와 장기(주별) 백업을 모두 구현하세요. 필요시 요청 시 백업으로 하루 여러 번 백업할 수 있습니다.
    - **백업 정책**. 유사한 일정과 보존 설정이 필요한 VM 그룹에 단일 정책을 적용하고, 중요도에 따라 정책을 분리하세요.
    - **계획 변경**. 솔루션 구현 후 지속적으로 모니터링하고, 비즈니스 요구 변화에 맞춰 정책을 조정하세요.
    - **복원 연습**. VM 복원은 시간이 오래 걸릴 수 있으므로, 중요 시나리오는 미리 테스트하세요.
        
        복원 시간은 IOPS와 스토리지 처리량에 영향을 받습니다. 다른 앱 작업과 로드되지 않은 스토리지 계정을 선택하여 성능을 개선하세요.
        
    - **속도 조절 관리**. 단일 자격 증명 모음에서 복원 시 범용 v2 스토리지 계정을 사용하여 제한을 방지하세요. VM별로 다른 스토리지 계정 사용을 고려하세요.
    - **CRR 활용**. 지역 간 복원으로 보조 지역에서 VM을 복구하여 규정 준수 요구사항을 충족하거나 재해 시 복원할 수 있습니다. 옵트인 기능으로, SQL과 SAP HANA DB에도 적용됩니다.
- Azure SQL 백업 및 복구를 위한 설계
    
    SQL 데이터베이스 복구를 위해 Azure SQL Database와 SQL Managed Instance의 자동 백업이 필요합니다. 이를 통해 보존 기간 내 특정 시점으로 복원이 가능합니다.
    
    ### **백업 자동화 설명**
    
    SQL Database와 SQL Managed Instance는 SQL Server 기술로 주간 [전체 백업](https://learn.microsoft.com/ko-kr/sql/relational-databases/backup-restore/full-database-backups-sql-server), 12-24시간마다 [차등 백업](https://learn.microsoft.com/ko-kr/sql/relational-databases/backup-restore/differential-backups-sql-server), 5~10분마다 [트랜잭션 로그 백업](https://learn.microsoft.com/ko-kr/sql/relational-databases/backup-restore/transaction-log-backups-sql-server)을 수행합니다. 복원 시 서비스가 적절한 백업 유형을 자동 선택합니다.
    
    - **전체 백업**: 데이터베이스와 트랜잭션 로그 전체를 주 1회 백업합니다.
    - **차등 백업**: 마지막 전체 백업 이후 변경된 항목을 12~24시간마다 백업합니다.
    - **트랜잭션 백업**: 5~10분마다 로그를 백업하여 특정 시점 복원이 가능합니다. 실수로 삭제된 데이터도 복구할 수 있습니다.
    
    ### **백업 사용 사례 설명**
    
    백업 자동화의 주요 용도:
    
    - [기존 데이터베이스를 과거 시점으로 복원](https://learn.microsoft.com/ko-kr/azure/azure-sql/database/recovery-using-backups): 원 데이터베이스와 같은 서버에 다른 이름으로 생성됩니다.
    - [삭제된 데이터베이스 복원](https://learn.microsoft.com/ko-kr/azure/azure-sql/database/recovery-using-backups): 원래 서버나 인스턴스에만 복원 가능합니다.
    - [다른 지역으로 복원](https://learn.microsoft.com/ko-kr/azure/azure-sql/database/recovery-using-backups): 재해 복구 시 유용하며, 다른 Azure 지역의 서버에 새 데이터베이스를 생성합니다.
    - [장기 백업에서 복원](https://learn.microsoft.com/ko-kr/azure/azure-sql/database/long-term-retention-overview): 장기 보존 정책이 설정된 경우 이전 버전으로 복원할 수 있습니다.
    
    ### **장기 백업 보존 정책**
    
    Azure SQL Database 자동 백업은 35일간 유지됩니다. 이는 일반적 관리에 충분하지만, 규정 준수를 위해 더 오래 보관해야 할 수도 있습니다.
    
    LTR(장기 보존) 기능으로 백업을 RA-GRS 스토리지에 최대 10년간 보관할 수 있으며, Azure Portal이나 PowerShell로 복원 가능합니다.
    
- Azure Site Recovery를 위한 설계
    
    [Azure Site Recovery](https://learn.microsoft.com/ko-kr/azure/site-recovery/site-recovery-overview)는 Azure, 온-프레미스 및 다른 클라우드 공급자에서 애플리케이션에 대한 BCDR 기능을 제공합니다. 이 서비스는 재해 복구 자동화를 돕는 계획을 제공합니다. 가상 머신의 장애 조치(failover) 방식과 장애 조치(failover) 성공 후 재시작 순서를 정의할 수 있습니다.
    
    ### **Site Recovery를 사용할 때 고려할 사항**
    
    Azure Site Recovery는 Azure Portal의 관리가 지원되는 간단한 BCDR 솔루션을 제공합니다. 단일 위치에서 가상 머신의 복제, 장애 조치 및 장애 복구를 설정하고 관리합니다.
    
    Azure Site Recovery의 여러 기능 중 일부를 살펴보겠습니다.
    
    | 기능 | 설명 |
    | --- | --- |
    | **Azure 가상 머신 복제** | Azure 가상 머신의 재해 복구를 설정하고 주 지역에서 보조 지역으로 장애 조치(failover)를 수행합니다. |
    | **온-프레미스 가상 머신 마이그레이션 복제** | 온-프레미스 가상 머신 및 물리적 서버를 Azure 또는 보조 온-프레미스 데이터 센터로 복제합니다. |
    | **워크로드 복제** | 지원되는 Azure 가상 머신, 온-프레미스 Hyper-V 및 VMware 가상 머신, Windows 또는 Linux 물리적 서버에서 실행되는 모든 워크로드를 복제할 수 있습니다. |
    | **BCDR 작업 자동화** | BCDR 작업을 자동화해 목표 복구 시간을 더 줄입니다. Azure Site Recovery를 사용하여 주기적 자동 장애 조치(failover)를 설정하고 복구 프로세스의 전반적인 효과를 모니터링할 수 있습니다. |
    | **데이터 복원력 유지** | Azure Site Recovery를 사용하여 앱 데이터를 가로채지 않고 복제를 오케스트레이션합니다. 장애 조치(failover)가 발생하는 경우 복제된 데이터를 기반으로 하여 Azure 가상 머신을 만듭니다. Azure에 복제하면 데이터가 Azure Storage에 저장되고 해당 서비스에서 제공하는 복원력을 얻습니다. |
    | **RTO 및 RPO 목표 달성** | RTO 및 RPO 목표를 정의된 조직 한계 내로 유지합니다. Azure Site Recovery는 Azure 가상 머신 및 VMware 가상 머신에 대한 연속 복제를 제공하며 Hyper-V에 대해서는 짧은 빈도(30초)의 복제가 가능합니다. |
    | **장애 조치(failover) 후 일관된 앱 유지 관리** | 앱 일치 스냅샷을 사용해 특정 복구 지점에서 복제할 수 있습니다. 해당 스냅샷은 디스크 데이터, 메모리 내 데이터 및 프로세스 트랜잭션의 모든 데이터를 캡처합니다. |
    | **중단없는 테스트** | 진행 중인 복제에 영향을 주지 않고 재해 복구 테스트를 실행합니다. |
    | **유연한 장애 조치(failover) 실행** | 예상되는 중단에 대해 데이터 손실 없이 계획된 장애 조치(failover)를 실행합니다. 데이터 손실을 최소화하면서 계획에 없던 장애 조치(failover)를 실행하고, 가용성이 회복되면 기본 사이트로 장애 복구합니다. |
    | **복구 계획 사용자 지정** | 여러 가상 머신에서 실행되는 다중 계층 앱의 장애 조치(failover) 및 복구를 사용자 지정하고 순서를 지정할 수 있도록 복구 계획을 만듭니다. 복구 계획에서 가상 머신을 그룹화하고 필요에 따라 스크립트 및 수동 작업을 추가합니다. 복구 계획을 Azure Automation Runbook과 통합합니다. |
    | **BCDR 기술과 통합** | Azure Site Recovery를 다른 BCDR 기술과 통합합니다. Site Recovery를 사용하여 회사 워크로드의 SQL Server 백엔드를 보호합니다. SQL Server AlwaysOn을 기본 지원하므로, 가용성 그룹의 장애 조치(failover)를 관리할 수 있습니다. |
    | **Access Azure Automation 통합** | Azure Automation 라이브러리에서 다운로드하고 Azure Site Recovery와 앱 관련 스크립트를 통합합니다. |
    
    ## **Azure Site Recovery를 Azure Backup과 함께 사용**
    
    BCDR 솔루션에 대한 Azure Backup을 사용하여 Azure Site Recovery를 구현하는 방법을 살펴보겠습니다.
    
    가상 머신을 호스트하기 위한 Hyper-V 호스트 서버가 있는 온-프레미스 환경을 사용한다고 가정해봅니다. 이 가상 머신의 모든 파일과 폴더를 Azure에 백업해야 합니다. 또한 가상 머신에서 실행되는 워크로드를 보호하며 가상 머신에 오류가 발생해도 계속 실행해야 합니다. Azure Backup과 Site Recovery를 단일 솔루션에서 함께 사용할 수 있습니다.
    
    ![Azure Site Recovery 및 Azure Backup BCDR 솔루션을 보여주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-solution-for-backup-disaster-recovery/media/site-recovery.png)
    
    이 시나리오에서 Azure Backup은 Windows 머신의 파일 및 폴더를 Azure로 정기적으로 백업합니다. 이 프로세스는 전체 온-프레미스 환경이 작동을 중지하는 경우에도 데이터를 안전하고 검색할 수 있도록 합니다. 별도로 Azure Site Recovery는 실행 중인 워크로드를 보호하고 실행을 유지하는 데 사용됩니다. Site Recovery에서 자주 복제할 수 있기 때문에 워크로드의 RTO가 감소될 수 있습니다.
    

---

### 비관계형 데이터를 위한 데이터 스토리지 솔루션 설계

- 데이터 스토리지 설계
    
    Azure Storage 디자인의 첫 번째 단계는 Tailwind Traders 조직을 지원하는 데 필요한 데이터 형식을 결정하는 것입니다. 일반적으로 데이터는 구조적, 반구조적, 비구조적이라는 세 가지 방법으로 분류할 수 있습니다. 대부분의 조직은 모든 데이터 형식에 대한 스토리지 옵션을 제공해야 합니다.
    
    ### **데이터 형식에 대해 알아야 할 사항**
    
    다음 표에 세 가지 데이터 형식에 대한 설명이 나와 있습니다. 조직에서 이러한 다양한 형식을 사용하는 방법을 고려합니다.
    
    ![image.png](AZ-305%20(25%2008%2022)/image%207.png)
    
    이 모듈에서는 구조화되지 않은 비관계형 데이터에 대한 저장소 옵션을 검토합니다. 모듈에서 구조화된 관계형 데이터로 작업하는 방법을 검색하고 [**관계형 데이터에 대한 데이터 스토리지 솔루션을 디자인**](https://learn.microsoft.com/ko-kr/training/modules/design-data-storage-solution-for-relational-data/)할 수 있습니다.
    
    ### **데이터 스토리지를 선택할 때 고려해야 할 사항**
    
    Azure의 비관계형 데이터는 여러 다른 데이터 개체에 저장할 수 있습니다. 4개의 저장소 개체를 구현하는 시나리오를 살펴보겠습니다. Tailwind Traders에 대한 이러한 옵션을 검토할 때 조직에서 가장 관심이 있는 비관계형 데이터 유형에 대해 생각해 보세요. 구현해야 할 수 있는 스토리지 개체를 고려합니다.
    
    ![비관계형 스토리지 선택 항목을 보여 주는 순서도입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-non-relational-data/media/storage-decision-tree.png)
    
    - **Azure Blob Storage를 고려합니다**. Azure Blob Storage를 사용하여 방대한 양의 비정형 데이터를 저장합니다. Blob은 Binary Large Object를 뜻합니다. Blob Storage는 이미지 및 멀티미디어 파일에 자주 사용됩니다.
    - **Azure Files를 고려합니다**. Azure Files를 사용하여 클라우드에서 완전히 관리되는 파일 공유를 제공합니다. 이 데이터 스토리지는 산업 표준 SMB(서버 메시지 블록) 프로토콜, NFS(네트워크 파일 시스템) 프로토콜 및 Azure Files REST API를 통해 액세스할 수 있습니다.
    - **Azure Managed Disks를 고려합니다**. Azure Managed Disks를 사용하여 Azure Virtual Machines를 지원합니다. 이러한 디스크는 Azure에서 관리하는 블록 수준 저장소 볼륨입니다. 관리 디스크는 온-프레미스 서버가 아닌 가상 환경에서 실제 디스크처럼 수행됩니다.
    - **Azure Queue Storage를 고려합니다**. Azure Queue Storage를 사용하여 많은 수의 메시지를 저장합니다. Queue Storage는 비동기적으로 처리할 작업의 백로그를 만드는 데 자주 사용됩니다.
- Azure 스토리지 계정 설계
    
    조직의 데이터 스토리지 요구 사항을 확인한 후에는 Tailwind Traders에 대한 스토리지 계정을 만들어야 합니다.
    
    [Azure 스토리지 계정](https://learn.microsoft.com/ko-kr/azure/storage/common/storage-account-overview)은 모든 Azure Storage 서비스를 함께 그룹화합니다. 스토리지 계정은 전 세계 어디서나 HTTPS를 통해 액세스할 수 있는(올바른 권한이 있다는 전제 하에) 고유한 네임스페이스를 제공합니다. 스토리지 계정의 데이터는 지속적이고 가용성이 높으며 안전하고 대규모로 확장 가능합니다.
    
    스토리지 계정은 위치, 복제 전략, 구독 소유자 등과 같은 설정 컬렉션을 나타냅니다. 조직에서 여러 가지 요구 사항을 구현하기 위해 스토리지 계정을 여러 개 갖고 있는 경우가 종종 있습니다. 다음 그림에서는 Tailwind Traders 조직의 두 스토리지 계정이 데이터 위치(지역)에서만 다른 것을 보여 줍니다. 그러나 이러한 한 가지 차이점만으로도 인프라에 별도의 스토리지 계정이 필요하게 됩니다.
    
    ![위치, 규정 준수, 비용, 복제, 관리자 등의 스토리지 계정 고려 사항을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-non-relational-data/media/storage-considerations.png)
    
    ### **스토리지 계정 유형에 대해 알아야 할 사항**
    
    Azure Storage는 여러 스토리지 계정 옵션을 제공합니다. [스토리지 계정](https://learn.microsoft.com/ko-kr/azure/storage/common/storage-account-overview)마다 다른 기능을 지원하며 고유한 가격 책정 모델을 포함합니다. 다음 옵션을 검토하고 Tailwind Traders 애플리케이션을 지원하는 데 필요한 스토리지 계정을 생각해 보세요.
    
    | 스토리지 계정 | 지원되는 서비스 | 권장 사용량 |
    | --- | --- | --- |
    | [**표준범용 v2**](https://learn.microsoft.com/ko-kr/azure/storage/common/storage-account-upgrade) | Blob Storage(Data Lake Storage 포함), Queue Storage, Table Storage, Azure Files | Blob, 파일 공유, 큐, 테이블 및 디스크(페이지 Blob)를 비롯한 대부분의 시나리오에 대한 표준 스토리지 계정입니다. |
    | [**프리미엄블록 Blob**](https://learn.microsoft.com/ko-kr/azure/storage/blobs/storage-blob-block-blob-premium/) | Blob Storage(Data Lake Storage 포함) | 블록 Blob 및 추가 Blob에 대한 프리미엄 스토리지 계정입니다. 트랜잭션 속도가 높은 애플리케이션에 권장됩니다. 더 작은 개체로 작업하거나 지속적으로 낮은 스토리지 대기 시간이 필요한 경우 프리미엄 블록 Blob을 사용합니다. 이 스토리지는 애플리케이션에서 스케일링하도록 설계되었습니다. |
    | [**프리미엄파일 공유**](https://learn.microsoft.com/ko-kr/azure/storage/files/storage-how-to-create-file-share) | Azure 파일 | 파일 공유 전용 프리미엄 스토리지 계정입니다. 엔터프라이즈 또는 고성능 규모의 애플리케이션에 추천됩니다. SMB(서버 메시지 블록) 및 NFS 파일 공유를 모두 지원해야 하는 경우 프리미엄 파일 공유를 사용합니다. |
    | [**프리미엄페이지 Blob**](https://learn.microsoft.com/ko-kr/azure/storage/blobs/storage-blob-pageblob-overview) | 페이지 Blob만 해당 | 페이지 Blob 전용 프리미엄 고성능 스토리지 계정입니다. 페이지 Blob은 가상 머신 및 데이터베이스에 대한 운영 체제 및 데이터 디스크와 같은 인덱스 기반 데이터와 스파스 데이터 구조를 저장하는 데 적합합니다. |
    
    ### **스토리지 계정을 선택할 때 고려해야 할 사항**
    
    Azure Storage 계정 옵션 및 다양한 유형의 스토리지 계정을 사용하는 경우에 대한 몇 가지 시나리오를 검토합니다. Tailwind Traders 조직의 스토리지 계정에 대해 몇 분 정도 생각해 보세요. 스토리지 계정을 이미 사용하고 있는 경우 구성이 비즈니스 시나리오를 얼마나 잘 충족하는지 살펴봅니다.
    
    - **스토리지 위치 고려**. 가장 자주 사용하는 위치와 가까운 데이터 스토리지를 찾습니다. Tailwind Traders에는 특정 위치에 대한 데이터가 있나요? 각 위치를 가장 잘 지원하려면 스토리지 계정이 필요할 수 있습니다.
    - **규정 준수 요구 사항을 고려합니다**. Tailwind Traders 비즈니스 시나리오에 대한 규제 지침을 검토합니다. 데이터를 특정 위치에 유지해야 한다는 지침이 있나요? 데이터 감사 또는 저장에 대한 회사의 내부 요구 사항이 있나요? 다양한 요구 사항을 충족하려면 다른 스토리지 계정이 필요할 수 있습니다.
    - **데이터 스토리지 비용 고려**. 데이터 스토리지 비용을 고려해서 Tailwind Traders 플랜을 작성합니다. 스토리지 계정 자체에는 재무 비용이 들지 않지만 그렇지만 계정에 대해 선택한 설정은 계정의 서비스 비용에 영향을 줍니다. 지역 중복 스토리지는 로컬 중복 스토리지보다 많은 비용이 듭니다. 프리미엄 성능 및 핫 액세스 계층은 Blob 비용을 증가시킵니다. 부서 또는 프로젝트별로 비용 또는 대금 청구를 추적해야 하나요? 스토리지 비용을 따로 계산해야 하는 파트너와 함께 작업하고 있나요? 여러 스토리지 계정을 만들면 전체 비용을 더 잘 제어할 수 있습니다.
    - **복제 시나리오 고려**. 다양한 복제 전략을 지원하도록 데이터 스토리지를 구성합니다. 데이터를 중요 및 중요하지 않은 범주로 분할할 수 있습니다. Tailwind Traders의 중요한 데이터는 지역 중복 스토리지가 있는 스토리지 계정에 배치하면 됩니다. Tailwind Traders의 중요하지 않은 데이터는 로컬 중복 스토리지가 있는 다른 스토리지 계정에 배치할 수 있습니다.
    - **관리 오버헤드 고려**. Tailwind Traders 스토리지 디자인에서 관리 오버헤드를 계획합니다. 관리자가 각 스토리지 계정을 만들고 유지 관리하기 위해서는 시간과 관심이 필요합니다. 여러 스토리지 계정을 사용하면 클라우드 스토리지에 데이터를 추가할 때의 복잡성이 증가합니다. 이 역할이 할당된 사용자는 올바른 계정에 새 데이터를 추가할 수 있도록 각 스토리지 계정의 용도를 이해해야 합니다.
    - **데이터 민감도 고려**. 데이터 스토리지에서 중요하고 독점적인 Tailwind Traders 데이터를 보호합니다. 그렇다면 독점 데이터에 가상 네트워크를 사용하도록 설정하고 퍼블릭 데이터에는 사용하지 않도록 할 수 있습니다. 이 시나리오에는 별도 스토리지 계정도 필요할 수 있습니다.
    - **데이터 격리 고려**. Tailwind Traders에 여러 스토리지 계정을 사용하여 규정 및 규정 준수 데이터 또는 로컬 정책을 분리합니다. 한 애플리케이션의 데이터를 다른 애플리케이션의 데이터와 분리하여 데이터 격리를 보장할 수 있습니다.
- 데이터 중복성 설계
    
    Azure Storage는 항상 Tailwind Traders 데이터의 여러 복사본을 저장합니다. 이 중복성을 통해 계획된 이벤트와 계획되지 않은 이벤트로부터 데이터를 보호할 수 있습니다. 이러한 이벤트로는 일시적인 하드웨어 오류, 네트워크 또는 정전, 대규모 자연 재해가 포함될 수 있습니다. [스토리지 중복성](https://learn.microsoft.com/ko-kr/azure/storage/common/storage-redundancy)은 스토리지 계정이 가용성 및 내구성 목표를 충족하도록 보장합니다. 이 비디오에서는 데이터 중복 옵션을 검토합니다.
    
    ### **데이터 중복성에 대해 알아야 할 사항**
    
    Azure Storage에서 데이터 중복성의 다음 특성을 검토합니다.
    
    - 주 지역에 데이터를 복제하여 중복성을 달성합니다.
    - 스토리지 계정을 만들 때 계정에 대한 기본 지역을 선택합니다.
    - 주 지역에서는 LRS(로컬 중복 스토리지) 및 ZRS(영역 중복 스토리지)의 두 가지 복제 옵션을 지원합니다.
    - 보조 지역에 대해서도 복제를 수행할 수 있습니다. 높은 내구성이 필요한 애플리케이션에는 보조 지역을 사용하는 것이 좋습니다.
    - 쌍을 이루는 보조 지역은 주 지역에 따라 결정되며 변경할 수 없습니다.
    - 보조 지역은 일반적으로 주 지역과 멀리 떨어진 지리적 위치에 있습니다. 따라서 지역 재해로부터 보호하는 데 도움이 됩니다.
    - 보조 지역은 GRS(지역 중복 스토리지) 및 GZRS(지역 영역 중복 스토리지)의 두 가지 복제 옵션을 지원합니다.
    
    ### **기본 지역의 중복성**
    
    Azure Storage는 주 지역에서 데이터를 복제하는 방법에 대한 두 가지 옵션, 즉 로컬 중복 스토리지 및 영역 중복 스토리지를 제공합니다.
    
    ![데이터 센터에 3개의 복사본이 있는 로컬 중복 스토리지와 서로 다른 데이터 센터에 3개의 복사본이 있는 영역 중복 스토리지의 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-non-relational-data/media/data-redundancy.png)
    
    - **로컬 중복 스토리지**는 가장 저렴한 중복성 옵션이며 내구성이 가장 낮습니다. LRS는 서버 랙 및 드라이브 오류로부터 데이터를 보호합니다. 하지만 데이터 센터에서 오류가 발생하면 LRS를 사용하는 스토리지 계정의 모든 복제본이 손실되거나 복구가 불가능하게 될 수 있습니다.
    - **영역 중복 스토리지**는 주 지역의 세 가지 Azure 가용성 영역에서 데이터를 동기적으로 복제합니다. ZRS를 사용하면 영역을 사용할 수 없게 되는 경우에도 읽기 및 쓰기 작업에 모두 계속해서 액세스할 수 있습니다.
    
    ### **보조 지역의 중복성**
    
    높은 내구성이 필요한 애플리케이션의 경우 스토리지 계정의 데이터를 보조 지역에 복사하도록 선택할 수 있습니다. Azure Storage는 보조 지역에 데이터를 복사하는 두 가지 옵션으로 **지역 중복 스토리지** 및 **지역 영역 중복 스토리지**를 제공합니다.
    
    ![보조 지역에 복제된 로컬 중복 스토리지 및 영역 중복 스토리지를 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-non-relational-data/media/geo-redundant-storage.png)
    
    - GRS와 GZRS의 주요 차이점은 기본 지역에서 데이터가 복제되는 방식입니다. 보조 지역 내에서는 데이터가 항상 LRS와 동기적으로 복제됩니다.
    - 기본 지역을 사용할 수 없는 경우에는 보조 지역에 대해 장애 조치(failover)하도록 선택할 수 있습니다. 장애 조치(failover)가 완료되면 보조 지역이 주 지역이 되고 다시 데이터를 읽고 쓸 수 있습니다.
    - 데이터가 보조 지역에 비동기적으로 복제됩니다. 주 지역을 복구할 수 없는 경우 주 지역에 영향을 미치는 오류가 발생하면 데이터가 손실될 수 있습니다.
    - GRS 또는 GZRS를 사용하면 보조 지역에 대한 장애 조치(failover)가 없는 한 읽기 또는 쓰기 액세스를 위해 보조 지역의 데이터를 사용할 수 없습니다. 보조 지역에 대한 읽기 액세스의 경우 RA-GRS(읽기 액세스 지역 영역 중복 스토리지) 또는 RA-GZRS(읽기 액세스 지역 영역 중복 스토리지)를 사용하도록 스토리지 계정을 구성합니다.
    
    ### **데이터 중복성을 사용할 때 고려할 사항**
    
    복제를 구현하기 위한 다양한 옵션을 검토합니다. 데이터 중복은 주 지역 및 쌍을 이루는 보조 지역을 통해 수행됩니다. Tailwind Traders에 대한 스토리지 계정 및 중복성 설정을 계획할 때 다음 요소를 고려합니다.
    
    - **기본 복제 옵션을 고려합니다**. Tailwind Traders 데이터를 주 지역에서 복제하는 방법에 대한 다양한 시나리오를 살펴봅니다. 중복 옵션은 낮은 비용과 고가용성 간의 절충을 제시합니다. 일부 비즈니스 센터에는 더 많은 데이터 중복이 필요할 수 있습니다. 특정 부서 또는 지역은 중요하지 않거나 높은 내구성이 필요하지 않은 데이터로 작업할 수 있습니다. 여러 스토리지 계정을 서로 다른 중복성으로 구현하여 조직 전체의 전체 비용을 제어할 수 있습니다.
    - **로컬 중복 스토리지를 고려합니다**. LRS는 낮은 비용 중복 솔루션을 위해 구현하지만 내구성은 제한적입니다. LRS는 데이터 손실이 발생할 경우 쉽게 재구성할 수 있는 데이터를 저장하는 Tailwind Traders 앱에 적합합니다. LRS는 데이터 거버넌스 요구 사항으로 인해 특정 위치 내에서만 데이터를 복제해야 하는 앱에도 적합합니다.
    - **지역 영역 중복 스토리지를 고려합니다**. ZRS는 데이터를 일시적으로 사용할 수 없는 경우 탁월한 성능, 낮은 대기 시간 및 복원력이 필요할 때 선택합니다. 기억할 점은 ZRS 자체만으로는 여러 영역에 영구적인 영향을 주는 지역 재해로부터 데이터를 보호하지 못할 수 있다는 것입니다.
    - **보조 지역을 고려합니다**. 높은 내구성이 필요한 애플리케이션의 경우 스토리지 계정의 데이터를 주 지역에서 수백 킬로미터 떨어진 보조 지역에 추가로 복사하도록 선택할 수 있습니다. 스토리지 계정이 보조 지역으로 복사되면 전체 지역 중단 또는 주 지역을 복구할 수 없는 재해가 발생하더라도 데이터는 지속됩니다.
    - **읽기 액세스 요구 사항을 고려합니다**. 주 지역을 사용할 수 없게 되면 애플리케이션에서 보조 지역에 복제된 데이터에 대한 읽기 권한이 필요한 Tailwind Traders 애플리케이션을 파악합니다. 보조 지역에 대한 읽기 액세스 권한으로 스토리지 계정을 구성합니다. 주 지역을 사용할 수 없게 되면 애플리케이션이 보조 지역에서 데이터를 읽는 것으로 원활하게 전환할 수 있습니다.
    
    **팁**
    
    [**Azure Storage 서비스 학습 모듈을 사용하여 학습을 계속합니다**](https://learn.microsoft.com/ko-kr/training/modules/describe-azure-storage-services/).
    
- Azure Blob Storage 디자인
    
    [Azure Blob Storage](https://learn.microsoft.com/ko-kr/azure/storage/blobs/storage-blobs-overview) 는 Microsoft Azure에서 제공하는 클라우드 기반 개체 스토리지 서비스입니다. Blob Storage는 텍스트, 이미지, 문서, 비디오 및 오디오 파일과 같은 많은 양의 구조화되지 않은 데이터를 저장하도록 설계되었습니다. 개발자 과정의 이 비디오에서는 Blob Storage의 기본 사항에 대해 설명합니다.
    
    Azure Blob Storage에 대한 구현 계획에서 고려해야 할 두 가지 주요 사항이 있습니다. 먼저 조직의 스토리지 가용성, 대기 시간 및 비용 요구 사항을 충족하는 Azure ‘Blob 액세스 계층’을 식별해야 합니다. 두 번째 고려 사항은 변경할 수 없는 스토리지에 액세스해야 하는지 여부를 결정하는 것입니다.
    
    액세스 옵션은 핫, 쿨, 콜드, 보관 액세스 계층의 4가지가 있습니다. 네 가지 옵션은 모두 가용성 및 대기 시간을 지원하지만 지원 수준에 따라 비용이 다릅니다. 모든 옵션은 변경할 수 없는 스토리지를 지원하지만 핫, 쿨 및 보관 액세스 계층에 대해 스토리지가 다르게 구현됩니다.
    
    Azure Blob Storage에 대한 네 가지 액세스 옵션은 스토리지 비용을 최적화하는 데 도움이 되는 다양한 기능 및 지원 수준을 제공합니다.
    
    | 비교 | 핫 액세스 계층 | 쿨 액세스 계층 | 콜드 액세스 계층 | 보관 액세스 계층 |
    | --- | --- | --- | --- | --- |
    | **가용성** | 99.9% | 99% | 99% | 99% |
    | **가용성(RA-GRS 읽기)** | 99.99% | 99.9% | 99.9% | 99.9% |
    | **대기 시간(첫 번째 바이트까지의 시간)** | 밀리초 | 밀리초 | 밀리초 | hours |
    | **최소 스토리지 기간** | N/A | 30일 | 90일 | 180일 |
    
    ### **Azure Blob 액세스 계층에 대해 알아야 할 사항**
    
    데이터 세트와 Tailwind Traders의 요구 사항을 충족할 수 있는 액세스 옵션을 생각해 보세요.
    
    - **핫 계층**. 핫 계층은 Azure Storage 계층의 개체를 자주 읽고 쓰는 시나리오에 최적화되어 있습니다. 활발하게 처리되는 데이터가 대표적인 사례입니다. 기본적으로 새 스토리지 계정은 핫 계층에 만들어집니다. 이 계층은 액세스 비용은 가장 낮지만 쿨 및 보관 액세스 계층보다 스토리지 비용이 더 많이 듭니다.
    - **쿨 티어**입니다. 쿨 계층은 자주 액세스하지 않는 대량의 데이터를 저장하는 데 최적화되어 있습니다. 이 계층은 최소 30일 동안 쿨 계층에 남아 있는 데이터에 사용됩니다. 쿨 계층의 사용 사례는 단기 백업 및 재해 복구 데이터 세트와 오래된 미디어 콘텐츠입니다. 이 콘텐츠를 자주 볼 수는 없지만 즉시 사용할 수 있어야 합니다. 쿨 계층에 데이터를 저장하는 것은 비용 효율성이 높습니다. 쿨 계층의 데이터에 액세스하는 것은 핫 계층의 데이터에 액세스하는 것보다 많은 비용이 들 수 있습니다.
    - **콜드 계층**: 또한 쿨 계층은 자주 액세스하지 않는 대량의 데이터를 저장하는 데도 최적화되어 있습니다. 이 계층은 최소 90일 동안 계층에 남아 있을 수 있는 데이터를 위한 것입니다.
    - **보관 계층**입니다. 보관 계층은 몇 시간의 검색 대기 시간을 허용할 수 있는 데이터에 최적화된 오프라인 계층입니다. 데이터는 180일 이상 보관 계층에 남아 있어야 하며 조기 삭제 시 요금이 부과됩니다. 보관 계층의 데이터에는 보조 백업, 원래 원시 데이터 및 법적 필수 규정 준수 정보가 포함됩니다. 이 계층은 데이터를 저장하는 데 사용할 수 있는 가장 비용 효율적인 옵션입니다. 다른 계층의 데이터에 액세스하는 것보다 보관 계층의 데이터에 액세스하는 것이 비용이 많이 듭니다.
    
    ### **Azure Blob 변경이 불가능한 스토리지에 대해 알아야 할 사항**
    
    Azure Blob Storage용 [변경이 불가능한 스토리지](https://learn.microsoft.com/ko-kr/azure/storage/blobs/immutable-storage-overview)를 사용하면 사용자가 중요 비즈니스용 데이터를 WORM(Write Once, Read Many) 상태로 저장할 수 있습니다. WORM 상태인 데이터는 사용자가 지정한 시간 동안 수정하거나 삭제할 수 없습니다. BLOB 데이터에 대한 불변성 정책을 구성하면 데이터를 덮어쓰기 및 삭제로부터 보호할 수 있습니다. 정책은 컨테이너 수준에서 적용되며 감사 로그가 제공됩니다.
    
    ![컨테이너 수준에서 적용된 정책을 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-non-relational-data/media/container-policies.png)
    
    Azure Blob Storage 변경이 불가능한 스토리지를 구현하기 위한 두 가지 형태의 불변성 정책을 지원합니다.
    
    - [**시간 기준 보존 정책**](https://learn.microsoft.com/ko-kr/azure/storage/blobs/immutable-time-based-retention-policy-overview) - 사용자가 지정된 간격 동안 데이터를 저장하는 정책을 설정할 수 있습니다. 시간 기준 보존 정책이 적용되면 개체를 만들고 읽을 수 있지만 수정하거나 삭제할 수는 없습니다. 보존 기간이 만료된 후에는 개체를 삭제할 수는 있지만 덮어쓸 수는 없습니다. 핫, 쿨 및 보관 액세스 계층은 시간 보존 정책을 사용하여 변경이 불가능한 스토리지를 지원합니다.
    - [**법적 보존 정책**](https://learn.microsoft.com/ko-kr/azure/storage/blobs/immutable-legal-hold-overview)은 법적 보존이 명시적으로 사라질 때까지 불변 데이터를 저장합니다. 법적 보존이 설정되면 개체를 만들고 읽을 수는 있지만 수정하거나 삭제할 수는 없습니다. Premium Blob Storage는 변경이 불가능한 스토리지를 지원하기 위해 법적 보존을 사용합니다.
    
    ### **Azure Blob Storage를 구현할 때 고려해야 할 사항**
    
    Azure Blob Storage에 대한 다양한 액세스 옵션과 변경이 불가능한 스토리지를 사용하는 방법을 검토했습니다. Tailwind Traders에 맞게 Azure Blob Storage를 구성하는 방법을 결정하는 데 몇 분 정도 걸립니다.
    
    - **Blob Storage 가용성 고려**. 데이터에 필요한 가용성 수준을 결정합니다. 오프라인 데이터로 충분한 시나리오가 있나요? 보관 액세스 계층은 몇 시간 동안 오프라인 상태를 유지할 수 있는 데이터에 최적화되어 있습니다.
    - **Blob Storage 대기 시간 고려**. 다양한 시나리오에서 데이터의 첫 번째 바이트에 액세스하는 데 필요한 시간을 계획합니다. 일부 작업 태스크는 데이터에 즉시 액세스해야 하지만 다른 태스크는 약간 지연되어도 괜찮을 수 있습니다. Premium Blob Storage는 데이터에 대해 한 자릿수 밀리초 대기 시간을 지원하지만, 핫 및 쿨 액세스 계층은 수 밀리초 대기 시간을 지원합니다.
    - **Blob Storage 비용 고려**. 총 비용에 대한 옵션에 가중치를 적용합니다. 데이터 스토리지 최소 기간과 트랜잭션 및 액세스에 대한 잠재적 요금을 고려합니다. Premium Blob Storage 및 핫 액세스 계층은 전체 스토리지 비용이 더 높지만 액세스 및 트랜잭션에 대한 요금은 더 낮습니다. 쿨 및 보관 액세스 계층은 더 낮은 스토리지 비용을 제공하지만 액세스 및 트랜잭션에 대한 요금이 더 높은 경향이 있습니다.
    - **변경이 불가능한 스토리지 고려**. 비즈니스 시나리오를 검토하여 변경이 불가능한 스토리지가 필요할 수 있는 경우를 파악합니다. 다양한 유형의 불변성 정책과 조직의 요구 사항을 충족하는 양식을 고려합니다.
    
    **팁**
    
    [**Azure Blob Storage 교육 구성**](https://learn.microsoft.com/ko-kr/training/modules/configure-blob-storage/) 모듈을 사용하여 학습을 계속합니다.
    
- Azure 파일 설계
    
    [Azure Files](https://learn.microsoft.com/ko-kr/azure/storage/files/storage-files-introduction)는 Azure에 호스팅되는 완전 관리형 클라우드 기반 파일 공유를 제공합니다. 공유 파일은 산업 표준 SMB(서버 메시지 블록) 프로토콜, NFS(네트워크 파일 시스템) 프로토콜 및 Azure Files REST API를 통해 액세스할 수 있습니다. 모든 주요 운영 체제에서 동시에 Azure 파일 공유를 탑재하거나 연결할 수 있습니다. 이 비디오에서는 파일 스토리지와 Blob Storage를 비교합니다.
    
    ### **Azure Files에 대해 알아야 할 사항**
    
    Azure Files는 회사의 기존 온-프레미스 NAS(네트워크 연결 스토리지) 디바이스 또는 파일 서버에 추가하거나 대체하는 데 사용할 수 있습니다. 조직에서 Azure Files를 사용하려고 하는 몇 가지 이유는 다음과 같습니다.
    
    - 개발자는 앱 및 구성 파일을 파일 공유에 저장하고 새 VM을 공유 파일에 연결할 수 있습니다. 이 작업은 새 머신을 프로덕션 환경으로 전환하는 시간을 단축합니다.
    - Azure 파일 공유를 사용하면 회사는 비용이 많이 드는 중복 하드웨어를 구입 및 배포하고 소프트웨어 업데이트를 관리할 필요가 없습니다. 공유는 플랫폼 간이며 Windows, Linux 또는 macOS에서 연결할 수 있습니다.
    - 파일 공유에 Azure 플랫폼의 모든 복원력이 있으므로 파일이 전역적으로 중복됩니다. 또한 통합 스냅샷 기능을 사용하고 Recovery Services 자격 증명 모음을 사용하여 자동 백업을 설정할 수 있는 옵션이 있습니다.
    - 모든 데이터는 HTTPS를 사용하여 전송 중에 암호화되며, 미사용 시에는 암호화된 상태로 저장됩니다.
    
    ### **데이터 액세스 방법 선택**
    
    회사의 공유 파일을 Azure Files로 이동하려면 옵션을 분석하고 중요한 결정을 내려야 합니다. 파일을 액세스 및 업데이트할 방법은 무엇입니까? 기존 SMB(서버 메시지 블록) 파일 공유를 Azure Files 파일 공유로 대체할 수 있습니다. 또 다른 옵션은 [Azure 파일 동기화](https://learn.microsoft.com/ko-kr/azure/storage/file-sync/file-sync-introduction)의 인스턴스를 설정하는 것입니다. Azure 파일 동기화를 사용하기로 선택하는 경우 파일을 보호하고 액세스하는 방법에 대한 유연성이 높아집니다.
    
    Azure 파일 공유는 두 가지 방법으로 사용할 수 있습니다. 서버리스 Azure 파일 공유(SMB)를 직접 탑재하거나 Azure 파일 동기화를 사용하여 온-프레미스에서 Azure 파일 공유를 캐시할 수 있습니다.
    
    - **Azure 파일 공유의 직접 탑재**: Azure Files는 SMB 액세스를 제공하므로 온-프레미스 또는 클라우드에서 Azure 파일 공유를 탑재할 수 있습니다. 탑재 시 Windows, macOS 및 Linux에서 사용할 수 있는 표준 SMB 클라이언트가 사용됩니다. Azure 파일 공유는 서버리스이므로, 프로덕션 시나리오를 위한 솔루션을 배포할 때 파일 서버 또는 NAS 디바이스를 관리할 필요가 없습니다. 직접 탑재는 소프트웨어 패치를 적용하거나 실제 디스크를 교환할 필요가 없음을 의미합니다.
    - **Azure 파일 동기화를 사용하여 온-프레미스에 Azure 파일 공유 캐시**: Azure 파일 동기화를 통해 조직의 파일 공유를 중앙 집중화할 수 있습니다. Azure Files는 온-프레미스 파일 서버의 유연성, 성능 및 호환성을 제공합니다. Azure 파일 동기화는 온-프레미스(또는 클라우드) Windows Server를 Azure 파일 공유의 빠른 캐시로 변환합니다.
    
    ### **성능 수준 선택**
    
    Azure Files는 스토리지 계정에 파일을 저장하기 때문에 [성능 수준을 선택](https://learn.microsoft.com/ko-kr/azure/storage/files/storage-files-scale-targets)할 수 있습니다. 성능 메트릭은 표준 및 프리미엄 스토리지 계정 수준 간에 다릅니다. 프리미엄 계정은 더 짧은 대기 시간과 더 높은 IOPS 및 대역폭을 제공합니다.
    
    표준 성능 계정은 HDD를 사용하여 데이터를 저장합니다. HDD를 사용하면 비용이 더 저렴하지만 성능은 더 낮습니다. SSD 배열이 프리미엄 스토리지 계정의 성능을 지원하며 따라서 비용이 더 높습니다. 현재 프리미엄 계정은 제한된 수의 지역에서만 ZRS 스토리지를 기반으로 한 파일 스토리지 계정을 사용할 수 있습니다.
    
    ### **스토리지 계층 결정**
    
    Azure Files는 4계층의 스토리지를 제공합니다. 이러한 계층을 통해 시나리오의 성능 및 가격 요구 사항을 충족하도록 파일 공유를 조정할 수 있습니다.
    
    - **프리미엄**: 파일 공유는 SSD(반도체 드라이브)를 사용하며 일관적인 고성능과 짧은 대기 시간을 제공합니다. 가장 IO 집약적인 워크로드에 사용됩니다. 적절한 워크로드에는 데이터베이스, 웹 사이트 호스팅, 개발 환경 등이 있습니다. SMB(서버 메시지 블록) 및 NFS(네트워크 파일 시스템) 프로토콜 둘 다에 사용할 수 있습니다.
    - **트랜잭션 최적화**: 프리미엄 파일 공유에서 제공하는 대기 시간이 필요 없는 트랜잭션 집약적 워크로드에 사용됩니다. 파일 공유는 HDD(하드 디스크 드라이브)를 통해 지원되는 표준 스토리지 하드웨어에 제공됩니다.
    - **핫 액세스 계층**: 팀 공유와 같은 범용 파일 공유 시나리오에 최적화된 스토리지입니다. HDD를 사용하는 표준 스토리지 하드웨어에서 제공됩니다.
    - **쿨 액세스 계층**: 온라인 보관 스토리지 시나리오에 최적화된 비용 효율적인 스토리지입니다. HDD를 사용하는 스토리지 하드웨어에서 제공됩니다.
    
    ### **구현을 선택할 때 고려해야 할 사항**
    
    구현할 [기술 결정](https://learn.microsoft.com/ko-kr/azure/storage/common/nfs-comparison)은 비즈니스 사용 사례, 파일에 필요한 프로토콜 및 성능 목표에 따라 달라집니다. Microsoft에서는 Azure Blob Storage 및 Azure Files를 사용하기 위한 고려 사항을 검토하고 있습니다. 또 다른 옵션은 완전 관리형 고가용성 엔터프라이즈급 NAS 서비스인 [Azure NetApp Files](https://learn.microsoft.com/ko-kr/azure/azure-netapp-files/)를 사용하는 것입니다. Azure NetApp Files는 가장 까다로운 고성능, 짧은 대기 시간의 워크로드를 처리할 수 있습니다. "마이그레이션할 수 없음"으로 간주되는 워크로드를 마이그레이션할 수 있습니다.
    
    다음 표에서는 이러한 세 가지 구현 옵션에 대한 기능 및 사용 사례를 비교합니다. Tailwind Traders에 대해 Azure Files 스토리지 대신 Azure Blob Storage 또는 Azure NetApp Files를 구현하는 방법을 고려해 보세요.
    
    | 비교 | Azure Blob Storage (애저 블롭 스토리지) | Azure Files | Azure NetApp 파일 |
    | --- | --- | --- | --- |
    | **설명** | Azure Blob Storage는 데이터를 한 번 수집한 후 나중에 수정하는 대규모 읽기 집약적 순차 액세스 워크로드에 가장 적합합니다.유지 관리가 거의 없거나 전혀 없는 경우 Blob Storage는 가장 낮은 총 소유 비용을 제공합니다. | Azure Files는 임의 액세스 작업에 가장 적합한 고가용성 서비스입니다.‎NFS 공유의 경우 Azure Files는 전체 POSIX 파일 시스템을 지원하며 ACI(Azure Container Instance) 및 AKS(Azure Kubernetes Service)와 같은 컨테이너 플랫폼에서 쉽게 사용할 수 있습니다. | Azure NetApp Files는 NetApp에서 제공하며 고급 관리 기능을 갖춘 클라우드의 완전 관리형 파일 서비스입니다.Azure NetApp 파일은 임의 액세스가 필요한 워크로드에 적합하며 광범위한 프로토콜 지원 및 데이터 보호 기능을 제공합니다. |
    | **사용 사례** | 대규모 분석 데이터, 처리량이 중요한 고성능 컴퓨팅, 백업 및 보관, 자율 주행, 미디어 렌더링 또는 게놈 시퀀싱 | 공유 파일, 데이터베이스, 홈 디렉터리, 기존 애플리케이션, ERP, CMS, 고급 관리가 필요 없는 NAS 마이그레이션, 스케일 아웃 파일 스토리지가 필요한 사용자 지정 애플리케이션 | 온-프레미스 엔터프라이즈 NAS 마이그레이션은 풍부한 관리 기능이 필요하며, SAP HANA와 같이 대기 시간이 민감한 워크로드, 대기 시간이 민감하거나 IOPS가 집중적인 고성능 컴퓨팅, 그리고 동시 다중 프로토콜 액세스가 필요한 워크로드가 포함됩니다. |
    | **사용 가능한 프로토콜** | - NFS 3.0- 휴식- Data Lake Storage Gen2 | - SMB- NFS 4.1- REST | - NFS 3.0 및 4.1- 중소기업 |
    | **성능(볼륨당)** | 최대 20,000IOPS 최대 15GiB/초 처리량 | 최대 100,000IOPS 최대 10GiB/초 처리량 | 최대 460,000IOPS 일반 볼륨의 경우 최대 4.5GiB/s 처리량 대용량 볼륨의 경우 최대 10GiB/s 처리량 |
    
    **팁**
    
    [**Azure NetApp Files**](https://learn.microsoft.com/ko-kr/training/modules/introduction-to-azure-netapp-files/) 교육 모듈 소개에서 파일 기반 워크로드에 대해 자세히 알아봅니다.
    
- Azure Managed Disks 디자인
    
    Azure는 많은 디스크 솔루션을 제공합니다. 이 모듈에서는 Azure Managed Disks를 사용하여 데이터 디스크를 사용하는 방법을 살펴봅니다.
    
    데이터 디스크는 가상 머신에서 데이터베이스 파일, 웹 사이트 정적 콘텐츠 또는 사용자 지정 애플리케이션 코드와 같은 데이터를 저장하는 데 사용됩니다. 추가할 수 있는 데이터 디스크의 수는 가상 머신의 크기에 따라 달라집니다. 각 데이터 디스크의 최대 용량은 32,767GB입니다.
    
    **팁**
    
    항상 [**Azure Managed Disks**](https://learn.microsoft.com/ko-kr/azure/virtual-machines/managed-disks-overview)를 사용하는 것이 좋습니다. 사용자가 디스크 크기와 디스크 유형을 지정하고 디스크를 프로비저닝합니다. Azure는 나머지 작업을 처리합니다.
    
    ### **관리 디스크에 대해 알아야 할 사항**
    
    Azure는 여러 유형의 관리 디스크를 제공합니다. 다음 표에서는 [네 가지 데이터 디스크 형식을 비교](https://learn.microsoft.com/ko-kr/azure/virtual-machines/disks-types#disk-type-comparison)하여 보여 줍니다.
    
    | 비교 | Ultra Disk | 프리미엄 SSD | 표준 SSD | 표준 HDD |
    | --- | --- | --- | --- | --- |
    | **디스크 유형** | SSD(솔리드 스테이트 드라이브) | SSD(솔리드 스테이트 드라이브) | SSD(솔리드 스테이트 드라이브) | 하드디스크 |
    | **시나리오** | SAP HANA, 최상위 계층 데이터베이스(예: SQL Server, Oracle) 및 기타 트랜잭션 집약적 워크로드와 같은 IO 집약적 워크로드 | 프로덕션 및 성능이 중요한 워크로드 | 웹 서버, 가볍게 사용되는 엔터프라이즈 애플리케이션, 개발, 테스트 | 백업, 중요하지 않음, 가끔 액세스 |
    
    ### **암호화 옵션 선택**
    
    관리 디스크에 사용할 수 있는 여러 가지 암호화 유형이 있습니다.
    
    - [**ADE(Azure Disk Encryption)**](https://learn.microsoft.com/ko-kr/azure/virtual-machines/linux/disk-encryption-overview)는 VM의 VHD(가상 하드 디스크)를 암호화합니다. VHD가 ADE로 보호될 경우 디스크를 소유하는 VM만 디스크 이미지에 액세스할 수 있습니다.
    - [**SSE(서버 쪽 암호화)**](https://learn.microsoft.com/ko-kr/azure/virtual-machines/disk-encryption)는 데이터 센터의 실제 디스크에서 수행됩니다. 누군가가 실제 디스크에 직접 액세스하면 데이터가 암호화됩니다. 누군가가 디스크의 데이터에 액세스하면 데이터가 암호 해독되어 메모리에 로드됩니다. 이러한 형태의 암호화를 미사용 암호화 또는 Azure Storage 암호화라고도 합니다.
    - [**호스트에서 암호화**](https://learn.microsoft.com/ko-kr/azure/virtual-machines/disk-encryption)를 사용하면 VM 호스트에 저장된 데이터가 미사용 시 암호화되고 Storage 서비스에 암호화된 상태로 전달됩니다. 호스트에서 암호화가 설정된 디스크는 SSE로 암호화되지 않습니다. 대신, VM을 호스트하는 서버는 데이터에 대한 암호화를 제공하고, 암호화된 데이터는 Azure Storage로 이동됩니다.
    
    ### **관리 디스크를 사용할 때 고려해야 할 사항**
    
    Tailwind Traders에 필요한 데이터 디스크 유형을 생각해 보세요. 시나리오, 처리량, IOPS를 고려합니다.
    
    - **시나리오, 처리량, IOPS를 고려**합니다. 디스크 유형을 비교하고 비즈니스 시나리오, 처리량, IOPS 요구 사항을 충족하는 데이터 디스크를 선택합니다. 자세한 내용은 [Azure IaaS VM에 맞는 디스크 유형 선택 - 관리 디스크](https://learn.microsoft.com/ko-kr/azure/virtual-machines/disks-types)를 참조하세요.
        - **Ultra Disk Storage**: Azure Ultra Disk 스토리지는 최상의 성능을 제공합니다. 높은 처리량, 높은 IOPS(초당 입/출력 작업 수) 및 짧은 대기 시간 외에도 가장 빠른 스토리지 성능이 필요한 경우 이 옵션을 선택합니다. 일부 지역에서는 Ultra Disk 스토리지를 사용할 수 없습니다.
        - **프리미엄 SSD 스토리지**: Azure 프리미엄 SSD 관리 디스크는 높은 처리량과 IOPS를 제공하면서도 대기 시간이 짧습니다. 이 디스크는 Ultra Disk Storage에 비해 성능이 약간 낮습니다. 프리미엄 SSD 스토리지는 모든 지역에서 사용할 수 있습니다.
        - **표준 SSD**: Azure 표준 SSD 관리 디스크는 낮은 속도로 일관된 성능이 필요한 VM을 위한 비용 효율적인 스토리지 옵션입니다. 표준 SSD 디스크는 프리미엄 SSD 디스크 또는 Ultra Disk Storage만큼 빠르지 않습니다. 모든 VM에 표준 SSD 디스크를 연결할 수 있습니다.
        - **표준 HDD**: Azure 표준 HDD 관리 디스크에서 데이터는 이동 스핀들이 있는 기존 자기 디스크 드라이브에 저장됩니다. 디스크는 SSD(반도체 드라이브)에 비해 속도가 느리고 속도 변화가 더 큽니다. 표준 SSD 디스크와 마찬가지로 모든 VM에 표준 HDD 디스크를 사용할 수 있습니다.
    - **데이터 캐싱을 고려합니다**. 디스크 캐싱을 통해 성능 향상 Azure 가상 머신 [디스크 캐싱](https://learn.microsoft.com/ko-kr/azure/virtual-machines/premium-storage-performance#disk-caching)은 VHD(가상 하드 디스크) 파일에 대한 읽기 및 쓰기 액세스를 최적화합니다. 이러한 VHD는 Azure 가상 머신에 연결됩니다. OS 디스크의 경우 기본 캐시 설정은 `ReadWrite`이고 데이터 디스크의 경우 기본값은 `ReadOnly`입니다.
        
        **경고**
        
        디스크 캐싱은 4TiB 이상 디스크에서 지원되지 않습니다. 여러 디스크가 가상 머신에 연결된 경우 4TiB 미만의 디스크는 캐싱을 지원합니다. Azure 디스크의 캐시 설정이 변경되면 대상 디스크를 분리하고 다시 연결합니다. OS 디스크인 경우 VM이 다시 시작됩니다.
        
- 스토리지 보안 설계
    
    Azure Storage는 스토리지 계정에 대한 액세스를 보호하고 액세스 수준을 제어하는 데 사용할 수 있는 계층화된 보안 모델을 제공합니다. 이 모델은 방화벽 정책, 고객 관리형 키 및 엔드포인트를 비롯한 여러 스토리지 보안 옵션으로 구성됩니다. 개발자 과정의 이 비디오에서는 스토리지 보안 기능을 강조 표시합니다.
    
    ### **스토리지 보안에 대해 알아야 할 사항**
    
    스토리지 보안에 대한 몇 가지 모범 사례를 살펴보겠습니다. Tailwind Traders 인프라에 사용할 수 있는 옵션에 대해 생각해 보세요.
    
    - [Azure Storage에 대한 Azure 보안 기준은 Azure](https://learn.microsoft.com/ko-kr/security/benchmark/azure/baselines/storage-security-baseline) Storage 리소스에 대한 제한된 액세스 권한을 부여합니다. Azure 보안 기준은 Azure Storage를 보호하는 포괄적인 방법 목록을 제공합니다.
    - [SAS(공유 액세스 서명)](https://learn.microsoft.com/ko-kr/azure/storage/common/storage-sas-overview) 는 스토리지 계정의 리소스에 대한 보안 위임된 액세스를 제공합니다. SAS를 사용하면 클라이언트가 데이터에 액세스하는 방법을 세부적으로 제어할 수 있습니다.
    - [방화벽 정책 및 규칙은](https://learn.microsoft.com/ko-kr/azure/storage/common/storage-network-security) 스토리지 계정에 대한 액세스를 제한합니다. 요청을 특정 IP 주소 또는 범위로 제한하거나 Azure 가상 네트워크의 서브넷 목록으로 제한할 수 있습니다. Azure Storage 방화벽은 스토리지 계정의 퍼블릭 엔드포인트에 대한 액세스 제어 기능을 제공합니다.
    - [보안 전송](https://learn.microsoft.com/ko-kr/azure/storage/common/storage-require-secure-transfer) 을 사용하면 Azure Storage 계정이 보안 연결의 요청을 수락할 수 있습니다. 보안 전송을 요구하면 비보안 연결에서 시작된 모든 요청이 거부됩니다. 모든 스토리지 계정에 대해 항상 보안 전송을 요구하는 것이 좋습니다.
    - 스토리지 계정의 데이터는 자동으로 암호화됩니다. Azure Storage 암호화는 스토리지 계정 수준에서 암호화 키를 관리하는 두 가지 방법을 제공합니다.
        - Microsoft 관리형 키: 기본적으로 Microsoft에서 스토리지 계정을 암호화하는 데 사용되는 키를 관리합니다.
        - [고객 관리형 키](https://learn.microsoft.com/ko-kr/azure/storage/common/storage-encryption-key-model-get): 필요에 따라 스토리지 계정의 암호화 키를 관리하도록 선택할 수 있습니다. 이러한 키는 Azure Key Vault에 저장해야 합니다.
    
    ### **스토리지 보안을 구현할 때 고려해야 할 사항**
    
    Azure Storage의 일부 보안 옵션을 검토합니다. Tailwind Traders에 대한 보안을 구성하는 방법을 결정하는 데 몇 분 정도 걸립니다.
    
    - **Azure 보안 기준 옵션을 고려합니다**. Azure 보안 기준에서 제공하는 포괄적인 옵션을 검토하여 Azure Storage를 보호합니다. Azure Storage 리소스에 대해 제한된 액세스 권한을 부여합니다.
    - **공유 액세스 서명을 고려합니다**. 클라이언트가 액세스할 수 있는 Tailwind Traders 리소스를 지정합니다. 리소스에 대한 액세스 권한을 정의합니다. SAS가 유효한 상태를 유지하는 기간을 구성합니다.
    - **방화벽 정책 및 규칙을 고려합니다**. 요청을 Azure 가상 네트워크의 IP 주소 또는 서브넷으로 제한합니다. 프라이빗 엔드포인트를 사용할 때 Azure Storage 방화벽을 사용하여 퍼블릭 엔드포인트를 통한 모든 액세스를 차단합니다. 신뢰할 수 있는 Azure 플랫폼 서비스을 선택하여 스토리지 계정에 안전하게 액세스할 수 있도록 합니다.
    - **프라이빗 엔드포인트를 고려합니다**. 프라이빗 엔드포인트를 추가하여 가상 네트워크의 Azure 서비스에 사용되는 특별한 네트워크 인터페이스를 만듭니다. 스토리지 계정에 프라이빗 엔드포인트를 구현할 때 가상 네트워크 및 스토리지의 클라이언트 간에 보안 연결을 제공합니다.
        
        ![Azure Storage 계정에 대한 프라이빗 링크를 사용하는 프라이빗 엔드포인트의 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-non-relational-data/media/private-links.png)
        
    - **보안 전송을 고려합니다**. (Microsoft 권장 사항) 모든 스토리지 계정에 대해 항상 보안 전송을 요구합니다. Azure Portal에서 스토리지 계정에 **대한 보안 전송 사용을** 선택합니다. `Secure transfer required` 속성은 Azure Storage 계정을 만들 때 기본적으로 사용하도록 설정됩니다.
    - **고객 관리형 키를 고려합니다**. Azure Key Vault에 저장된 고객 관리형 키를 사용하여 스토리지 계정에 대한 암호화 키를 관리합니다. 고객 관리형 키를 사용하면 암호화 키 및 암호화된 데이터에 대한 액세스를 완전히 제어할 수 있습니다.
    
    **팁**
    
    스토리지 보안을 계획하고 구현하는 교육 모듈에서 스토리지 보안에 대해 더 많은 정보를 배울 수 있습니다.
    

### 관계형 데이터를 위한 데이터 스토리지 솔루션 설계

- Azure SQL Database에 대한 설계
    
    관계형 데이터는 공유 스키마가 있는 구조화된 데이터 형식입니다. 데이터는 행, 열, 키가 있는 데이터베이스 테이블에 저장되며, 전자상거래 웹 사이트와 같은 애플리케이션 스토리지에 사용됩니다. Tailwind Traders의 CTO는 온-프레미스에서 기존 구조적 데이터를 지원하도록 Azure용 데이터베이스를 설계해야 합니다. 회사에서 시작한 기존 데이터 및 향후 관계형 데이터 워크로드를 지원하는 스토리지 솔루션을 찾고 있습니다.
    
    Azure SQL 플랫폼의 우산 내에는 많은 AI 지원 배포 옵션과 선택 사항을 고려해야 합니다.
    
    ## **Azure SQL 데이터베이스**
    
    Azure SQL Database는 OS 및 SQL Server 인스턴스를 둘 다 추상화하는 Azure SQL의 PaaS 배포 옵션입니다. Azure SQL 데이터베이스는 완전 관리형 서비스(PaaS)입니다. 고가용성, 튜닝 및 백업의 구성 및 관리 같은 복잡한 데이터베이스 작업을 처리할 필요가 없습니다. 서비스는 수동 업그레이드 필요 없이 각 SQL 데이터베이스를 자동으로 업그레이드하여 최신 버전의 SQL Server를 실행합니다.
    
    ### **Azure SQL Database에 관해 알아야 할 사항**
    
    SQL Database 배포 옵션의 다음 특성을 검토합니다.
    
    - 확장성이 뛰어난 지능형 관계형 데이터베이스 서비스로, 업계 최고 가용성을 사용하여 클라우드용으로 구축되었습니다.
    - SQL Database는 큰 규모의 데이터베이스(현재 최대 100TB) 및 예측 불가능한 워크로드를 위한 자동 크기 조정(서버리스)이 요구되는 시나리오를 지원하는 유일한 배포 옵션이기도 합니다.
    - 풀의 모든 데이터베이스가 동일한 컴퓨팅 및 스토리지 리소스 집합을 공유하는 **SQL Database 탄력적** 데이터베이스 풀을 만들 수 있습니다. 각 데이터베이스는 현재 부하에 따라 설정한 한도 내에서 필요한 리소스를 사용할 수 있습니다.
    - SQL Database의 두 가지 기본 가격 책정 옵션은 DTU 및 vCore입니다. 단일 데이터베이스에도 서버리스 옵션을 사용할 수 있습니다.
        
        ![두 가지 기본 Azure SQL Database 가격 책정 옵션인 vCore 및 DTU의 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/select-azure-sql-database-pricing-model.png)
        
        - **vCore**: vCore는 가상 코어입니다. 가상 코어 수를 선택하고 컴퓨팅 비용을 더 많이 제어할 수 있습니다. 이 옵션은 SQL Server 및 예약된 용량에 대한 Azure 하이브리드 혜택을 지원합니다(선불).
        - **DTU**: DTU(데이터베이스 트랜잭션 단위)는 컴퓨팅, 스토리지 및 IO 리소스가 결합된 측정값입니다. DTU 옵션은 미리 구성된 간편한 구매 옵션입니다.
        - **서버리스**: SQL Database의 단일 데이터베이스를 위한 컴퓨팅 계층입니다. 서버리스 모델은 워크로드 요구 사항에 따라 자동으로 컴퓨팅 크기를 조정하고 사용된 컴퓨팅 양에 대한 요금만 청구합니다.
    
    ### **비즈니스 시나리오**
    
    Azure SQL Database에 대한 비즈니스 시나리오를 살펴보겠습니다. AccuWeather는 55년 넘게 날씨를 분석하고 예측해 왔습니다. 회사는 빅 데이터, 기계 학습, AI 기능을 위해 Azure 플랫폼을 사용하기로 선택했습니다. AccuWeather는 데이터베이스 관리가 아니라 새로운 모델 및 애플리케이션 구축에 집중하기를 원했습니다. 그래서 SQL Database를 Azure Data Factory, Azure Machine Learning 등 다른 서비스와 함께 사용하도록 선택하여 매출 및 고객을 예측하기 위해 새로운 내부 애플리케이션을 빠르고 쉽게 배포했습니다.
    
    ![Azure SQL Database의 비즈니스 시나리오를 보여주는 일러스트레이션.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/azure-sql-database.png)
    
    ### **Azure SQL Database를 사용할 때 고려해야 할 사항**
    
    Tailwind Traders에 대한 관계형 데이터 스토리지 계획에 Azure SQL Database를 포함할 수 있는 방법을 고려합니다.
    
    - **vCore 가격 책정을 고려합니다**. (Microsoft 권장) 여러 SQL 데이터베이스 또는 탄력적 데이터베이스 풀에 대해 컴퓨팅 및 스토리지 리소스를 독립적으로 선택합니다. SQL Server 또는 예약된 용량에 대한 Azure 하이브리드 혜택(선불)을 사용해 비용을 절약합니다. 만들고 비용을 지불하는 컴퓨팅 및 스토리지 리소스를 제어합니다.
    - **DTU 가격 책정을 고려합니다**. 여러 SQL 데이터베이스를 지원하도록 컴퓨팅, 스토리지 및 I/O 리소스의 번들 측정값에 대해 미리 구성된 간편한 구매 계획을 선택합니다. Azure SQL Managed Instance에는 이 옵션을 사용할 수 없습니다.
    - **서버리스 옵션을 고려합니다**. 단일 SQL 데이터베이스에 서버리스 컴퓨팅 계층을 사용합니다. 사용된 컴퓨팅 양에 대해서만 요금이 청구됩니다.
    - **탄력적 데이터베이스 풀을 고려합니다**. 탄력적 풀의 모든 SQL 데이터베이스 간에 공유할 컴퓨팅 및 스토리지 리소스 집합을 구입합니다. 자세한 내용은 [SQL 탄력적 풀](https://learn.microsoft.com/ko-kr/azure/azure-sql/database/elastic-pool-overview)을 참조하세요.
- Azure SQL Managed Instance에 대한 설계
    
    Azure SQL Managed Instance는 Azure SQL의 PaaS 배포 옵션입니다. Azure SQL Database와 마찬가지로 Azure SQL Managed Instance는 완전 관리형 서비스입니다. SQL Server 인스턴스를 제공하지만 가상 머신 관리 오버헤드의 대부분을 제거합니다. 단일 관리형 인스턴스 또는 관리되는 인스턴스 풀을 배포할 수 있습니다.
    
    ![Azure SQL Managed Instance 형식을 보여 주는 일러스트레이션](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/sql-managed-instance-types.png)
    
    ### **Azure SQL Managed Instance에 대해 알아야 할 사항**
    
    SQL Managed Instance 배포 옵션의 다음 특성을 검토합니다.
    
    - SQL Managed Instance를 사용하여 애플리케이션을 다시 디자인하지 않고도 Azure로의 리프트 앤 시프트 마이그레이션을 수행할 수 있습니다.
    - Azure SQL Managed Instance는 SQL Server 에이전트, CLR(공용 언어 런타임), 데이터베이스 메일, 분산 트랜잭션 및 Machine Learning Services와 같은 인스턴스 범위 기능에 관심이 있는 고객에게 적합합니다.
    - SQL Managed Instance는 vCore 모드를 사용합니다. 관리되는 인스턴스에 할당된 최대 CPU 코어 및 최대 스토리지를 정의할 수 있습니다. 관리되는 인스턴스 내의 모든 데이터베이스가 인스턴스에 할당된 리소스를 공유합니다.
    - SQL Server에서 사용할 수 있는 기능은 대부분 SQL Managed Instance에서 사용할 수 있습니다. [SQL Database 및 SQL Managed Instance의 비교를 검토합니다](https://learn.microsoft.com/ko-kr/azure/azure-sql/database/features-comparison).
    
    ### **비즈니스 시나리오**
    
    Azure SQL Managed Instance에 대한 비즈니스 시나리오를 살펴보겠습니다. Komatsu는 건설용 중장비를 생산하고 판매하는 제조 회사입니다. 다양한 형식의 데이터를 위한 여러 메인프레임 애플리케이션이 있었으며, Komatsu는 이러한 애플리케이션을 통합하여 종합적으로 파악하고자 합니다. 추가로 Komatsu는 오버헤드를 줄이는 방법을 원합니다. 이 회사는 SQL Server 기능의 노출 영역이 넓기 때문에 IT 부서는 Azure SQL Managed Instance로 이동하고자 합니다. 약 1.5TB의 데이터를 원활하게 이동할 수 있었고 많은 이점을 얻었습니다. Azure SQL Managed Instance로 배포하면서 회사는 자동 패치 및 버전 업데이트, 자동화된 백업, 고가용성 및 관리 오버헤드 감소 이점을 얻습니다.
    
    ![Azure SQL Managed Instance에 대한 비즈니스 시나리오를 보여 주는 일러스트레이션](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/sql-managed-instance.png)
    
    ### **Azure SQL Managed Instance를 사용할 때 고려해야 할 사항**
    
    Tailwind Traders에 대한 관계형 데이터 스토리지 계획에 Azure SQL Managed Instance를 포함할 수 있는 방법을 고려합니다.
    
    - **인스턴스 단위의 기능:**. Service Broker, CLR, SQL Server 에이전트 및 연결된 서버와 같은 Azure SQL Managed Instance의 인스턴스 범위 기능을 사용합니다. 애플리케이션을 다시 디자인하지 않고 관계형 및 정형 데이터를 Azure로 마이그레이션합니다.
    - **인스턴스 확장성을 고려:**. vCore 모드를 사용하도록 설정하여 인스턴스에 대한 확장성을 추가합니다. 인스턴스에 대한 최대 CPU 코어 및 스토리지를 정의할 수 있으므로 인스턴스의 모든 데이터베이스가 동일한 리소스를 공유합니다.
    
- Azure Virtual Machines의 SQL Server를 위한 디자인
    
    Azure Virtual Machines의 SQL Server는 Azure VM(가상 머신)에서 실행되는 버전의 SQL Server입니다. 이 서비스를 사용하면 온-프레미스 머신을 관리하지 않고도 클라우드에서 전체 버전의 SQL Server를 사용할 수 있습니다. Azure VM은 다양한 크기로 제공되며 다양한 지역에서 실행할 수 있습니다. 각 SQL Server VM은 특정 버전 및 운영 체제 요구 사항을 충족하도록 만들 수 있으므로 여러 SQL Server 워크로드를 처리하는 데 적합한 옵션입니다.
    
    ### **Azure Virtual Machines의 SQL Server에 대해 알아야 할 사항**
    
    Azure Virtual Machines 배포 옵션에서 SQL Server의 다음 특성을 검토합니다.
    
    - Azure Virtual Machines에서 SQL Server를 실행하면 SQL Server의 전체 기능에 액세스할 수 있습니다.
    - 모든 SQL Server 기술은 마이그레이션 중에 이 직접 이전해야 하며, Azure에서 백업 및 보안 패치를 자동화하도록 지원할 수 있습니다.
    - Azure SQL Database 및 Azure SQL Managed Instance 배포 옵션과 달리, 사용자가 OS 및 SQL Server에 대한 버전 업데이트 작업을 담당합니다.
    
    ### **비즈니스 시나리오**
    
    Azure Virtual Machines의 SQL Server에 관한 비즈니스 시나리오를 살펴보겠습니다. AllScripts는 의료 소프트웨어의 선도적인 제조업체입니다. 이 회사는 의사의 진료, 병원, 건강 보험 및 제약 산업에 제품과 서비스를 제공합니다. AllScripts는 애플리케이션을 자주 변환하고 안전하고 안정적으로 호스트하기 위해 데이터를 Azure로 신속하게 이동하기를 원합니다. 불과 3주 만에 이 회사는 Azure Site Recovery를 사용하여 약 1,000개의 VM에서 실행 중이던 구입한 애플리케이션 수십 개를 Azure로 마이그레이션했습니다.
    
    ![Azure Virtual Machines의 SQL Server에 관한 비즈니스 시나리오를 보여주는 그림.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/sql-server.png)
    
    ### **Azure Virtual Machines에서 SQL Server를 사용할 때 고려해야 할 사항**
    
    Tailwind Traders의 관계형 데이터 스토리지 계획에 Azure Virtual Machines의 SQL Server를 포함할 수 있는 방법을 고려합니다.
    
    - **서버 액세스를 고려합니다**. 가상 머신에서 SQL Server를 구현하여 SQL Server 및 운영 체제 서버에 액세스합니다. SQL Server 및 운영 체제 버전에 대한 광범위한 지원이 제공됩니다.
    - **자동화된 관리를 고려합니다**. 가상 머신에 SQL Server의 자동화된 관리 기능을 사용합니다.
    - **Azure 하이브리드 혜택을 고려합니다**. 기존 온-프레미스 Windows Server 및 SQL Server 라이선스에 [Azure 하이브리드 혜택](https://azure.microsoft.com/pricing/hybrid-benefit/faq/)을 적용합니다.
    
    ## **Azure SQL 배포 옵션 비교**
    
    다양한 Azure SQL 배포 옵션을 검토합니다. 솔루션 기능과 권장되는 사용 시나리오를 비교하고 어떤 옵션이 Tailwind Traders 조직을 지원할지에 대해 생각해 보세요.
    
    | 비교 | SQL 데이터베이스 | SQL 관리 인스턴스 | Azure Virtual Machines의 SQL Server |
    | --- | --- | --- | --- |
    | **시나리오** | 최신 클라우드 애플리케이션, 하이퍼스케일 또는 서버리스 구성에 가장 적합 | 클라우드로의 대부분의 리프트 앤 시프트, 인스턴스 범위 기능에 적합 | 빠른 마이그레이션 및 OS 수준 액세스가 필요한 애플리케이션에 가장 적합 |
    | **기능** | ***단일 데이터베이스***- 하이퍼스케일 스토리지(최대 100TB 데이터베이스의 경우)- 서버리스 컴퓨팅- 완전 관리형 서비스***탄력적 풀***- 가격 최적화를 위해 여러 데이터베이스 간의 리소스 공유- 여러 데이터베이스에 대한 간소화된 성능 관리- 완전 관리형 서비스 | ***단일 인스턴스***- SQL Server 표면적(대부분)- 네이티브 가상 네트워크- 완전 관리형 서비스***인스턴스 풀***- 마이그레이션을 위한 컴퓨팅 리소스 사전 프로비전- 비용 효율적인 마이그레이션- 더 작은 인스턴스 호스트(2vCore)- 완전 관리형 서비스 | ***Azure Virtual Machines***- SQL Server 액세스- OS 수준 서버 액세스- SQL Server에 대한 광범위한 버전 지원- 광범위한 OS 버전 지원- 파일 스트림, Microsoft DTC(Distributed Transaction Coordinator) 및 단순 복구 모델- SQL Server Integration Services(SSIS), SQL Server Reporting Services(SSRS) 및 SQL Server Analysis Services(SSAS) |
    
    **팁**
    
    [**Azure SQL 제품군 제품**](https://learn.microsoft.com/ko-kr/training/modules/azure-sql-intro/) 모듈 소개에서 자세히 알아보세요.
    
- 데이터베이스 확장성을 위한 솔루션 권장
    
    Tailwind Traders의 CTO로서, 짧은 대기 시간과 높은 가용성으로 관계형 데이터를 저장하는 데이터베이스 솔루션에 관심이 있습니다. 5가지 배포 옵션을 검토한 후 완전 관리형 서비스 기능을 위해 Azure SQL Database를 구현하기로 결정합니다. 가용성 영역을 사용할 때 중요 비즈니스용 서비스 계층에서 제공되는 고가용성 SLA를 얻을 수 있기를 바랍니다.
    
    다음 결정은 관계형 데이터베이스에 대한 확장성을 지원하는 방법입니다. 가용성 또는 성능에 부정적인 영향을 주지 않고 시간 경과에 따라 확장된 요청 수를 처리할 수 있는 동적 확장 가능한 솔루션이 필요합니다.
    
    ## **Azure SQL Database 및 동적 확장성**
    
    Azure SQL Database는 동적 확장성을 지원합니다. 가동 중지 시간을 최소화하면서 CPU 성능, 메모리, I/O 처리량, 스토리지와 같이 데이터베이스에 할당된 리소스를 쉽게 변경할 수 있습니다. Azure Portal을 사용하여 기존 인프라를 변경하거나 새 하드웨어를 구매하지 않고도 Azure SQL 데이터베이스의 크기를 조정합니다.
    
    ### **동적 확장성에 대해 알아야 할 사항**
    
    Azure SQL 데이터베이스에 대한 동적 확장성의 다음 특성을 검토합니다.
    
    - DTU 또는 vCore 모델을 선택하고 단일 데이터베이스 구현을 사용하여 각 데이터베이스에 할당할 최대 리소스 양을 정의합니다.
    - Elastic Database 풀을 사용하고 그룹에 대한 리소스를 구입한 다음 풀 내의 데이터베이스에 대한 최소 및 최대 리소스 제한을 설정합니다.
    - 수직 또는 수평 크기 조정을 구현합니다.
        - **수직**: *스케일 업*이라고도 하며, 개별 데이터베이스의 컴퓨팅 크기를 늘리거나 줄입니다. SQL Database Elastic Database 풀을 사용하여 수직 크기 조정을 구현합니다. 평균 사용률은 낮지만 드물게 사용률이 높아지는 경우에는 급증을 관리하기 위한 풀의 충분한 용량을 그룹에 대해 할당할 수 있습니다.
        - **수평**: 데이터베이스를 추가하거나 제거하여 용량 또는 전반적인 성능을 조정합니다(*스케일 아웃*이라고도 함). 분할을 사용하여 데이터를 분할하거나 스케일 아웃 프로비저닝을 읽어 수평 크기 조정을 적용합니다.
    
    ### **비즈니스 시나리오**
    
    수직 크기 조정을 사용하기 위한 비즈니스 시나리오를 살펴보겠습니다. 한 소규모 기업이 전 세계적으로 급속한 성장을 경험합니다. 이 회사는 위치별로 별도의 SQL 데이터베이스를 유지 관리하고 확장해야 합니다. 성장율과 데이터베이스 부하는 지역에 따라 크게 다릅니다. 리소스 요구 사항은 예측할 수 없습니다. 이상적인 동적 크기 조정 솔루션은 수직 크기 조정과 함께 SQL Elastic Database 풀을 사용하는 것입니다. SQL 데이터베이스 집합의 크기를 조정하고, 성능과 비용을 관리할 수 있습니다. 자세한 내용은 [SQL Elastic Database 풀](https://learn.microsoft.com/ko-kr/azure/azure-sql/database/elastic-pool-overview)을 참조하세요.
    
    ![다양한 서비스 계층의 SQL Elastic Database 풀 및 크기 조정 기능을 보여 주는 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/elastic-pools.png)
    
    ### **확장성 솔루션을 선택할 때 고려해야 할 사항**
    
    다음 크기 조정 시나리오를 검토하고 Tailwind Traders에서 사용할 수 있는 데이터베이스 크기 조정 전략을 생각해 보세요.
    
    | 시나리오 | 크기 조정 솔루션 |
    | --- | --- |
    | 리소스 요구 사항이 다양하고 예측할 수 없는 여러 Azure SQL Database를 관리하고 스케일링합니다. | **Elastic Database 풀 및 수직 크기 조정**. Elastic Database 풀을 사용하여 데이터베이스가 필요할 때 필요한 성능 리소스를 얻을 수 있도록 합니다. 탄력적 풀은 예측 가능한 예산 내에서 간단한 리소스 할당 메커니즘을 제공합니다. 탄력적 풀에 대한 데이터베이스당 요금은 없습니다. 사용량에 관계없이 또는 풀이 한 시간 미만 동안 활성 상태였는지 여부에 관계없이 풀이 최고 eDTU 또는 vCore 수에 있었던 시간에 대해 시간당 요금이 청구됩니다. |
    | 규정 준수를 위해 데이터베이스의 여러 섹션이 서로 다른 지리적 위치에 상주합니다. | **수평 크기 조정 및 분할**. 분할을 사용하면 데이터를 여러 데이터베이스로 분할하고 독립적으로 확장할 수 있습니다. 분할된 데이터베이스 맵 관리자는 분할된 데이터베이스 집합에서 모든 분할된 데이터베이스(데이터베이스)에 대한 전역 매핑 정보를 유지 관리하는 특수한 데이터베이스입니다. 메타데이터를 사용하면 애플리케이션이 분할 키의 값에 따라 올바른 데이터베이스에 연결할 수 있습니다. |
    | 종속성은 여러 데이터베이스가 Excel, Power BI 또는 Tableau에 사용할 단일 전체 결과에 행을 제공하는 경우 상용 BI 또는 데이터 통합 도구를 지원합니다. | **탄력적 데이터베이스 도구 및 탄력적 쿼리**. 탄력적 데이터베이스 도구와 탄력적 쿼리 기능을 사용하여 여러 데이터베이스에 걸쳐 분산된 데이터에 액세스합니다. 탄력적 쿼리는 표준 계층에서 사용할 수 있습니다. 쿼리는 Azure SQL Database의 여러 데이터베이스를 아우르는 T-SQL에서 이루어질 수 있습니다. 데이터베이스 간 쿼리를 실행하여 원격 테이블에 액세스하고 도구(Excel, Power BI, Tableau 등)를 연결하고 데이터 계층 간에 쿼리합니다. 큰 데이터 계층에 대한 쿼리를 확장할 수 있으며 비즈니스 인텔리전스 보고서의 결과를 시각화할 수도 있습니다. |
    
    **팁**
    
    [**Azure SQL Database 여러 개를 SQL 탄력적 풀로 크기 조정**](https://learn.microsoft.com/ko-kr/training/modules/scale-sql-databases-elastic-pools/) 학습 모듈에서 학습을 계속하십시오.
    
- 데이터베이스 사용 가능성을 위한 솔루션 권장
    
    Azure SQL은 서비스 계층에 따라 다양한 수준의 데이터베이스 가용성 옵션 및 기능을 제공합니다. 서비스 계층에 따라 배포하는 데이터베이스 또는 관리되는 인스턴스의 기본 아키텍처가 결정됩니다.
    
    ### **범용 가용성에 대해 알아야 할 사항**
    
    범용(또는 표준) 서비스 계층의 SQL 데이터베이스 및 관리되는 인스턴스에는 동일한 가용성 아키텍처가 있습니다.
    
    ![vCore 범용 계층의 SQL Database 고가용성을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/general-purpose.png)
    
    이미지는 vCore 범용(또는 DTU 표준) 계층에 대한 가용성 아키텍처를 보여 줍니다.
    
    - 애플리케이션은 서버 이름에 연결되며, 서버 이름은 게이트웨이**GW**에 연결되어 애플리케이션이 연결할 서버를 가리키도록 합니다. 애플리케이션은 VM에서 실행되고 있습니다.
    - 범용 계층은 원격 스토리지를 사용합니다. 주 복제본은 로컬로 연결된 SSD를 임시 데이터베이스인 **tempdb**에 사용합니다.
    - 데이터 및 로그 파일은 로컬 중복 스토리지인 Azure Premium Storage에 저장됩니다. 지역의 한 영역에 여러 복사본이 저장됩니다.
    - 백업 파일은 Azure Standard Storage에 저장되며, 이 스토리지는 기본적으로 RA-GRS, 즉 전역 중복 스토리지(사본이 여러 영역에 위치함)입니다.
    
    모든 Azure SQL은 Azure 백본 역할을 하는 Azure Service Fabric를 기반으로 빌드됩니다. Azure Service Fabric에서 장애 조치가 필요하다고 판단하는 경우 해당 장애 조치는 FCI(장애 조치 클러스터 인스턴스)의 장애 조치와 유사합니다. 서비스 패브릭은 예비 용량이 있는 노드를 찾고 새 SQL Server 인스턴스를 실행합니다. 데이터베이스 파일이 연결되고, 복구가 실행되며, 애플리케이션이 새 노드에 가리키도록 게이트웨이가 업데이트됩니다. 가상 네트워크 또는 수신기나 업데이트는 필요하지 않습니다. 이러한 기능은 기본 제공됩니다.
    
    ### **중요 비즈니스용 가용성에 대해 알아야 할 사항**
    
    중요 비즈니스용(또는 프리미엄) 계층에서는 일반적으로 모든 Azure SQL 서비스 계층의 최고 성능과 가용성을 달성할 수 있습니다. 이 계층은 짧은 대기 시간과 최소 가동 중지 시간이 필요한 중요 업무용 애플리케이션에 사용됩니다.
    
    ![vCore 중요 비즈니스용 계층의 SQL Database 고가용성을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/business-critical.png)
    
    이 이미지는 vCore 중요 비즈니스용(또는 DTU 프리미엄) 계층에 대한 가용성 아키텍처를 보여 줍니다.
    
    - 중요 비즈니스용 계층의 데이터베이스 가용성은 백그라운드에서 Always On 가용성 그룹을 배포하는 것과 같습니다.
    - 범용 계층과는 달리, 데이터와 로그 파일은 모두 직접 연결된 SSD에서 실행되며, 이는 네트워크 대기 시간을 크게 줄여줍니다.
    - 이 계층에는 3개의 보조 복제본이 있습니다. 하나의 보조 복제본을 읽기 전용 엔드포인트로 사용할 수 있습니다(추가 비용 없음). 하나 이상의 보조 복제본이 변경을 완료하면 트랜잭션이 커밋을 완료할 수 있습니다.
    
    ### **하이퍼스케일 가용성에 대해 알아야 할 사항**
    
    하이퍼스케일 서비스 계층은 Azure SQL Database에서만 사용할 수 있습니다. 이 서비스 계층에는 고유한 아키텍처가 있는데, 계층화된 캐시 계층과 페이지 서버를 사용하여 데이터 파일에 직접 액세스하지 않고도 빠르게 데이터베이스 페이지에 액세스하는 기능을 확장하기 때문입니다.
    
    ![vCore 하이퍼스케일 계층의 SQL Database 고가용성을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/hyperscale-architecture.png)
    
    이미지는 vCore 하이퍼스케일 계층의 가용성 아키텍처를 보여 줍니다.
    
    - 하이퍼스케일 계층 아키텍처는 쌍을 이루는 페이지 서버를 사용합니다. 모든 데이터를 캐싱 계층에 넣도록 수평적으로 스케일링할 수 있습니다.
    - 하이퍼스케일 아키텍처는 100TB의 데이터베이스를 지원합니다.
    - 이 계층은 데이터베이스 크기와 관계없이 거의 즉각적인 데이터베이스 백업을 허용하는 스냅샷을 사용합니다.
    - 데이터베이스 복원에 몇 시간이나 며칠이 아닌 몇 분이 소요됩니다.
    - 워크로드에 맞게 일정 시간에 스케일 업 또는 스케일 다운할 수 있습니다.
    
    ### **데이터베이스 가용성을 선택할 때 고려해야 할 사항**
    
    다음 표에서는 vCore 서비스 계층에서 데이터베이스 가용성에 대한 지원을 비교합니다. DTU 모델의 경우 기본 및 표준 계층을 vCore 범용 계층과 동일시하고 프리미엄 계층을 vCore 중요 비즈니스용 계층과 동일시할 수 있습니다. DTU 모델은 하이퍼스케일 계층을 제공하지 않습니다. 지원 옵션을 비교할 때 Tailwind Traders의 데이터베이스 가용성 요구 사항을 충족하는 서비스 계층을 생각해 보세요.
    
    | SQL Database/SQL Managed Instance vCore 계층 | SQL Database DTU 계층 | 데이터베이스 가용성 지원 |
    | --- | --- | --- |
    | **범용** | **표준** 또는 **기본** | 비즈니스 워크로드에 균형 있는 컴퓨팅 및 스토리지 옵션을 제공하는 경우 |
    | **중요 비즈니스용** | **프리미엄** | 짧은 대기 시간 요구 사항을 충족하고 비즈니스 애플리케이션의 오류에 대한 최고 수준의 복원력을 사용하는 경우 |
    | **하이퍼스케일** | 적용 가능한 계층 없음 | 확장성이 뛰어난 스토리지를 제공하고 비즈니스 워크로드에 대한 읽기 확장 요구 사항을 충족하는 경우 |
- 미사용 데이터, 전송 중 데이터 및 사용 중 데이터의 보안 설계
    
    많은 조직에서 전화번호, 주소, 주문 및 신용카드 정보를 저장하는 대규모 고객 데이터베이스에 Azure SQL Database를 사용합니다. 클라우드 호스팅 데이터베이스에 대한 무단 데이터 액세스를 방지하기 위한 보안 솔루션이 필요합니다. 민감도 및 비즈니스 시나리오를 기준으로 저장된 데이터를 분류하면 조직에서 데이터 관련 위험을 확인할 수 있습니다.
    
    우수한 정보 보안의 세 가지 기본 원칙은 데이터 검색, 분류 및 보호입니다. 이 단원에서는 다양한 데이터 상태 및 암호화 방법을 검토하여 강력한 보안 솔루션에 이러한 원칙을 적용합니다.
    
    ## **정형 데이터에 대한 데이터 암호화**
    
    데이터는 미사용 데이터, 전송 중 데이터, 처리 중 데이터라는 세 가지 기본 상태 중 하나로 존재합니다.
    
    - **미사용 데이터**는 이동 또는 사용되지 않는 스토리지 디바이스의 데이터입니다. 미사용 데이터에는 Outlook 받은 편지함에 저장된 보관 전자 메일 메시지 또는 사용하지 않는 노트북의 파일이 포함됩니다. 미사용 데이터 암호화는 데이터 프라이버시, 규정 준수 및 데이터 주권을 위한 필수 단계입니다.
    - **전송 중 데이터**(*이동 중 데이터*라고도 함)는 개인 네트워크 또는 인터넷과 같은 공용 네트워크 내에서 한 디바이스에서 다른 디바이스로 이동하는 데이터입니다. 이동 중인 데이터는 읽고 있지만 변경되지 않은 데이터일 수도 있습니다. 전송 중 데이터에는 전송 중인 전자 메일 메시지, 인터넷 웹 사이트 검색 또는 조직도와 같은 회사 애플리케이션 사용이 포함됩니다.
    - **처리 중 데이터**는 열려 있고 변경되는 데이터입니다. 처리 중 데이터에는 전자 메일 메시지 작성, 작업 파일 저장 또는 웹 사이트의 주문이 포함됩니다.
    
    각 데이터 상태에 대해 서로 다른 암호화 방법이 있습니다. 다음 표에서는 방법을 요약합니다.
    
    | 데이터 상태 | 암호화 방법 | 암호화 수준 |
    | --- | --- | --- |
    | **미사용 데이터** | 투명한 데이터 암호화(TDE) | Always Encrypted. |
    | **전송 중 데이터** | SSL/TLS(Secure Socket Layers and Transport Layer Security) | Always Encrypted. |
    | **처리 중 데이터** | 동적 데이터 마스킹 | 특정 데이터는 암호화되지 않습니다. 나머지 데이터는 암호화됩니다. |
    
    ### **데이터 암호화에 대해 알아야 할 사항**
    
    - TDE(투명한 데이터 암호화)는 미사용 데이터를 암호화하여 악의적인 오프라인 활동의 위협으로부터 Azure SQL Database, Azure SQL Managed Instance, Azure Synapse Analytics를 보호합니다. TDE는 애플리케이션을 변경하지 않고 미사용 데이터베이스, 연결된 백업 및 트랜잭션 로그 파일을 실시간으로 암호화 및 암호 해독을 수행합니다. 기본적으로 TDE는 새로 배포된 모든 Azure SQL Database에 대해 활성화됩니다.
    - Azure SQL Database, Azure SQL Managed Instance 및 Azure Synapse Analytics는 항상 모든 연결에 대해 SSL/TLS(Secure Socket Layers and Transport Layer Security) 암호화를 적용합니다. 이러한 암호화 수준으로 모든 데이터가 클라이언트와 서버 간에 “전송 중”에 암호화됩니다. TLS(전송 계층 보안)는 Microsoft가 Azure SQL Database의 데이터베이스 또는 Azure SQL Managed Instance에 대한 연결을 위해 제공하거나 지원하는 모든 드라이버에서 사용됩니다.
    - 사용 중 데이터는 *동적 데이터 마스킹*이라는 정책 기반 보안 기능을 사용합니다. 이 기능은 데이터베이스의 데이터가 변경되지 않으면서 지정된 데이터베이스 필드에 대한 쿼리의 결과 집합에서 민감한 데이터를 숨깁니다. 동적 데이터 마스킹을 사용하면 고객이 애플리케이션 계층에 미치는 영향을 최소화하고 표시할 중요한 데이터의 양을 지정할 수 있게 하여 중요한 데이터에 대한 무단 액세스를 방지할 수 있습니다.
        
        ![다이어그램은 데이터 블록의 일부를 마스킹하는 방법을 보여줍니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/dynamic-data-masking.png)
        
    
    **팁)** 계획을 사용하여 학습을 확장하고 [**Azure SQL Database 및 Azure SQL Managed Instance 학습 모듈에 대한 보안을 구현**](https://learn.microsoft.com/ko-kr/training/modules/security-azure-sql-database-azure-sql-managed-instance/) 합니다.
    
- Azure SQL Edge에 대한 설계
    
    [Azure SQL Edge](https://learn.microsoft.com/ko-kr/azure/azure-sql-edge/overview)는 IoT 및 IoT Edge 배포를 위해 최적화된 관계형 데이터베이스 엔진입니다. Azure SQL Edge는 SQL Server 및 Azure SQL과 동일한 엔진을 기반으로 합니다. SQL Server 기술을 가진 개발자는 코드를 재사용하여 Azure SQL Edge에서 에지 관련 솔루션을 빌드할 수 있습니다. Azure SQL Edge는 관계형 및 비관계형 데이터를 스트리밍, 처리 및 분석하는 기능을 제공합니다.
    
    ### **Azure SQL Edge에 대해 알아야 할 사항**
    
    관계형 데이터 스토리지 솔루션에 포함하면 유용한 Azure SQL Edge의 특성을 검토해 보겠습니다.
    
    - Azure SQL Edge는 컨테이너화된 Linux 애플리케이션입니다. 시작 메모리 공간은 500MB보다 작습니다.
    - 사용자는 여러 IoT 디바이스에서 실행할 앱을 설계하고 빌드할 수 있습니다. 연속 데이터 스트림을 실시간으로 캡처하거나 포괄적인 조직 데이터 솔루션에 데이터를 통합합니다. 다음 다이어그램은 SQL Edge가 스트리밍 데이터를 캡처하고 저장하는 방법을 보여 줍니다.
        
        ![SQL Edge가 스트리밍 데이터를 캡처하고 저장하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/sql-edge.png)
        
    - 기본 제공 스트리밍 엔진에 액세스하면 데이터 스트림에서 인사이트를 얻을 수 있습니다.
        - 수신 데이터 스트림의 변환, 기간 이동 집계, 간단한 변칙 감지 및 분류를 수행합니다.
        - 시간 인덱싱 데이터에 시계열 스토리지를 사용합니다. 이 데이터는 클라우드에서 집계하고 향후 분석을 위해 저장할 수 있습니다.
    - Azure SQL Edge는 에지 게이트웨이, IoT 디바이스 및 에지 서버를 비롯한 네트워크 에지의 구성 요소와 상호 작용합니다.
        
        ![Azure SQL Edge가 에지 게이트웨이, IoT 디바이스 및 에지 서버를 비롯한 네트워크 에지의 구성 요소와 상호 작용하는 방식을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/sql-edge-connection.png)
        
    - Azure SQL Edge는 동일한 기능 집합이 있는 두 가지 버전에서 사용할 수 있습니다. 버전은 다양한 사용 권한과 호스트 시스템에서 액세스할 수 있는 메모리 및 코어 양을 제공합니다.
        
        
        | Azure SQL Edge 개발자 | Azure SQL 엣지 |
        | --- | --- |
        | 각 Azure SQL Edge Developer 컨테이너는 최대 4코어, 32GB 메모리로 제한됩니다. | 각 Azure SQL Edge 컨테이너는 최대 8코어, 64GB 메모리로 제한됩니다. |
        | 개발 전용 | 생산 |
    
    ### **배포 보안**
    
    IoT 앱을 에지에 배포할 때 가장 중요한 고려 사항은 보안입니다. Azure SQL Edge는 시중에서 가장 안전한 데이터베이스 플랫폼 중 하나인 SQL Server 기술을 기반으로 하므로 SQL Server Enterprise와 동일한 보안 기능을 제공합니다. 동일한 보안 정책 및 관행도 클라우드에서 에지로 확장됩니다.
    
    Azure SQL Edge 배포 보호는 다음 네 단계로 구성됩니다.
    
    1. **플랫폼 및 시스템 보안**. 이 보안 단계에는 물리적 Docker 호스트, 그리고 호스트의 운영 체제 및 물리적 디바이스를 애플리케이션 및 클라이언트에 연결하는 네트워킹 시스템이 포함됩니다.
    2. **인증 및 권한 부여**. SQL 인증은 사용자 이름과 암호를 사용하여 Azure SQL Database에 연결할 때 사용자의 인증을 지칭합니다. 권한 부여는 Azure SQL Edge의 데이터베이스 내에서 사용자에게 할당된 권한을 나타냅니다.
    3. **데이터베이스 개체 보안**. 데이터베이스 개체 또는 *보안 개체*는 서버, 데이터베이스, 그리고 데이터베이스의 기타 개체입니다. 암호화는 보안을 강화합니다. ‘TDE(투명한 데이터 암호화)를 사용하는 데이터 보호’는 여러 보안 규정을 준수하도록 지원합니다. “Always Encrypted”는 데이터를 소유한 사용자와 데이터를 관리하는 사용자를 분리해 줍니다.
    4. **애플리케이션 보안**. Azure SQL Edge 보안 방법에는 보안 클라이언트 애플리케이션 작성이 포함됩니다.
    
    ### **배포 옵션**
    
    다음 두 가지 배포 옵션으로 Azure SQL Edge를 배포합니다.
    
    - **연결된 배포**: 연결된 배포의 경우 Azure SQL Edge는 Microsoft Azure Marketplace에서 사용할 수 있으며 Azure IoT Edge용 모듈로 배포할 수 있습니다.
    - **연결이 끊긴 배포**: 연결이 끊긴 배포는 Azure SQL Edge 컨테이너 이미지를 통해 수행됩니다. Docker Hub에서 이미지를 풀(pull)하여 독립 실행형 Docker 컨테이너 또는 Kubernetes 클러스터에서 배포할 수 있습니다.
    
    **팁)** 자세한 내용을 알아보려면 Channel 9에서 [**Azure SQL Edge란?**](https://learn.microsoft.com/ko-kr/azure/azure-sql-edge/overview) 비디오를 시청하세요.
    
- Azure Cosmos DB 및 Table Storage에 대한 설계
    
    고려할 최종 옵션은 Azure Cosmos DB를 사용하는 관계형 테이블 데이터 스토리지입니다.
    
    [Azure Cosmos DB](https://azure.microsoft.com/services/cosmos-db/)는 최신 앱 개발을 위한 완전 관리형 NoSQL 데이터베이스 서비스입니다. Azure Cosmos DB는 완전 관리형 서비스이기 때문에 자동 관리, 업데이트, 패치로 데이터베이스를 관리해 줍니다. 또한 용량과 비용을 일치시키기 위해 애플리케이션 요구 사항에 대응하는 비용 효율적인 서버리스 및 자동 확장 옵션으로 용량 관리를 처리합니다.
    
    ### **Azure Cosmos DB에 대해 알아야 할 사항**
    
    Azure Cosmos DB의 다음 특징과 관계형 데이터 스토리지에 도움이 되는 방법을 검토합니다.
    
    - Azure Cosmos DB는 응답 시간이 한 자리 밀리초 단위에 불과하며 어떤 규모에서도 속도를 보장합니다.
    - Azure Cosmos DB는 NoSQL, MongoDB, PostgreSQL, Cassandra, Gremlin 및 Table을 포함하는 [여러 데이터베이스](https://learn.microsoft.com/ko-kr/azure/cosmos-db/choose-api) API를 제공합니다. 이러한 API를 사용하면 애플리케이션에서 관리 및 확장 방식의 오버헤드 없이 Azure Cosmos DB를 다른 다양한 데이터베이스 기술처럼 처리할 수 있습니다.
        
        ![Cosmos DB와 SQL 중에서 선택하기 위한 순서도 의사 결정 트리입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-storage-solution-for-relational-data/media/cosmos-decision-tree.png)
        
    - Azure Table Storage용으로 작성된 애플리케이션은 코드를 거의 변경하지 않고도 Azure Cosmos DB Table API로 마이그레이션할 수 있습니다.
    - Azure Cosmos DB Table API와 Table Storage는 동일한 테이블 데이터 모델을 공유하고, 해당 SDK를 통해 동일한 만들기, 삭제, 업데이트 및 쿼리 작업을 노출합니다.
    
    ### **Azure Cosmos DB Table API를 선택할 때 고려해야 할 사항**
    
    현재 Azure Table Storage를 사용하는 경우 Azure Cosmos DB Table API로 이동하면 많은 이점이 있습니다. 이러한 이점을 검토할 때 Tailwind Traders에 대한 관계형 데이터 스토리지 플랜에 Azure Cosmos DB를 포함할 수 있는 방법을 고려합니다.
    
    | 특징 | Azure Table Storage | Azure Cosmos DB Table API |
    | --- | --- | --- |
    | **대기 시간** | 빠르지만 대기 시간의 상한이 없습니다. | < 10ms 대기 시간 읽기 및 < 15ms 대기 시간 쓰기로 지원되는 읽기 및 쓰기에 대한 한 자리 밀리초 대기 시간은 전 세계 어디서나 99번째 백분위수에서 기록됩니다. |
    | **처리량** | 가변 처리량 모델입니다. 테이블의 확장성 제한은 작업 20,000개입니다. | 테이블당 전용 예약 처리량을 통해 높은 확장성을 제공합니다. 계정에는 처리량 상한이 없으며 (프로비저닝된 처리량 모드에서) 테이블당 >초당 1,000만 개 이상의 작업을 지원합니다. |
    | **글로벌 분포** | 고가용성을 위해 선택적인 읽기 가능한 보조 읽기 하위 지역 하나가 있는 단일 지역입니다. | 1개에서 30개 이상의 지역에서 턴키 전역 분포. |
    | **인덱싱** | PartitionKey 및 RowKey의 기본 인덱스에 한함. 보조 인덱스가 없습니다. | 모든 속성에 대한 자동적이며 및 완전한 인덱싱, 인덱스 관리를 하지 않습니다. |
    | **Query** | 쿼리 실행 시 기본 키에 대한 인덱스를 사용하고 그렇지 않은 경우 검색합니다. | 쿼리는 빠른 쿼리 시간을 위해 속성에 대해 자동 인덱싱을 활용할 수 있습니다. |
    | **일관성** | 주 지역 내에서 강력하게 유지됩니다. | 가용성, 대기 시간, 처리량 및 일관성을 절충하기 위한 5가지 일관성 수준이 잘 정의되어 있습니다. |
    | **가격 책정** | 소비 기반 가격 책정 모델. | 소비 기반과 프로비저닝된 용량 가격 책정 모델에서 모두 사용할 수 있습니다. |
    | **SLA** | 99.99% 가용성 | 모든 단일 지역 계정 및 평범한 일관성 수준의 모든 다중 지역 계정에 대한 99.99% 가용성 SLA 및 모든 다중 지역 데이터베이스 계정에 대한 99.999% 읽기 가용성을 제공합니다. |
    
    **팁) [NoSQL용 Azure Cosmos DB](https://learn.microsoft.com/ko-kr/training/modules/introduction-to-azure-cosmos-db-sql-api/)** 학습 모듈 소개에서 더 많은 것을 배울 수 있습니다.
    

### 데이터 통합 디자인

- Azure Data Factory를 사용하여 데이터 통합 솔루션 디자인
    
    [Azure Data Factory](https://learn.microsoft.com/ko-kr/azure/data-factory/introduction)는 데이터 기반 워크플로를 만들고 예약할 수 있는 클라우드 기반 데이터 통합 서비스입니다. Azure Data Factory를 사용하여 데이터 이동을 오케스트레이션하고 대규모로 데이터를 변환할 수 있습니다. 데이터 기반 워크플로 또는 파이프라인은 서로 다른 데이터 저장소에서 데이터를 수집합니다. Azure Data Factory는 추출, 변환, 로드를 의미하는 ETL 데이터 통합 프로세스입니다. 이 통합 프로세스는 여러 데이터 원본의 데이터를 단일 데이터 저장소로 결합합니다.
    
    ### **Azure Data Factory에 대해 알아야 할 사항**
    
    Azure Data Factory 아키텍처에서 데이터 기반 워크플로를 만들고 구현하는 네 가지 주요 단계가 있습니다.
    
    1. **연결 및 수집** 데이터를 먼저 가져와서 여러 소스에서 모든 데이터를 중앙 집중화된 위치에 모으세요.
    2. **변환 및 보강** 다음으로, Azure Databricks 및 Azure HDInsight Hadoop과 같은 컴퓨팅 서비스를 사용하여 데이터를 변환합니다.
    3. **CI/CD(연속 통합 및 지속적인 업데이트) 제공 및 게시** GitHub 및 Azure Pipelines를 사용하여 CI/CD를 지원하고 분석 엔진에 데이터를 게시하기 전에 ETL 프로세스를 증분 방식으로 제공합니다.
    4. **모니터** 마지막으로, Azure Portal을 사용하여 파이프라인에서 예약된 활동 및 오류를 모니터링합니다.
    
    다음 다이어그램은 Azure Data Factory에서 다양한 데이터 원본으로부터 데이터 수집을 오케스트레이션하는 방법을 보여 줍니다. 데이터는 Storage Blob으로 수집되어 Azure Synapse Analytics에 저장됩니다. 분석 및 시각화 구성 요소도 Azure Data Factory에 연결됩니다. Azure Data Factory는 모든 데이터 통합 요구 사항에 대한 공통 관리 인터페이스를 제공합니다.
    
    ![Azure Data Factory 아키텍처를 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-integration/media/azure-data-factory-overview.png)
    
    ### **Azure Data Factory 구성 요소**
    
    Azure Data Factory에는 데이터 이동 및 데이터 통합을 위한 플랫폼을 제공하기 위해 함께 작동하는 다음과 같은 구성 요소가 있습니다.
    
    ![Azure Data Factory의 파이프라인, 활동, 데이터 세트, 연결된 서비스를 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-integration/media/data-factory-components.png)
    
    - **파이프라인 및 활동**: 파이프라인은 작업을 수행하는 활동의 논리적 그룹화를 제공합니다. 활동은 파이프라인의 단일 처리 단계입니다. Azure Data Factory는 데이터 이동, 데이터 변환, 제어라는 세 유형의 활동을 지원합니다.
    - **데이터 세트**: 데이터 세트는 데이터 저장소 내의 데이터 구조를 나타냅니다.
    - **연결된 서비스**: 연결된 서비스는 Azure Data Factory가 외부 리소스에 연결하는 데 필요한 필수 연결 정보를 정의합니다.
    - **데이터 흐름**: 데이터 엔지니어는 데이터 흐름을 통해 코드를 작성하지 않고도 데이터 변환 논리를 개발할 수 있습니다. 데이터 흐름 작업은 기존 Azure Data Factory 일정, 제어, 흐름, 모니터링 기능을 사용하여 운용할 수 있습니다.
    - **통합 런타임**: 통합 런타임은 활동과 연결된 서비스 개체 사이의 브리지입니다. 통합 런타임에는 Azure, 자체 호스팅, Azure-SSIS의 세 가지 유형이 있습니다.
    
    ### **비즈니스 시나리오**
    
    Tailwind Traders와 같은 고속 성장하는 주택 개선 소매업체의 중요한 과제는 클라우드와 온-프레미스 모두에서 관계형, 비관계형 및 기타 스토리지 시스템에 저장되는 대량의 데이터를 생성하는 것입니다. 경영진은 최대한 근 실시간으로 이 데이터로부터 실행 가능한 비즈니스 인사이트를 원합니다. 또한 영업 팀은 상향 판매 및 교차 판매 솔루션을 설정하고 롤아웃하기를 원합니다. 어떻게 하면 클라우드에서 대규모 데이터 수집 솔루션을 만들 수 있나요? 다양한 데이터 저장소와 컴퓨팅 리소스 간의 데이터 이동 및 변환을 지원하기 위해 어떤 Azure 서비스 및 솔루션을 채택해야 하나요?
    
    Tailwind Traders의 데이터 준비 및 이동 시나리오에 Azure Data Factory의 구성 요소가 어떻게 관련되어 있는지 살펴보겠습니다. 매우 다양한 데이터 원본이 연결될 수 있으며 해당 데이터를 수집하고 데이터에서 실행되는 저장 프로시저를 통해 변환해야 합니다. 마지막으로 분석을 위해 데이터를 분석 플랫폼으로 푸시해야 합니다.
    
    - 이 시나리오에서 Tailwind Traders는 연결된 서비스를 통해 다른 원본에서 데이터를 수집하고 요청 시 컴퓨팅 서비스를 실행하기 위해 연결 문자열을 저장할 수 있습니다.
    - Tailwind Traders의 통합 런타임 환경인 Azure SSIS의 연결된 서비스를 통해 필요한 데이터 변환을 위해 저장 프로시저를 실행할 수 있습니다.
    - 데이터 세트 구성 요소는 활동 개체에서 사용되며 활동 개체에는 변환 논리가 포함됩니다.
    - 함께 그룹화되는 모든 활동인 파이프라인을 트리거할 수 있습니다.
    - Azure Data Factory를 사용하여 Power BI 또는 Machine Learning 등의 기술에서 사용하는 최종 데이터 세트를 게시할 수 있습니다.
    
    ### **Azure Data Factory를 사용할 때 고려해야 할 사항**
    
    다음 결정 기준을 토대로 Azure Data Factory를 평가하고 서비스가 Tailwind Traders에 대한 데이터 통합 솔루션에 어떻게 도움이 되는지 고려합니다.
    
    - **데이터 통합 요구 사항을 고려합니다**. Azure Data Factory는 빅 데이터 커뮤니티와 SSIS(SQL Server Integration Services)를 사용하는 관계형 데이터 웨어하우징 커뮤니티의 두 커뮤니티를 제공합니다. 조직의 데이터 요구 사항에 따라 Azure Data Factory를 사용하여 클라우드에서 파이프라인을 설정할 수 있습니다. 클라우드 및 온-프레미스 데이터 서비스에 둘 모두에서 데이터에 액세스할 수 있습니다.
    - **코딩 리소스를 고려하세요**. 파이프라인을 설정하는 데 그래픽 인터페이스를 선호하는 경우 Azure Data Factory 작성 및 모니터링 도구가 이 요구 사항에 적합합니다. Azure Data Factory는 데이터 원본 작업을 위한 로우 코드(low code)/노 코드(no code) 프로세스를 제공합니다.
    - **여러 데이터 원본 지원을 고려합니다**. Azure Data Factory는 90개 이상의 커넥터를 지원하여 서로 다른 데이터 원본과 통합합니다.
    - **서버리스 인프라를 고려합니다**. 데이터 통합을 위해 완전 관리형 서버리스 솔루션을 사용하면 이점이 있습니다. 서버를 유지 관리, 구성 또는 배포할 필요가 없으며 변동하는 워크로드를 스케일링할 수 있습니다.
- Azure Data Lake를 사용하여 데이터 통합 솔루션 디자인
    
    Data Lake는 일반적으로 Blob 또는 파일로서 해당 기본 형식으로 저장된 데이터의 리포지토리입니다. [Azure Data Lake Storage](https://learn.microsoft.com/ko-kr/azure/storage/blobs/data-lake-storage-introduction)는 Azure에 구축된 빅 데이터 분석을 위한 포괄적이며, 확장성 있고, 비용 효율적인 데이터 레이크 솔루션입니다. Azure Data Lake Storage는 파일 시스템과 스토리지 플랫폼을 결합하여 데이터에 대한 인사이트를 빠르게 파악할 수 있도록 지원합니다. 솔루션은 분석 워크로드에 대한 최적화를 제공하기 위해 Azure Blob Storage 기능을 기반으로 합니다. 이러한 통합을 통해 Azure Storage의 분석 성능, 고가용성, 보안 및 내구성 기능을 사용할 수 있습니다. 이 비디오에서는 데모가 제공되지 않습니다.
    
    **참고**
    
    현재 구현된 서비스는 Azure Data Lake Storage Gen2입니다.
    
    ### **Azure Data Lake Storage에 대해 알아야 할 사항**
    
    Azure Data Lake Storage를 보다 잘 이해하기 위해 다음과 같은 특성을 검토할 수 있습니다.
    
    - Azure Data Lake Storage는 데이터의 네이티브 형식을 사용하여 모든 형식의 데이터를 저장할 수 있습니다. 데이터 형식 및 대규모 데이터 크기를 지원하므로 Azure Data Lake Storage는 정형, 반정형 및 비정형 데이터에 작용할 수 있습니다.
    - 이 솔루션은 기본적으로 Hadoop, Apache HDFS(Hadoop 분산 파일 시스템)를 데이터 액세스 계층으로 사용하는 모든 프레임워크에서 사용할 수 있도록 설계되었습니다. HDFS를 데이터 액세스 계층으로 사용하는 데이터 분석 프레임워크는 직접 액세스할 수 있습니다.
    - Azure Data Lake Storage는 입출력 집약적인 분석 및 데이터 이동을 위해 높은 처리량을 지원합니다.
    - Azure Data Lake Storage 액세스 제어 모델은 Azure RBAC(Azure 역할 기반 액세스 제어)와 POSIX(Portable Operating System Interface for UNIX) ACL(액세스 제어 목록)을 모두 지원합니다.
    - Azure Data Lake Storage는 Azure Blob 복제 모델을 활용합니다. 이러한 모델은 LRS(로컬 중복 스토리지)를 통해 단일 데이터 센터에서 데이터 중복성을 제공합니다.
    - Azure Data Lake Storage는 대규모 스토리지를 제공하며 다양한 데이터 형식의 분석을 허용합니다.
    - Azure Data Lake Storage는 Azure Blob Storage 수준에서 가격이 책정됩니다.
    
    ### **Azure Data Lake Storage 작동 방식**
    
    Azure Data Lake Storage를 사용하는 데는 세 가지 중요한 단계가 있습니다.
    
    1. **데이터 수집**. Azure Data Lake Storage는 다양한 데이터 수집 방법을 제공합니다.
        - 계획되지 않은 데이터의 경우 AzCopy, Azure CLI, PowerShell 및 Azure Storage Explorer 같은 도구를 사용할 수 있습니다.
        - 관계형 데이터의 경우 Azure Data Factory 서비스를 사용합니다. Azure Cosmos DB, SQL Database, Azure SQL Managed Instance 등과 같은 모든 원본에서 데이터를 전송할 수 있습니다.
        - 스트리밍 데이터의 경우 Azure HDInsight 기반 Apache Storm, Azure Stream Analytics 등과 같은 도구를 사용합니다.
        
        다음 다이어그램에서는 계획되지 않은 데이터 및 스트리밍 데이터가 Azure Data Lake Storage에 대량으로 수집되거나 계획되지 않고 수집되는 방식을 보여 줍니다.
        
        ![계획되지 않은 데이터 및 스트리밍 데이터가 Azure Data Lake Storage에 대량으로 수집되거나 계획되지 않고 수집되는 방식을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-integration/media/data-lake.png)
        
    2. **저장된 데이터에 액세스**. 데이터에 액세스하는 가장 쉬운 방법은 Azure Storage Explorer를 사용하는 것입니다. Storage Explorer는 Azure Data Lake Storage 데이터에 액세스하기 위해 GUI(그래픽 사용자 인터페이스)를 사용하는 독립 실행형 애플리케이션입니다. PowerShell, Azure CLI, HDFS CLI 또는 기타 프로그래밍 언어 SDK를 사용하여 데이터에 액세스할 수도 있습니다.
    3. **액세스 제어 구성**. 권한 부여 메커니즘을 구현하여 Azure Data Lake Storage 저장된 데이터에 액세스할 수 있는 사용자를 제어합니다. Azure RBAC 또는 ACL을 선택할 수 있습니다.
    
    ### **비즈니스 시나리오**
    
    Tailwind Traders는 웹 사이트, POS(Point of Sale) 시스템, 소셜 미디어 사이트, IoT(사물 인터넷) 디바이스 등 여러 원본의 데이터를 보유하고 있습니다. 이 회사는 Azure를 사용하여 모든 비즈니스 데이터를 분석하는 데 관심이 있습니다. Azure에서 기존 BI 시스템을 향상시킬 수 있는 방법에 대한 지침을 제공해야 합니다. Azure Storage 기능이 회사의 BI 솔루션에 가치를 더하는 방법에 대해 팀에 조언해야 합니다. 데이터 요구 사항을 충족하기 위해 Azure Data Lake Storage를 권장할 계획입니다. Data Lake Storage는 고성능 빅 데이터 분석을 위해 엄청난 양의 비정형 데이터를 업로드하고 저장할 수 있는 리포지토리를 제공합니다.
    
    Azure Data Lake Storage 조직의 빅 데이터 요구 사항에 적합한 선택이 될 수 있는 방법을 검토해 보겠습니다.
    
    | 시나리오 | 솔루션 |
    | --- | --- |
    | 대량 데이터를 관리하기 위해 클라우드에서 데이터 웨어하우스를 제공합니다. | Azure Data Lake Storage는 Azure 플랫폼의 가상 하드웨어에서 실행합니다. 스토리지는 대규모 요금이 발생하지 않고 스케일링 가능하고 빠르며 안정적입니다. 스토리지 비용이 컴퓨팅 비용과 구분됩니다. 데이터 볼륨이 증가하면서 스토리지 요구 사항만 달라집니다. |
    | JSON 파일, CSV, 로그 파일 또는 기타 형식과 같은 다양한 유형의 데이터 수집을 지원합니다. | Azure Data Lake Storage를 사용하면 모든 데이터 형식(원시 데이터 포함)을 단일 위치에 저장하여 조직의 데이터를 민주화할 수 있습니다. 데이터 사일로를 제거하면 사용자는 Azure Data Explorer와 같은 도구를 사용하여 스토리지 계정의 모든 데이터 항목에 액세스하고 작업할 수 있습니다. |
    | 실시간 데이터 수집 및 스토리지를 활성화합니다. | Azure Data Lake Storage는 Azure HDInsight 기반 Apache Storm, Azure IoT Hub, Azure Event Hubs 또는 Azure Stream Analytics 인스턴스에서 직접 실시간 데이터를 수집할 수 있습니다. 또한 반구조적 데이터에서도 작동하며 모든 실시간 데이터를 스토리지 계정에 수집할 수 있습니다. |
    
    ### **Azure Blob Storage 또는 Azure Data Lake를 선택할 때 고려할 사항**
    
    다음 표에서는 Azure Blob Storage 및 Azure Data Lake를 사용할 경우의 스토리지 솔루션 조건을 비교합니다. 조건을 검토하고 Tailwind Traders에 가장 적합한 솔루션을 고려합니다.
    
    | 비교 | Azure 데이터 레이크 | Azure Blob Storage (애저 블롭 스토리지) |
    | --- | --- | --- |
    | **데이터 형식** | 대량의 텍스트 데이터를 저장하는 데 적합합니다. | 사진, 비디오, 백업 등과 같은 구조화되지 않은 비 텍스트 기반 데이터를 저장하는 데 적합합니다. |
    | **지리적 중복** | 데이터 복제를 수동으로 구성해야 합니다. | 기본적으로 지역 중복 스토리지를 제공합니다. |
    | **네임스페이스** | 계층 구조 네임스페이스를 지원합니다. | 플랫 네임스페이스를 지원합니다. |
    | **Hadoop 호환성** | Hadoop 서비스는 Azure Data Lake에 저장된 데이터를 사용할 수 있습니다. | 애플리케이션 및 프레임워크는 Azure Blob Filesystem Driver를 사용하여 Azure Blob Storage의 데이터에 액세스할 수 있습니다. |
    | **보안** | 세분화된 액세스 지원 | 세분화된 액세스가 지원되지 않습니다. |
- Azure Databricks를 사용하여 데이터 통합 및 분석 솔루션 디자인
    
    [Azure Databricks](https://learn.microsoft.com/ko-kr/azure/databricks/introduction) 는 완전히 관리되는 클라우드 기반 빅 데이터 및 Machine Learning 플랫폼으로, 개발자가 AI 및 혁신을 가속화할 수 있도록 지원합니다. Azure Databricks는 데이터 과학 및 엔지니어링 팀에게 빅 데이터 처리 및 Machine Learning을 위한 단일 플랫폼을 제공합니다. Azure Databricks의 관리되는 Apache Spark 플랫폼을 사용하면 대규모 Spark 워크로드를 간단하게 실행할 수 있습니다.
    
    ### **Azure Databricks에 대해 알아야 할 사항**
    
    Azure Databricks는 전적으로 Apache Spark를 기반으로 하며, 오픈 소스 클러스터 컴퓨팅 프레임워크에 이미 익숙한 사용자에게 적합한 도구입니다. Databricks는 빅 데이터 처리를 위해 특별히 설계되었습니다. 데이터 과학자는 SQL, Java, Python, R 및 Scala 같은 핵심 언어에 대한 기본 제공 핵심 API를 활용할 수 있습니다.
    
    Azure Databricks에는 컨트롤 플레인과 데이터 평면이 있습니다.
    
    - **컨트롤 플레인**: Databricks 작업, 쿼리 결과가 있는 Notebook 및 클러스터 관리자를 호스트합니다. 또한 컨트롤 플레인에는 웹 애플리케이션, 하이브 메타스토어 및 ACL(보안 액세스 제어 목록) 및 사용자 세션도 있습니다. Microsoft는 Azure Databricks와 협업하여 이러한 구성 요소를 관리합니다.
    - **데이터 평면**: 작업 영역 내에서 호스트되는 모든 Azure Databricks 런타임 클러스터를 포함합니다. 모든 데이터 처리 및 스토리지는 클라이언트 구독에 있습니다. Microsoft/Databricks에서 관리하는 구독에서 데이터 처리가 수행되지 않습니다.
    
    Azure Databricks는 데이터 집약적 애플리케이션을 개발할 수 있는 다음과 같은 세 가지 환경을 제공합니다.
    
    - **Databricks SQL**: Azure Databricks SQL은 데이터 레이크에서 SQL 쿼리를 실행하려는 분석가를 위해 사용하기 쉬운 플랫폼을 제공합니다. 여러 시각화 유형을 생성하여 다양한 관점에서 쿼리 결과를 탐색하고 대시보드를 구축 및 공유할 수 있습니다.
    - **Databricks 데이터 과학 및 엔지니어링**: Azure Databricks 데이터 과학 및 엔지니어링은 데이터 엔지니어, 데이터 과학자 및 기계 학습 엔지니어 간의 협업을 가능하게 하는 대화형 *작업 영역* 입니다. 빅 데이터 파이프라인의 경우 데이터(원시 또는 구조적 데이터)는 Azure Data Factory를 통해 일괄 처리로 수집되거나 Apache Kafka, Azure Event Hubs 또는 Azure IoT Hub를 사용하여 근 실시간으로 스트리밍됩니다. 이 데이터는 Azure Blob Storage 또는 Azure Data Lake Storage에서 장기 저장을 위한 데이터 레이크에 배치됩니다. 분석 워크플로의 일부로 Azure Databasericks를 사용하여 여러 데이터 소스의 데이터를 읽고 Spark를 사용하여 획기적인 인사이트로 전환할 수 있습니다.
    - **Databricks Machine Learning**: Azure Databricks Machine Learning은 통합된 엔드 투 엔드 기계 학습 환경입니다. 실험 추적, 모델 교육, 기능 개발 및 관리, 기능 및 모델 제공을 위한 관리형 서비스를 통합합니다.
    
    ### **비즈니스 시나리오**
    
    중장비 제조 부문에서 Tailwind Traders에 대한 시나리오를 분석해 보겠습니다. Tailwind Traders는 빅 데이터 요구 사항에 Azure 클라우드 서비스를 사용하고 있습니다. 일괄 처리 데이터와 스트리밍 데이터를 모두 사용하고 있습니다. 이 부서는 데이터 엔지니어, 데이터 과학자 및 데이터 분석가를 투입하여 많은 관련자를 위해 신속한 통찰력 있는 보고를 생성합니다. 빅 데이터 요구 사항을 충족하기 위해 Azure Databricks를 추천하고 데이터 과학 및 엔지니어링 환경을 구현할 계획입니다.
    
    Azure Databricks가 이러한 요구 사항을 충족하는 올바른 선택이 될 수 있는 이유를 검토해 보겠습니다.
    
    - Azure Databricks는 서로 다른 사용자 간의 공동 작업을 허용하는 Apache Spark를 기반으로 하는 통합 분석 *작업 영역을* 제공합니다.
    - Azure Databricks는 Spark SQL 및 Dataframes 같은 Spark 구성 요소를 사용하여 구조적 데이터를 처리할 수 있습니다. 스트리밍 데이터를 처리하기 위해 Kafka, Flume 같은 실시간 데이터 수집 도구와 통합됩니다.
    - Spark 위에 구축된 보안 데이터 통합 기능을 사용하면 중앙 집중화 하지 않고도 데이터를 통합할 수 있습니다. 데이터 과학자는 몇 단계로 데이터를 시각화하고 Matplotlib, ggplot 또는 d3 같은 친숙한 도구를 사용할 수 있습니다.
    - Azure Databricks 런타임이 인프라 복잡성과 데이터 인프라를 설정하고 구성하기 위해 전문 기술의 필요성을 추상화합니다. 사용자는 Python, Scala 및 R에 대한 기존 언어 기술을 사용하고 데이터를 탐색할 수 있습니다.
    - Azure Databricks는 Azure 데이터베이스 및 Azure Synapse Analytics, Azure Cosmos DB, Azure Data Lake Storage 및 Azure Blob Storage 같은 저장소와 긴밀하게 통합됩니다. Tailwind Traders 빅 데이터 스토리지 요구 사항을 충족하는 다양한 데이터 저장소 플랫폼을 지원합니다.
    - Power BI와 통합하면 Tailwind Traders에 대한 요구 사항인 신속하고 의미 있는 인사이트를 사용할 수 있습니다.
    - Azure Databricks SQL은 구조화되지 않은 데이터를 처리할 수 없으므로 올바른 선택이 아닙니다.
    - 이 시나리오에서는 기계 학습이 요구 사항이 아니기 때문에 Azure Databricks Machine Learning도 올바른 환경 선택이 아닙니다.
    
    ### **Azure Databricks를 사용할 때 고려해야 할 사항**
    
    여러 시나리오에 대한 솔루션으로 Azure Databricks를 사용할 수 있습니다. 서비스가 Tailwind Traders에 대한 데이터 통합 솔루션에 어떻게 도움이 될 수 있는지 고려합니다.
    
    - **데이터 과학을 위해 데이터를 준비하는 것을 고려합니다**. 복잡한 비구조적 데이터의 클러스터를 만들고, 복제하고, 편집합니다. 데이터 클러스터를 특정 작업으로 전환합니다. 검토를 위해 데이터 과학자 및 데이터 분석가에게 결과를 제공합니다.
    - **데이터의 인사이트를 고려합니다**. Azure Databricks를 구현하여 권장 사항 엔진, 변동 분석 및 침입 검색을 빌드합니다.
    - **데이터 및 분석 팀의 생산성을 고려합니다**. 데이터 엔지니어, 분석가 및 과학자를 위한 공동 작업 환경 및 공유 작업 영역을 만듭니다. 팀은 데이터 과학 수명 주기 전반에 걸쳐 공유 작업 영역으로 협업할 수 있으므로 귀중한 시간과 리소스를 절약할 수 있습니다.
    - **빅 데이터 워크로드를 고려합니다**. 빅 데이터 워크로드에 대한 최상의 성능과 안정성을 얻으려면 Azure Data Lake 및 엔진을 연습합니다. 소란스럽지 않은 다단계 데이터 파이프라인을 만듭니다.
    - **기계 학습 프로그램을 고려합니다**. 통합된 엔드 투 엔드 기계 학습 환경을 활용합니다. 실험 추적, 모델 교육, 기능 개발 및 관리, 기능 및 모델 제공을 위한 관리형 서비스를 통합합니다.
- Azure Synapse Analytics를 사용하여 데이터 통합 및 분석 솔루션 디자인
    
    [Azure Synapse Analytics](https://learn.microsoft.com/ko-kr/azure/synapse-analytics/overview-what-is)는 빅 데이터 분석, 엔터프라이즈 데이터 스토리지 및 데이터 통합의 기능을 결합합니다. 이 서비스를 사용하면 서버리스 데이터 또는 대규모 데이터에 대한 쿼리를 실행할 수 있습니다. Azure Synapse는 데이터 수집, 탐색, 변환 및 관리를 지원하고 모든 BI 및 기계 학습 요구 사항에 대한 분석을 지원합니다.
    
    ### **Azure Synapse Analytics에 대해 알아야 할 사항**
    
    Azure Synapse Analytics는 MPP(대규모 병렬 처리) 아키텍처를 구현하며 다음과 같은 특성을 가집니다.
    
    - Azure Synapse Analytics 아키텍처에는 *제어 노드*와 *컴퓨팅 노드* 풀이 포함됩니다.
        
        ![Azure Synapse Analytics 아키텍처를 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-integration/media/azure-synapse.png)
        
        제어 노드는 아키텍처의 두뇌입니다. 모든 애플리케이션과 상호 작용하는 프런트 엔드입니다. 컴퓨팅 노드는 컴퓨팅 성능을 제공합니다. 처리할 데이터는 노드 전체에 고르게 배포됩니다.
        
    - Transact-SQL 문 형태로 쿼리를 제출하면 Azure Synapse Analytics에서 쿼리를 실행합니다.
    - Azure Synapse는 관계형 및 비관계형 원본에서 데이터를 검색하고 쿼리할 수 있는 [PolyBase](https://learn.microsoft.com/ko-kr/sql/relational-databases/polybase/polybase-guide?)라는 기술을 사용합니다. Azure Synapse 서비스 내에 SQL 테이블에서 읽은 데이터를 저장할 수 있습니다.
    
    ### **Azure Synapse Analytics의 구성 요소**
    
    Azure Synapse Analytics는 다음과 같은 다섯 가지 요소로 구성됩니다.
    
    ![Azure Synapse Analytics 기능에 대한 개요를 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-integration/media/azure-synapse-analytics-overview.png)
    
    - **Azure Synapse SQL 풀**: Synapse SQL은 노드 기반 아키텍처로 작업할 수 있는 서버리스 및 전용 리소스 모델을 모두 제공합니다. 예측 가능한 성능 및 비용의 경우 전용 SQL 풀을 만들 수 있습니다. 불규칙하거나 계획되지 않은 워크로드의 경우 항상 사용 가능한 서버리스 SQL 엔드포인트를 사용할 수 있습니다.
    - **Azure Synapse Spark 풀**: 이 풀은 Apache Spark를 실행하여 데이터를 처리하는 서버의 클러스터입니다. 데이터 처리 논리는 지원되는 4개 언어, 즉 Python, Scala, SQL 및 C#(Apache Spark용 .NET을 통해) 중 하나를 사용하여 작성합니다. Azure Synapse용 Apache Spark는 데이터 준비, 데이터 엔지니어링, ETL 및 기계 학습에 사용되는 Apache Spark 오픈 소스 빅 데이터 엔진을 통합합니다.
    - **Azure Synapse Pipelines**: Azure Synapse Pipelines는 Azure Data Factory 기능을 적용합니다. Pipelines는 데이터 이동을 오케스트레이션하고 데이터를 규모에 맞게 변환하는 데이터 기반 워크플로를 만들 수 있는 클라우드 기반 ETL 및 데이터 통합 서비스입니다. 전송되는 동안 데이터를 변환하는 작업을 포함하거나 여러 원본의 데이터를 하나로 결합할 수 있습니다.
    - **Azure Synapse Link**: 이 구성 요소를 사용하면 Azure Cosmos DB에 연결할 수 있습니다. 이를 사용하여 Azure Cosmos DB 데이터베이스에 저장된 작동 데이터에 대해 거의 실시간으로 분석을 수행할 수 있습니다.
    - **Azure Synapse Studio**: 이 요소는 중앙에서 Azure Synapse Analytics의 모든 기능을 사용할 수 있는 웹 기반 IDE입니다. Azure Synapse Studio를 사용하여 SQL 및 Spark 풀을 만들고, 파이프라인을 정의 및 실행하고, 외부 데이터 원본에 대한 링크를 구성할 수 있습니다.
    
    ### **분석 옵션**
    
    Azure Synapse Analytics는 다양한 분석 시나리오를 지원합니다. 테이블을 검토하면서 시나리오가 Tailwind Traders 조직에 적용되는 방식을 고려합니다.
    
    | 분석 | 시나리오 | 설명 |
    | --- | --- | --- |
    | *설명적* | 설명 | Azure Synapse는 *what now* 질문을 분석하기 위해 지속형 데이터 웨어하우스를 만들 수 있도록 하는 전용 SQL 풀 기능을 적용합니다. 서버리스 SQL 풀을 사용하여 데이터 레이크에 저장된 파일에서 데이터를 준비하고 대화형으로 데이터 웨어하우스를 만들 수도 있습니다. |
    | *진단* | 이유가 무엇인가요? | 데이터 레이크 내에서 데이터를 대화형으로 탐색하도록 Azure Synapse 내 서버리스 SQL 풀 기능을 사용할 수 있습니다. 서버리스 SQL 풀을 통해 사용자는 *발생 이유*를 이해하는 데 도움이 되는 다른 데이터를 빠르게 검색할 수 있습니다. |
    | *예측적* | 무슨 일이 일어날 가능성이 있습니까? | Azure Synapse Analytics는 예측 분석에 통합 Apache Spark 엔진 및 Azure Synapse Spark 풀을 사용합니다. 이 작업은 Azure Machine Learning Services 및 Azure Databricks와 같은 다른 서비스와 결합하여 *what future* 질문에 대답하는 데 도움이 됩니다. |
    | *처방적* | 수행해야 하는 작업은 무엇인가요? | 규범적 분석에 실시간 또는 실시간에 가까운 데이터를 사용하여 *what action* 질문에 대한 솔루션을 찾는 데 도움이 됩니다. Azure Synapse Analytics는 Apache Spark와 Azure Synapse Link를 통해, 그리고 Azure Stream Analytics 같은 스트리밍 기술을 통합하여 이 기능을 제공합니다. |
    
    ### **비즈니스 시나리오**
    
    회사가 주식 시장 정보를 이용해 고객에게 서비스를 제공하는 시나리오를 살펴보겠습니다. Tailwind Traders 인프라를 지원하려면 일괄 처리와 스트림 처리의 조합을 제공해야 합니다. 초 단위 이하의 데이터는 정보에 입각하여 초를 다투는 매수 또는 매도 결정을 즉각적으로 내리는 데 필요한 실시간 모니터링에 도움이 될 수 있습니다. 과거 데이터도 성과 추세를 보기 위해 똑같이 중요합니다. 원시 데이터 스트림과 이 데이터에서 파생되어 준비된 비즈니스 정보에 액세스할 수 있도록 권장하는 데이터 웨어하우스 및 데이터 통합 솔루션 종류는 무엇인가요? Azure Synapse Analytics를 사용하면 외부 원본에서 데이터를 수집한 다음 이 데이터를 분석 처리에 적합한 형식으로 변환하고 집계할 수 있습니다.
    
    ### **Azure Data Factory 또는 Azure Synapse Analytics를 선택할 때 고려해야 할 사항**
    
    다음 표에서는 Azure Data Factory 및 Azure Synapse Analytics를 사용할 경우의 스토리지 솔루션 조건을 비교합니다. 조건을 검토하고 Tailwind Traders에 가장 적합한 솔루션을 생각해 보세요.
    
    | 비교 | Azure Data Factory | Azure Synapse Analytics |
    | --- | --- | --- |
    | **데이터 공유** | 여러 데이터 팩터리에서 데이터 공유 가능 | 지원되지 않음 |
    | **솔루션 템플릿** | 솔루션 템플릿이 Azure Data Factory 템플릿 갤러리와 함께 제공됨 | 솔루션 템플릿이 Synapse 작업 영역 지식 센터에서 제공됨 |
    | **지역 간 흐름 통합 런타임** | 지역 간 데이터 흐름이 지원됨 | 지원되지 않음 |
    | **데이터 모니터링** | 데이터 모니터링은 Azure Monitor와 통합됨 | 진단 로그는 Azure Monitor에서 사용 가능함 |
    | **데이터 흐름에 대한 Spark 작업 모니터링** | 지원되지 않음 | Spark 작업은 Synapse Spark 풀을 사용하여 데이터 흐름에 대해 모니터링할 수 있음 |
    
    Azure Synapse Analytics는 다른 많은 시나리오에 적합한 솔루션입니다. 다음 옵션을 살펴보세요.
    
    - **다양한 데이터 원본을 고려합니다**. 다양한 데이터 원본이 있는 경우 코드 없는 ETL 및 데이터 흐름 활동에 Azure Synapse Analytics를 사용합니다.
    - **Machine Learning을 고려합니다**. Apache Spark를 사용하여 기계 학습 솔루션을 구현해야 하는 경우 Azure Synapse Analytics에서 Azure Machine Learning에 대한 기본 제공 지원을 활용할 수 있습니다.
    - **데이터 레이크 통합을 고려합니다**. 기존 데이터가 Azure 데이터 레이크에 저장되어 있고 데이터 레이크 및 다른 입력 원본과의 통합이 필요한 경우 Azure Synapse Analytics가 두 구성 요소 간에 원활한 통합을 제공합니다.
    - **실시간 분석을 고려합니다**. 실시간 분석이 필요한 경우 Azure Synapse Link와 같은 기능을 사용하여 데이터를 실시간으로 분석하고 인사이트를 제공할 수 있습니다.
- 핫, 웜 및 콜드 데이터 경로에 대한 디자인 전략
    
    전통적으로 데이터는 온-프레미스에 저장되었습니다. 데이터를 사용하는 방법에 대해서는 고려하지 않았습니다. 클라우드에서는 액세스, 수명 주기 및 기타 준수 요구 사항에 따라 데이터를 저장할 수 있습니다. 이 단원에서는 핫, 웜 및 콜드 데이터 경로를 검사하고 데이터 저장 및 컴퓨팅 옵션을 고려합니다.
    
    ### **웜 데이터 경로**
    
    웜 데이터 경로는 데이터가 시스템을 통해 흐를 때 데이터 분석을 지원합니다. 데이터 스트림은 거의 실시간으로 처리됩니다. 데이터는 웜 스토리지에 저장되고 분석 클라이언트에 푸시됩니다.
    
    - Azure 플랫폼은 이벤트를 처리하기 위한 다양한 옵션을 제공하며 [, Azure Stream Analytics](https://learn.microsoft.com/ko-kr/azure/stream-analytics/stream-analytics-introduction) 는 인기 있는 선택입니다.
    - Stream Analytics는 연속, 슬라이딩 및 도약 창에 대해 대규모로 복잡한 분석을 실행할 수 있습니다. 이 서비스는 스트림 집계 실행 및 외부 데이터 원본 조인을 지원합니다. 복잡한 처리를 위해 Azure Event Hubs, Stream Analytics 작업 및 Azure 함수의 여러 인스턴스를 계단식으로 배열하여 성능을 확장할 수 있습니다.
    - 웜 스토리지는 Azure 플랫폼의 다양한 서비스(예: Azure SQL Database 및 Azure Cosmos DB)로 구현할 수 있습니다.
    
    ### **비즈니스 시나리오**
    
    IoT 디바이스 데이터 집계에 대한 일반적인 시나리오를 살펴보겠습니다. 디바이스는 데이터를 보낼 수 있지만 결과 또는 분석 데이터는 생성하지 않습니다. 이 상황은 IoT 데이터에서 인사이트 추출을 시도할 때의 공통적인 어려움을 보여 줍니다. 원하는 데이터가 수신된 데이터에서 제공되지 않습니다. 수신한 데이터를 다른 데이터 원본과 결합하여 사용률을 유추해야 합니다. 그런 다음, 규칙을 적용하여 머신이 결과를 생성하는지 여부를 판단합니다. 또한 회사의 분석 또는 결과에 대한 기대치가 다른 경우 규칙이 회사마다 달라질 수도 있습니다.
    
    ### **콜드 데이터 경로**
    
    웜 데이터 경로는 시간 경과에 따른 패턴을 찾아내기 위해 스트림 처리가 발생하는 위치입니다. 그러나 과거의 일정 기간 동안 사용률을 계산해야 할 수도 있습니다. 또한 다양한 피벗과 집계가 필요할 수 있고, 이러한 결과를 웜 경로 결과와 병합하여 사용자에게 통합된 뷰를 제시해야 합니다. 콜드 데이터 경로가 이러한 작업 수행에 도움이 될 수 있습니다.
    
    - 콜드 데이터 경로는 일괄 처리 계층과 시스템의 장기간 뷰를 제공하는 서비스 계층으로 구성됩니다.
    - 일괄 처리 계층은 긴 기간에 걸쳐 빠른 쿼리 응답을 사용하도록 설정하기 위해 미리 계산된 집계 뷰를 만듭니다. Azure 플랫폼은 이 계층에 대한 다양한 기술 옵션을 제공합니다.
    - 콜드 경로에는 솔루션에 대한 장기 데이터 저장소가 포함되며 Azure Storage가 일반적인 방법입니다. Azure Storage는 Azure Blob(개체), Azure Data Lake Storage Gen2, Azure Files, Azure Queues, Azure Tables를 포함합니다.
    - 콜드 스토리지는 Blobs, Data Lake Storage Gen2, Azure Tables 또는 조합이 될 수 있습니다.
    - 대량의 비정형 데이터를 저장하기 위해 가장 좋은 옵션은 Blob Storage, Azure Files 또는 Azure Data Lake Storage Gen2입니다. 콜드 경로 스토리지는 IoT 애플리케이션에서 받은 처리되지 않은 데이터를 포함하는 원본 메시지에 적합합니다.
    
    ### **비즈니스 시나리오**
    
    시간이 지남에 따라 Tailwind Traders 웹 사이트 상호 작용을 위한 기계 학습 모델을 빌드해야 하는 시나리오를 검토합니다. 데이터 이동을 자동화하고 데이터 변환을 수행해야 합니다. 이 시나리오에서 Azure Data Factory는 이러한 요구 사항을 충족하기 위해 콜드 경로의 서비스 계층에서 일괄 처리 보기를 만들기 위한 훌륭한 솔루션입니다. 데이터 이동 및 데이터 변환을 오케스트레이션하고 자동화하기 위해 클라우드에서 데이터 기반 워크플로를 만들 수 있는 클라우드 기반 관리 데이터 통합 서비스입니다. Azure HDInsight Hadoop, Apache Spark 및 Azure Databricks와 같은 서비스를 사용하여 데이터를 처리하고 변환할 수 있습니다. 기계 학습 모델을 빌드하여 분석 클라이언트에 활용할 수 있습니다.
    
    ### **핫 데이터 경로**
    
    일반적으로 핫 데이터 경로는 데이터를 실시간으로 처리하거나 표시하는 데 사용됩니다. 이 경로는 실시간 경고 및 스트리밍 작업에 사용됩니다. 핫 경로는 대기 시간이 중요한 데이터이고, 결과가 몇 초 이내에 결과를 준비되어야 하며, 데이터가 분석 클라이언트에서 신속하게 사용할 수 있도록 흐릅니다.
    
    ### **비즈니스 시나리오**
    
    Tailwind Traders는 고객 포털에 대한 데이터 분석을 구현하려고 합니다. 스트리밍 데이터를 수집하고 관리자, 고객 도우미 및 포털 사용자에게 실시간 경고를 제공해야 합니다. 핫 경로는 이 시나리오에 이상적입니다. 데이터를 입력하거나 표시할 때 수집할 수 있습니다. 빠른 분석 및 후속 작업을 위해 데이터를 관리자에게 거의 실시간으로 전달할 수 있습니다.
    
    ### **데이터 경로 비교**
    
    다음 표에서는 세 가지 경로 솔루션에 대한 시나리오를 비교합니다. 시나리오를 검토하고 Tailwind Traders에 필요한 솔루션을 고려합니다.
    
    | 시나리오 | 경로 솔루션 |
    | --- | --- |
    | *자주 변경되는 데이터 요구 사항에 대한 유연한 지원 실시간으로 데이터 처리 또는 표시 지원*. | **핫** 데이터 경로 |
    | *규정 준수 또는 법적 이유로 저장된 데이터와 같이 거의 사용되지 않는 데이터를 지원합니다. 장기 분석 및 일괄 처리를 위한 데이터 사용을 지원합니다.*. | **콜드** 데이터 경로 |
    | *데이터의 최근 하위 집합을 저장 또는 표시합니다. 소규모 분석 및 일괄 처리에 대한 데이터 사용을 지원합니다.*. | **웜** 데이터 경로 |
- 데이터 분석을 위한 Azure Stream Analytics 솔루션 디자인
    
    데이터 스트림을 사용하고 분석하여 실행 가능한 인사이트를 도출하는 프로세스를 스트림 처리라고 합니다. [Azure Stream Analytics](https://learn.microsoft.com/ko-kr/azure/stream-analytics/stream-analytics-introduction)는 완전 관리형(PaaS 제품) 실시간 분석 및 복잡한 이벤트 처리 엔진입니다. IoT 디바이스 데이터, 센서, 클릭 스트림, 소셜 미디어 피드와 같은 원본의 여러 데이터 스트림에 대해 실시간 분석을 수행할 수 있는 가능성을 제공합니다.
    
    ### **Azure Stream Analytics에 대해 알아야 할 사항**
    
    Azure Stream Analytics는 다음 개념으로 작동합니다.
    
    - **데이터 스트림** - 데이터 스트림은 애플리케이션, IoT 디바이스 또는 센서에서 생성된 연속 데이터입니다. 데이터 스트림이 분석되고 실행 가능한 인사이트가 도출됩니다. 몇 가지 예를 들면 산업 및 제조 장비의 데이터 스트림을 모니터링하고 공공설비 공급자의 물 파이프라인 데이터를 모니터링이 있습니다. 데이터 스트림은 시간에 따른 변화를 이해하는 데 도움이 됩니다.
    - **이벤트 처리**: 이벤트 처리는 해당 스트림 내에서 발생하는 이벤트로부터 실행 가능한 인사이트를 도출하는 연속 데이터 스트림의 소비 및 분석을 나타냅니다. 고속도로 요금소를 통과하는 차량에 이벤트가 발생한 시점을 나타내는 타임스탬프와 같은 시간 정보를 포함하는 방법을 예로 들 수 있습니다.
    
    **중요**
    
    Azure Stream Analytics는 세 가지 CSV, JSON 및 Avro 데이터 형식의 이벤트 처리를 지원합니다.
    
    다음 그림은 프레젠테이션 또는 작업을 위해 데이터가 수집, 분석 및 전송되는 방법과 Stream Analytics 파이프라인을 보여 줍니다.
    
    ![프레젠테이션 또는 작업을 위해 데이터가 수집, 분석 및 전송되는 방법과 Stream Analytics 파이프라인을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-data-integration/media/stream-analytics-end-to-end-pipeline.png)
    
    ### **주요 특징**
    
    Stream Analytics는 Azure Event Hubs(Apache Kafka의 Azure Event Hubs 포함), Azure IoT Hub 또는 Azure Blob Storage에서 데이터를 수집합니다. SQL 쿼리 언어를 기반으로 하는 쿼리를 사용하여 일정 기간의 스트리밍 데이터를 쉽게 필터링, 정렬, 집계 및 조인할 수 있습니다. JavaScript 및 C# UDF(사용자 정의 기능)를 사용하여 이 SQL 언어를 확장할 수도 있습니다.
    
    Azure Stream Analytics 작업은 입력, 쿼리 및 출력으로 구성됩니다. 작업 출력으로 다음 작업을 수행할 수 있습니다.
    
    - Azure Blob Storage, Azure SQL Database, Azure Data Lake Store 및 Azure CosmosDB와 같은 스토리지 시스템으로 데이터를 라우팅합니다.
    - 실시간 시각화를 위해 Power BI로 데이터를 보냅니다.
    - Azure Synapse Analytics 같은 데이터 웨어하우스 서비스에 데이터를 저장하여 과거 데이터를 기반으로 기계 학습 모델을 학습하거나 일괄 처리 분석을 수행합니다.
    - Azure Functions, Azure Service Bus 토픽 또는 Azure 큐와 같은 서비스에 데이터를 전송하여 사용자 지정 다운스트림 워크플로를 트리거합니다.
    
    ### **비즈니스 시나리오**
    
    Tailwind Traders는 회사의 성장을 돕기 위해 애플리케이션 및 서비스의 디지털 트랜스포메이션을 사용 중입니다. 이 회사는 상품을 배달 중인 배달 트럭에 장착된 GPS의 센서 데이터를 액세스, 저장 및 분석을 지원해야 합니다. 여러분은 관리자가 실시간으로 결정을 내릴 수 있도록 트럭의 GPS 스트리밍 데이터에 대한 실시간 분석을 제공하는 솔루션을 찾고 있습니다. 추가 분석에서 팀에서는 이 데이터가 기존 Power BI 시각화 대시보드에 표시되기를 원하는 것이 확인되었습니다. Azure Stream Analytics는 이 시나리오의 요구 사항을 충족하는 데 도움이 될 수 있습니다.
    
    Azure Stream Analytics는 다른 일반적인 엔터프라이즈 데이터 요구 사항을 충족하는 데 이상적인 솔루션입니다. 다음 시나리오를 고려하세요.
    
    | 요구 사항 | 설명 |
    | --- | --- |
    | IoT 디바이스의 실시간 원격 분석 스트림을 분석합니다. | 온도, 습도, 팬 런타임을 릴레이하는 자동화 시스템을 빌드하여 Azure Stream Analytics에서 실시간 센서 데이터를 수집합니다. 조정을 통해 최적의 건물 온도를 유지하여 비용을 절감할 수 있습니다. |
    | 웹 로그를 빌드하고 클릭스트림 분석을 수행합니다. | 소비재 소매업체는 전자 상거래 분석을 기반으로 사용자에게 실시간 제품 추천을 제공할 수 있습니다. |
    | 지리 공간적 분석을 생성합니다. | 센서, 소셜 미디어, 위성 이미지, 모바일 디바이스와 같은 지리 공간적 데이터 원본에 대한 분석을 준비합니다. 산불 및 허리케인과 같은 혹독한 기상 이벤트를 예측하여 항공사의 라우팅을 도울 수 있습니다. 고객의 지리적 위치를 기반으로 안 좋은 기상 상태에 대한 모바일 경고를 고객에게 보낼 수 있습니다. |
    | 고부가가치 자산의 원격 모니터링 및 예측 유지 관리를 수행합니다. | Azure Stream Analytics에서 운영 데이터를 수집하여 산업 장비와 같은 고부가가치 자산을 모니터링합니다. 예측 유지 관리를 통해 장비의 유효 수명을 최대화할 수 있습니다. 변압기에서 수집된 데이터는 공공기업체에서 작동 중단을 방지하기 위해 사용됩니다. |
    | POS(Point of Sale) 데이터에 대한 실시간 분석을 수행합니다. | 사기성 신용 카드 거래를 검색하고 판매 시점에 의심스러운 활동을 식별합니다. 신용 카드 소유자의 연락처 정보에 따라 비정상적으로 큰 거래 또는 비정상적인 위치 활동을 발견할 수 있습니다. Azure Stream Analytics에 수집된 데이터에 대해 경고 트리거를 설정할 수 있습니다. |
    
    Tailwind Traders 시나리오에서는 Azure Stream Analytics를 적용하여 Power BI를 통해 트럭의 실시간 위치를 시각화할 수 있습니다. 분석 워크로드에 대한 경영진 결정의 경우 향후 분석을 위해 Azure Cosmos DB 또는 Azure Data Lake와 같은 데이터 웨어하우스에 데이터를 저장할 수 있습니다.
    
    ### **Azure Stream Analytics를 사용할 때 고려해야 할 사항**
    
    Azure Stream Analytics는 Tailwind Traders의 데이터 통합 계획에서 중요한 구성 요소가 될 수 있습니다. 서비스의 다음과 같은 이점을 검토합니다.
    
    - **프로비전 요구 사항을 고려합니다**. Azure Stream Analytics는 완전 관리형 서비스입니다. PaaS(Platform as a Service) 제품으로 제공되므로 하드웨어 또는 인프라를 프로비전하는 오버헤드가 없습니다. Azure Stream Analytics는 작업을 완벽하게 관리하므로 인프라가 아닌 비즈니스 논리에 집중할 수 있습니다.
    - **비용을 고려합니다**. Stream Analytics는 비용이 저렴합니다. 할당된 CPU 및 메모리 리소스의 양을 나타내는 소비된 SU(스트리밍 단위)를 기준으로 비용이 청구됩니다. 비즈니스 요구 사항에 따라 스케일 업 및 다운이 이루어지므로 비용을 절감할 수 있습니다. 유지 관리 비용이 발생하지 않습니다.
    - **구현을 고려합니다**. 대규모 분석을 위해 클라우드에서 Azure Stream Analytics를 실행할 수 있습니다. 분석 대기 시간을 크게 단축하기 위해 IoT Edge 또는 Azure Stack에서 Stream Analytics를 실행합니다.
    - **성능을 고려합니다**. Stream Analytics는 안정적인 성능을 보장합니다. 분할을 통해 더 높은 성능을 지원하여 복잡한 쿼리를 병렬화하고 여러 스트리밍 노드에서 실행할 수 있습니다. Stream Analytics는 초당 수백만 개의 이벤트를 처리할 수 있습니다. 대기 시간을 크게 단축하면서 결과를 제공할 수 있습니다.
    - **보안을 고려합니다**. Stream Analytics는 들어오고 나가는 모든 통신을 암호화하고 TLS 1.2를 지원합니다. 기본 제공 검사점도 암호화됩니다. 모든 처리가 메모리에서 완료되기 때문에 Stream Analytics는 들어오는 데이터를 저장하지 않습니다.

---

### Azure 컴퓨팅 솔루션 설계

- Azure 컴퓨팅 서비스 선택
    
    Azure는 여러 컴퓨팅 서비스를 제공합니다. *컴퓨팅* 은 애플리케이션이 실행되는 컴퓨팅 리소스에 대한 호스팅 모델을 나타냅니다. Azure는 시나리오에 적합한 Azure 컴퓨팅 서비스를 선택하는 방법에 대한 높은 수준의 지침과 함께 의사 결정 [순서도](https://learn.microsoft.com/ko-kr/azure/architecture/guide/technology-choices/compute-decision-tree) 를 제공합니다.
    
    **참고)** 다음 다이어그램은 이 모듈에 설명된 Azure 서비스만 보여 줍니다.
    
    이 의사 결정 순서도의 출력은 계획의 **시작점** 입니다. 서비스에 대한 자세한 평가를 수행하여 요구 사항을 충족하는 솔루션을 정확히 결정해야 합니다. 이 모듈을 진행하는 동안 이 다이어그램을 참조하여 고려 사항 및 옵션에 익숙해지세요.
    
    ![Azure 컴퓨팅 솔루션에 대한 고려 사항 및 옵션을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/compute-flowchart.png)
    
    ### **Azure 컴퓨팅 서비스에 관해 알아야 할 사항**
    
    이 모듈에서 검토하는 Azure 컴퓨팅 서비스를 간단히 살펴보겠습니다.
    
    - **Azure Virtual Machines: Azure 가상** 네트워크 내에서 가상 머신을 배포하고 관리합니다.
    - **Azure Batch**: 관리되는 서비스를 적용하여 대규모 병렬 및 고성능 컴퓨팅(HPC) 애플리케이션을 실행합니다.
    - **Azure App Service**: 관리형 서비스를 사용하여 웹앱, 모바일 앱 백 엔드, RESTful API 또는 자동화된 비즈니스 프로세스를 호스트합니다.
    - **Azure Functions**: 관리되는 서비스를 사용하여 인프라에 대한 걱정 없이 클라우드에서 코드를 실행합니다.
    - **Azure Logic Apps: Azure** Functions의 기능과 유사한 자동화된 워크플로를 만들고 실행하도록 이 클라우드 기반 *플랫폼을* 구성합니다.
    - **Azure Container Instances**: 가상 머신을 만들거나 상위 수준 서비스에 의존하지 않고 빠르고 간단한 방식으로 Azure에서 컨테이너를 실행합니다.
    - **AKS(Azure Kubernetes Service)**: 관리되는 Kubernetes 서비스를 사용하여 컨테이너화된 애플리케이션을 실행합니다.
    
    ### **Azure 컴퓨팅 서비스를 선택할 때 고려해야 할 사항**
    
    Azure 컴퓨팅 서비스를 비교하여 Tailwind Traders에 적합한 인프라 솔루션을 선택하기 시작할 때 고려해야 할 몇 가지 구현 지점이 있습니다.
    
    - 아키텍처 및 인프라 요구 사항.
    - HPC 애플리케이션과 같은 새 워크로드 시나리오 지원.
    - 플랫폼, 인프라 및 함수를 비롯한 필수 호스팅 옵션.
    - 클라우드 최적화 또는 리프트 앤 시프트와 같은 마이그레이션 지원.
    
    ### **워크로드 및 아키텍처**
    
    Azure 서비스 및 새 워크로드의 새 인스턴스를 계획할 때 다음 시나리오를 고려합니다.
    
    - **제어**: 설치된 소프트웨어 및 애플리케이션에 대한 모든 권한이 필요한지 확인합니다.
    - **워크로드**: **HPC** 워크로드 또는 이벤트 기반 워크로드와 같이 지원해야 하는 **워크로드를 고려합니다**.
    - **아키텍처**: **마이크로 서비스**, **본격적인 오케스트레이션** 및 **서버리스**를 포함하여 인프라를 가장 잘 지원하는 아키텍처를 생각해 보세요.
    
    ### **마이그레이션**
    
    컴퓨팅 서비스에 대한 중요한 고려 사항에는 마이그레이션 기능에 대한 분석이 포함됩니다.
    
    - **클라우드 최적화**: 클라우드로 마이그레이션하고 애플리케이션을 리팩터링하여 클라우드 네이티브 기능에 액세스하려면 클라우드 최적화 컴퓨팅 서비스를 고려합니다.
    - **리프트 앤 시프트**: 리프트 앤 시프트 방식으로 워크로드를 마이그레이션 할 때는 애플리케이션 재설계나 코드 변경이 필요 없는 컴퓨팅 서비스를 고려합니다.
    - **컨테이너화**됨: 마이그레이션 계획에서 컴퓨팅 서비스가 컨테이너화된 애플리케이션을 지원해야 하는지 또는 상용(COTS) 앱을 지원해야 하는지를 고려합니다.
    
    ### **호스팅**
    
    컴퓨팅 솔루션의 [호스팅 옵션은](https://learn.microsoft.com/ko-kr/azure/security/fundamentals/shared-responsibility) 개발자와 클라우드 공급자의 책임을 결정합니다. Azure는 컴퓨팅 서비스에서 세 가지 호스팅 옵션을 제공합니다.
    
    ![인프라 및 플랫폼 서비스에 대한 개발자 및 클라우드 공급자 책임을 강조 표시하는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/host-infrastructures.png)
    
    - [**SaaS(Software-as-a-Service)**](https://azure.microsoft.com/resources/cloud-computing-dictionary/what-is-saas) 는 구독을 기준으로 인터넷을 통해 소프트웨어 애플리케이션을 제공합니다. 사용자는 기본 인프라 또는 애플리케이션 소프트웨어를 관리할 필요 없이 웹 브라우저를 통해 이러한 애플리케이션에 액세스할 수 있습니다. Microsoft 365는 Word, Excel, Outlook 및 Teams와 같은 클라우드 기반 생산성 도구를 제공하는 SaaS 솔루션의 예입니다.
    - [**PaaS(Platform-as-a-Service)**](https://azure.microsoft.com/resources/cloud-computing-dictionary/what-is-paas) 는 개발자가 기본 인프라에 대한 걱정 없이 애플리케이션을 빌드, 배포 및 관리할 수 있는 관리형 호스팅 환경을 제공합니다. Azure는 인프라, 유지 관리 및 확장성을 처리하여 개발자가 코드 작성에 집중할 수 있도록 합니다. Azure PaaS 제품의 예로는 Azure App Services, Azure Functions 및 Azure SQL Database가 있습니다.
    - [**IaaS(Infrastructure-as-a-Service)**](https://azure.microsoft.com/overview/what-is-iaas/) 는 인터넷을 통해 가상화된 컴퓨팅 리소스를 제공합니다. 이를 통해 사용자는 물리적 하드웨어 없이도 요청 시 가상 머신, 스토리지 및 네트워킹 리소스를 임대할 수 있습니다. Azure Virtual Machines는 사용자가 Azure 가상 네트워크 내에서 VM을 배포하고 관리할 수 있는 IaaS 제품의 대표적인 예입니다.
    - **온-프레미스 호스팅** 에는 조직의 자체 데이터 센터 내에서 로컬 서버에 애플리케이션을 배포하고 관리하는 작업이 포함됩니다. 이 옵션은 인프라에 대한 최고 수준의 제어를 제공하지만 하드웨어, 유지 관리 및 IT 직원에 상당한 투자가 필요합니다. 또한 Azure는 하이브리드 클라우드 솔루션을 지원하여 온-프레미스 인프라와 Azure 서비스 간의 통합을 허용합니다.
    
    **팁**) Azure [**컴퓨팅 및 네트워킹 서비스 설명**](https://learn.microsoft.com/ko-kr/training/modules/describe-azure-compute-networking-services/) 모듈을 사용하여 Azure AI 지원 컴퓨팅 솔루션에 대한 연구를 확장할 수 있습니다.
    
- Azure Virtual Machines 솔루션 디자인
    
    [Azure Virtual Machines](https://learn.microsoft.com/ko-kr/azure/virtual-machines/)는 Azure IaaS(Infrastructure-as-a-Service) 모델의 기반입니다. Virtual Machines는 클라우드에서 애플리케이션을 개발, 테스트 및 배포하거나 데이터 센터를 확장하는 데 사용할 수 있습니다. Virtual Machines는 엔터프라이즈에 더 많은 컴퓨팅 성능을 추가하도록 빠르고 확장 가능하며 유연한 방법을 제공합니다.
    
    ### **Azure Virtual Machines에 대해 알아야 할 사항**
    
    Azure Virtual Machines가 인프라에 이상적인 컴퓨팅 솔루션이 될 수 있는 두 가지 주요 시나리오가 있습니다. Virtual Machines 리프트 앤 시프트 패턴을 사용하여 새 워크로드를 빌드하고 데이터를 마이그레이션하는 데 사용할 수 있습니다.
    
    ![새 워크로드를 빌드하고 리프트 앤 시프트 마이그레이션을 지원하기 위해 Azure Virtual Machines를 선택하는 의사 결정 트리를 보여주는 순서도.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/select-virtual-machines.png)
    
    - **새 워크로드 빌드**: Azure Virtual Machines는 새 워크로드를 빌드하고 애플리케이션에 대한 수요 변동이 있을 때 이상적입니다. Azure의 가상 머신에서 애플리케이션을 실행하는 것이 경제적입니다.
    - **리프트 앤 시프트 마이그레이션**: 리프트 앤 시프트(리호스팅) 마이그레이션을 사용하여 온-프레미스 위치에서 데이터 및 애플리케이션을 이동하는 경우 클라우드의 Azure Virtual Machines를 대상으로 지정하는 것이 효과적인 전략입니다.
    
    ### **Azure Virtual Machines를 사용할 때 고려해야 할 사항**
    
    Azure Virtual Machines를 컴퓨팅 솔루션으로 사용할 때 고려해야 할 사항의 체크리스트를 살펴보겠습니다. 이러한 사항을 검토할 때 Tailwind Traders 요구 사항에 따라 어떤 구성이 필요한지 생각해 보세요.
    
    - 네트워크로 시작합니다.
    - 가상 머신의 이름을 지정하고 위치를 결정합니다.
    - 가상 머신의 크기를 결정합니다.
    - 가격 책정 모델 및 Azure Storage 옵션을 검토합니다.
    - 운영 체제를 선택합니다.
    
    ### **네트워크 구성**
    
    가장 먼저 고려해야 하는 것은 가상 머신이 아니라 네트워크입니다. 잠시 시간을 갖고 Tailwind Traders에 적합한 네트워크 구성을 생각해 보세요. 네트워크 주소와 서브넷은 구성된 후에는 변경하기가 간단하지 않습니다. 온-프레미스 네트워크가 있는 경우 가상 머신을 만들기 전에 네트워크 토폴로지를 신중하게 고려해야 합니다.
    
    ### **가상 머신 이름**
    
    일부 개발자는 가상 머신의 이름에 대해 중요하게 생각하지 않습니다. 하지만 **가상 머신 이름**은 관리 가능한 **Azure 리소스**를 정의하며, 값을 변경하기가 쉽지 않습니다. VM에서 수행하는 작업을 쉽게 식별할 수 있도록 의미 있고 일관성 있는 이름을 선택하세요.
    
    ### **가상 머신 위치**
    
    Azure는 전 세계에 서버와 디스크로 채워진 데이터 센터를 갖추고 있습니다. 이러한 데이터 센터는 지리적 지역(미국 서부, 북유럽, 동남 아시아 등)으로 그룹화됩니다. 데이터 센터는 중복성 및 가용성을 제공합니다.
    
    각 가상 머신은 리소스(CPU, 스토리지 등)를 할당하려는 지역에 있습니다. 지역 위치를 사용하면 가상 머신을 사용자에게 최대한 가깝게 배치할 수 있습니다. 머신의 위치는 성능을 향상시키고, 법률, 규정 준수 또는 세금 요구 사항을 충족하도록 할 수 있습니다.
    
    가상 머신 위치에 대해 고려해야 할 다른 두 가지 사항이 있습니다.
    
    - 머신 위치가 사용 가능한 옵션을 제한할 수 있습니다. 지역마다 사용 가능한 하드웨어가 다르며 지역에 따라 사용할 수 없는 구성도 있습니다.
    - 위치 간에 가격 차이가 있습니다. 가장 비용 효율적인 선택을 찾으려면 각기 다른 지역에서 필요한 구성을 확인합니다.
    
    ### **가상 머신 크기**
    
    가상 머신 이름 및 위치를 선택한 후에는 머신 크기를 결정해야 합니다. Azure는 다양한 [가상 머신 크기](https://learn.microsoft.com/ko-kr/azure/virtual-machines/sizes)에 대해 서로 다른 메모리 및 스토리지 옵션을 제공합니다.
    
    적절한 머신 크기를 결정하는 가장 좋은 방법은 머신에서 실행해야 하는 워크로드의 유형을 고려하는 것입니다. 워크로드에 따라 사용 가능한 가상 머신 크기의 하위 집합 중에서 선택할 수 있습니다. 다음 표에서는 Azure Virtual Machines 워크로드 및 권장 사용 시나리오에 대한 크기 분류를 보여줍니다.
    
    | **분류** | **설명** | **시나리오** |
    | --- | --- | --- |
    | **범용** | 균형 잡힌 CPU-메모리 비율을 제공 | - 테스트 및 개발
    - 중소규모 데이터베이스
    - 트래픽이 낮거나 중간 수준인 웹 서버 |
    | **컴퓨팅 최적화** | 높은 CPU-메모리 비율을 제공 | - 트래픽이 중간 수준인 웹 서버
    - 네트워크 어플라이언스
    - 일괄 처리
    - 애플리케이션 서버 |
    | **메모리 최적화** | 높은 메모리-CPU 비율을 제공 | - 관계형 데이터베이스 서버
    - 중, 대형 캐시
    - 메모리 내 분석 |
    | **Storage에 최적화** | 높은 디스크 처리량과 I/O를 제공 | - 데이터베이스를 실행하는 가상 머신 |
    | **그래픽 카드(GPU)** | 고급 그래픽 렌더링 및 비디오 편집 목표 | - 딥 러닝을 통한 모델 학습 및 유추 |
    | **고성능 계산** | 선택적으로 처리를 빨리 할 수 있는 네트워크 인터페이스를 갖춘 가장 빠르고 강력한 CPU 가상 머신입니다. | - 빠른 성능이 필요한 워크로드
    - 트래픽이 높은 네트워크 |
    
    ### **가상 머신 가격 책정**
    
    - **컴퓨팅 비용**: 시간당 가격으로 책정되지만 분당 요금으로 청구됩니다. 가상 머신이 55분 동안 배포된 경우 55분의 요금만 청구됩니다. 가상 머신을 중지하고 할당을 취소하면 컴퓨팅 용량에 대한 요금이 부과되지 않습니다. [시간당 가격](https://azure.microsoft.com/pricing/details/virtual-machines/linux/)은 선택한 가상 머신 크기와 운영 체제에 따라 다릅니다.
    - **스토리지 비용**: 가상 머신에서 사용하는 Azure Storage에 대해 별도로 요금이 청구됩니다. 가상 머신의 상태는 발생한 Azure Storage 요금과 관련이 없습니다. 디스크에서 사용하는 모든 Azure Storage에 대해 항상 요금이 청구됩니다.
    
    ### **Azure Storage**
    
    [Azure 관리 디스크](https://learn.microsoft.com/ko-kr/azure/virtual-machines/managed-disks-overview)는 백그라운드에서 Azure Storage 계정 생성 및 관리를 처리합니다. 디스크 크기와 성능 계층(표준 또는 프리미엄)을 지정합니다. Azure가 디스크를 만들고 관리합니다. 디스크를 추가하거나 가상 머신을 스케일 업 및 다운할 때 사용되는 스토리지에 대해 걱정할 필요가 없습니다.
    
    ### **운영 체제**
    
    Azure는 여러 버전의 Windows 및 Linux를 포함하여 가상 머신에 설치할 수 있는 다양한 운영 체제 이미지를 제공합니다. Azure는 운영 체제 라이선스 비용을 가격에 번들로 묶습니다.
    
    - 기본 운영 체제 이미지 이상을 찾는 경우 [Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/category/compute)를 검색할 수 있습니다. 운영 체제뿐만 아니라 WordPress와 같이 많이 사용되는 소프트웨어 도구를 포함하는 다양한 설치 이미지가 있습니다. 이미지 스택은 Linux 서버, Apache 웹 서버, MySQL 데이터베이스 및 PHP로 구성됩니다. 각 구성 요소를 설치하고 구성하는 대신 Azure Marketplace 이미지를 설치하고 전체 스택을 한 번에 가져올 수 있습니다.
    - 적합한 운영 체제 이미지를 찾지 못한 경우 고유 디스크 이미지를 만들 수 있습니다. 그런 다음 디스크 이미지를 Azure Storage에 업로드하고 Azure 가상 머신을 만드는 데 사용할 수 있습니다. Azure는 64비트 운영 체제만 지원합니다.
    
    ### **비즈니스 애플리케이션**
    
    워크로드에 가장 적합한 다른 크기를 찾으려면 [Azure Virtual Machines 선택기 도구](https://azure.microsoft.com/pricing/vm-selector/)를 사용해 보세요.
    
    **팁)** Azure 가상 머신 소개 모듈을 [**사용하여 가상 머신에**](https://learn.microsoft.com/ko-kr/training/modules/intro-to-azure-virtual-machines/) 대해 자세히 알아봅니다.
    
- Azure Batch 솔루션 디자인
    
    [Azure Batch](https://learn.microsoft.com/ko-kr/azure/batch/batch-technical-overview) 는 클라우드에서 대규모 애플리케이션을 효율적으로 실행합니다. 인프라를 관리하지 않고도 컴퓨팅 집약적인 작업을 예약하고 솔루션에 대한 리소스를 동적으로 조정할 수 있습니다. Azure Batch는 컴퓨팅 노드의 풀(가상 머신)을 만들고 관리할 수 있습니다. Azure Batch는 실행할 애플리케이션을 설치하고, 컴퓨팅 노드에서 실행할 작업을 예약할 수도 있습니다.
    
    ### **Azure Batch에 대해 알아야 할 사항**
    
    Azure Batch가 인프라에 적합한 컴퓨팅 솔루션이 될 수 있는 많은 시나리오가 있습니다. Azure Batch는 Azure Virtual Machines와 유사하며 새 워크로드를 빌드하고 데이터를 마이그레이션하는 데 사용할 수 있습니다.
    
    ![새 워크로드를 빌드하고 리프트 앤 시프트 또는 클라우드 최적화 마이그레이션을 지원하기 위해 Azure Batch를 선택하는 의사 결정 트리를 보여 주는 순서도입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/select-azure-batch.png)
    
    - Azure Batch는 독립적으로 실행되는 애플리케이션(병렬 워크로드)에 효과적입니다.
    - Azure Batch는 서로 통신해야 하는 애플리케이션(밀결합 워크로드)에도 효과적입니다. Batch를 사용하여 금융 서비스 회사에 대한 몬테카를로 시뮬레이션을 실행하는 서비스나 이미지를 처리하는 서비스를 빌드할 수 있습니다.
    - Azure Batch를 사용하여 수십, 수백 또는 수천 개의 가상 머신으로 확장함으로써 대규모 병렬 및 고성능 컴퓨팅(HPC) 일괄 작업을 수행할 수 있습니다. 작업을 실행할 준비가 되면 Azure Batch는 다음을 수행합니다.
        - 컴퓨팅 가상 머신 풀을 시작합니다.
        - 애플리케이션 및 준비 데이터를 설치합니다.
        - 사용자의 여러 작업을 포함하는 작업을 실행합니다.
        - 작업이 완료되면 오류를 식별하고, 작업을 다시 큐에 추가하고, 풀을 스케일 다운합니다.
    
    ### **Azure Batch 작동 방식**
    
    Azure Batch에 대한 일반적인 실제 시나리오에는 데이터 및 애플리케이션 파일이 필요합니다. Batch 워크플로는 Azure 스토리지 계정에 이러한 데이터 및 애플리케이션 파일을 업로드하며 시작됩니다. 수요를 기반으로 필요한 만큼 Windows 또는 Linux 가상 컴퓨팅 노드를 사용하여 Batch 풀을 만듭니다. 수요가 증가하면 컴퓨팅 노드의 크기를 자동으로 조정할 수 있습니다.
    
    ![Azure Batch가 작업을 업로드, 다운로드, 만들기 및 모니터링하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/azure-batch.png)
    
    고유한 구성을 계획할 때 시나리오의 측면을 서비스와 Azure Batch 컴퓨팅의 두 부분으로 구분할 수 있습니다.
    
    - **서비스는** Azure를 플랫폼으로 사용합니다. 이 플랫폼은 계산 집약적인 작업을 완료하고 결과를 검색하는 데 사용됩니다. 또한 작업 및 태스크 진행 상황을 모니터링할 수 있습니다.
    - **Azure Batch는 서비스 뒤의 컴퓨팅 플랫폼으로 작동합니다**. Batch는 Azure Storage를 사용하여 작업을 완료하는 데 필요한 애플리케이션 또는 데이터를 가져옵니다. Azure Batch는 Azure Storage에 출력을 기록합니다. 백그라운드에는 가상 머신의 컬렉션(풀)이 있습니다. 풀은 작업과 태스크가 실행되는 리소스입니다.
    
    ### **Azure Batch를 사용할 때 고려해야 할 사항**
    
    Azure Batch를 사용하는 몇 가지 모범 사례를 살펴보겠습니다.
    
    - **풀을 고려하세요**. 작업이 단기 실행 태스크로 구성된 경우 각 작업에 대해 새 풀을 만들지 마세요. 새 풀을 만드는 오버헤드는 작업의 런타임을 감소시킵니다. 또한 작업에서 풀을 동적으로 사용하도록 하는 것이 가장 좋습니다. 모든 작업에 동일한 풀을 사용하면 실패할 확률이 더 높아집니다.
    - **노드를 고려합니다**. 개별 노드는 항상 사용할 수 있도록 보장되지 않습니다. Azure Batch 워크로드에 결정적이고 보장된 진행률이 필요한 경우 여러 노드가 있는 풀을 할당해야 합니다. 규정 준수 또는 규정 요구 사항을 준수하는 워크로드에 대해 격리된 가상 머신 크기를 사용하는 것이 좋습니다.
    - **작업을 고려합니다**. 작업을 정확하게 모니터링하고 활동을 기록할 수 있도록 작업 이름을 고유하게 지정합니다. 태스크를 효율적인 크기의 작업으로 그룹화하는 것이 좋습니다. 각각 10개의 태스크가 포함된 100개의 작업을 만드는 대신 1,000개의 태스크가 포함된 단일 작업을 사용하는 것이 더 효율적입니다.
    
    **팁)** Azure Portal 모듈을 [**사용하여 Azure Batch 계정 만들기를 통해 학습을**](https://learn.microsoft.com/ko-kr/training/modules/create-batch-account-using-azure-portal/) 계속합니다.
    
- Azure App Services 솔루션 디자인
    
    [Azure App Service](https://learn.microsoft.com/ko-kr/azure/app-service/overview) 는 웹앱, 백그라운드 작업, 모바일 백 엔드 및 RESTful API를 빌드하고 호스트할 수 있는 HTTP 기반 서비스입니다. 선택한 프로그래밍 언어를 사용하고 GitHub, Azure Pipelines 또는 Git 리포지토리에서 자동화된 배포를 빌드할 수 있습니다. App Service는 자동 확장 기능과 고가용성을 제공합니다.
    
    ### **Azure App Service에 대해 알아야 할 사항**
    
    Azure App Service를 사용하면 모든 앱이 [일반적인 이점을](https://learn.microsoft.com/ko-kr/azure/app-service/overview) 공유합니다. 이러한 이점 덕분에 App Service는 호스트된 웹 애플리케이션이 새 워크로드를 지원하고 데이터를 마이그레이션하는 데 이상적인 컴퓨팅 솔루션이 됩니다.
    
    ![새 워크로드를 빌드하고 리프트 앤 시프트 마이그레이션을 지원하기 위해 Azure App Service를 선택하는 의사 결정 트리를 보여 주는 순서도입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/select-azure-app-service.png)
    
    - PaaS(Platform as a Service) 환경입니다. 웹 사이트 개발 및 API 논리에 집중하세요. Azure는 웹앱을 실행하고 크기를 조정하는 인프라를 처리합니다.
    - 여러 언어 및 프레임워크의 개발을 지원하고 보안 엔드포인트를 사용한 통합 배포 및 관리를 제공합니다.
    - 고가용성을 갖춘 글로벌 규모의 기본 제공 부하 분산 및 트래픽 관리를 제공.
    - [기본 제공 인증 및 권한 부여 기능](https://learn.microsoft.com/ko-kr/azure/app-service/overview-authentication-authorization) ( *쉬운 인증*이라고도 함)을 제공합니다. 최소한의 코드를 작성하거나 코드 작성 없이 사용자를 로그인하고 데이터에 액세스하도록 할 수 있습니다.
    
    ### **연속 배포**
    
    Azure App Service는 연속 배포를 활성화합니다. [Azure DevOps Services](https://learn.microsoft.com/ko-kr/azure/devops/user-guide/what-is-azure-devops) 는 지원 팀이 작업을 계획하고, 코드 개발에 공동 작업하고, 애플리케이션을 빌드 및 배포할 수 있는 개발자 서비스를 제공합니다. 코드를 지속적으로 배포할 때는 가능할 때마다 새 생산 빌드를 위한 [배포 슬롯](https://learn.microsoft.com/ko-kr/azure/app-service/deploy-staging-slots)을 사용하십시오.
    
    ![Azure App Service를 사용할 때 개발, 스테이징, 기본 및 프로덕션을 위한 컨테이너 슬롯을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/container-slots.png)
    
    표준 App Service 계획 계층 이상을 선택할 경우 스테이징 환경에 앱을 배포하고, 변경 내용의 유효성을 검사하고, 성능 테스트를 수행할 수 있습니다. 준비가 되면 스테이징 및 프로덕션 슬롯을 교환할 수 있습니다. 스왑 작업은 프로덕션 규모와 일치시키는 데 필요한 작업자 인스턴스를 트리거합니다.
    
    ### **Azure App Service 비용**
    
    앱에서 요청을 처리하는 동안 사용하는 Azure 컴퓨팅 리소스에 대한 비용을 지불합니다. 비용은 선택한 [Azure App Service 계획을](https://learn.microsoft.com/ko-kr/azure/app-service/overview-hosting-plans) 기반으로 합니다. App Service 요금제에 따라 호스트에 사용된 하드웨어의 양이 결정됩니다. 이 계획은 전용 하드웨어 또는 공유 하드웨어를 사용하는지 여부와 예약할 메모리 양을 지정합니다. 다양한 앱에 서로 다른 앱 서비스 계획을 사용할 수 있으며 언제든지 계획을 확장 및 축소할 수 있습니다.
    
    ### **Azure App Service를 사용할 때 고려해야 할 사항**
    
    Azure App Service를 사용하기 위한 몇 가지 시나리오를 살펴보겠습니다. 이러한 옵션을 검토할 때 Tailwind Traders 인프라에서 Azure App Service를 통합하는 방법을 생각해 보세요.
    
    - **웹앱을 고려합니다**. ASP.NET, ASP.NET Core, Java, Ruby, Node.js, PHP 또는 Python을 사용하여 App Service에서 웹앱을 생성합니다. Windows 또는 Linux를 호스트 운영 체제로 선택할 수 있습니다.
    - **API 앱을 고려합니다**. 선택한 언어 및 프레임워크를 사용하여 REST 기반 웹 API와 유사한 API 앱을 빌드합니다. Azure App Service는 전체 Swagger 지원과 함께 Azure Marketplace에서 API를 패키지 및 게시하는 기능을 제공합니다. 이 앱은 모든 HTTP 또는 HTTPS 클라이언트에서 사용할 수 있습니다.
    - **WebJobs를 고려합니다**. App Service [WebJobs](https://learn.microsoft.com/ko-kr/azure/app-service/webjobs-create) 기능을 사용하여 프로그램 또는 스크립트를 실행합니다. 프로그램 예제에는 Java, PHP, Python 또는 Node.js가 포함됩니다. 스크립트 예제에는 cmd, bat, PowerShell 또는 Bash가 포함됩니다. WebJobs는 예약되거나 트리거를 통해 실행됩니다. WebJobs는 종종 애플리케이션 로직의 일부로 백그라운드 작업을 실행하는 데 사용됩니다.
    - **모바일 앱을 고려합니다**. Azure App Service의 Mobile Apps 기능을 실행하여 iOS 및 Android 앱의 백 엔드를 빠르게 빌드할 수 있습니다. 모바일 앱의 경우 App Service는 네이티브 iOS/Android, Xamarin 및 React 네이티브 앱을 위한 SDK 지원을 제공합니다. Azure Portal에서 몇 단계만 거치면 다음을 수행할 수 있습니다.
        - 클라우드 기반 SQL 데이터베이스에 모바일 앱 데이터를 저장합니다.
        - MSA, Google, X 및 Facebook과 같은 일반적인 소셜 공급 기업에 대해 고객을 인증합니다.
        - 푸시 알림을 보냅니다.
        - C# 또는 Node.js에서 사용자 지정 백 엔드 논리를 실행합니다.
    - **지속적인 배포를 고려합니다**. 표준 App Service 계획 계층 이상을 선택하여 코드의 지속적인 배포를 사용합니다. 스테이징 슬롯에 앱을 배포하고 테스트 실행을 통해 앱의 유효성을 검사합니다. 앱을 릴리스할 준비가 되면 스테이징 및 프로덕션 슬롯을 교환합니다. 교환 작업을 수행하면 프로덕션 규모와 일치하도록 하는 데 필요한 작업자 인스턴스가 발생하므로 가동 중지 시간을 없앨 수 있습니다.
    - **인증 및 권한 부여를 고려합니다**. Azure App Service에서 기본 제공되는 인증 기능을 활용합니다. 웹앱 또는 API에서 기능을 사용하는 데는 언어, SDK, 보안 전문 지식 또는 코드가 필요하지 않습니다. Microsoft Entra ID, Facebook, Google, X 등 여러 로그인 공급자와 통합할 수 있습니다. Azure Functions는 App Service에서 사용 가능한 것과 동일한 기본 인증 기능을 제공합니다.
    - **비용을 절감하기 위해 여러 계획을 고려합니다**. 앱마다 다른 앱 서비스 계획을 구성합니다. 언제든 계획을 확장하거나 축소할 수 있습니다. 무료 App Service 요금제로 웹앱 테스트를 시작하고 비용을 전혀 지불하지 않을 수 있습니다. 사용자 지정 DNS 이름을 웹앱에 추가하려는 경우, 플랜을 공유 계층까지 스케일링하면 됩니다.
    
    **팁) [Azure App Service 구성](https://learn.microsoft.com/ko-kr/training/modules/configure-azure-app-services/)** 모듈을 사용하여 학습을 계속합니다.
    
- Azure Container Instances 솔루션 디자인
    
    가상 머신은 물리적 하드웨어에 필요한 투자 비용을 줄일 수 있는 좋은 방법입니다. 하지만 각 가상 머신은 여전히 단일 운영 체제로 제한됩니다. 단일 호스트 컴퓨터에서 애플리케이션의 여러 인스턴스를 실행하려는 경우에 컨테이너를 사용하는 것이 좋습니다.
    
    이 비디오에서는 가상 머신과 컨테이너 간의 차이점을 강조 표시합니다.
    
    ### **Azure Container Instances에 대해 알아야 할 사항**
    
    [Azure Container Instances](https://learn.microsoft.com/ko-kr/azure/container-instances/container-instances-overview) 는 Azure에서 컨테이너를 실행하는 빠르고 간단한 방법입니다. Azure Container Instances 사용 시나리오에는 간단한 애플리케이션, 태스크 자동화 및 빌드 작업이 포함됩니다.
    
    Azure Container Instances는 빠른 시작, 초당 청구, 영구 스토리지를 비롯한 많은 이점을 제공합니다. 이러한 이점은 Azure Container Instances에서 리프트 앤 시프트 패턴을 사용하여 새 워크로드를 지원하고 데이터를 마이그레이션하는 훌륭한 컴퓨팅 솔루션입니다.
    
    ![새 워크로드를 빌드하고 리프트 앤 시프트 마이그레이션을 지원하기 위해 Azure Container Instances를 선택하는 의사 결정 트리를 보여 주는 순서도입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/select-azure-container-instances.png)
    
    - 빠른 시작이 가능합니다. 몇 초 만에 컨테이너를 시작하여 애플리케이션에 즉시 액세스할 수 있습니다.
    - 초당 청구를 구현합니다. 컨테이너가 실행되는 동안에만 비용이 발생합니다.
    - 사용자 지정 컨테이너 크기를 지원합니다. CPU 코어 및 메모리에 대한 정확한 값을 지정하고 사용하지 않는 리소스에 대한 비용을 방지할 수 있습니다.
    - 영구 스토리지를 제공합니다. 컨테이너에 직접 Azure 파일 공유를 탑재하여 상태를 검색하고 유지할 수 있습니다.
    - Linux 및 Windows에서 사용할 수 있습니다. 동일한 API를 사용하여 Windows 및 Linux 컨테이너를 모두 예약합니다.
    
    ### **컨테이너 그룹**
    
    Azure Container Instances의 최상위 리소스는 *컨테이너 그룹*입니다. 컨테이너 그룹은 같은 호스트 컴퓨터에서 예약되어 있는 컨테이너 컬렉션입니다. 그룹의 컨테이너는 수명 주기, 리소스, 로컬 네트워크, 스토리지 볼륨 공유
    
    ![포트 80의 DNS 액세스 권한이 있는 컨테이너 그룹 및 포트 1433의 Azure 파일을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/container-groups.png)
    
    다중 컨테이너 그룹은 단일 기능 태스크를 여러 컨테이너 이미지로 분할하려는 경우에 유용합니다. 각 팀에서 이러한 이미지를 사용합니다. 다음은 예제 시나리오입니다.
    
    - 웹 애플리케이션을 처리하는 컨테이너와 원본 제어에서 최신 콘텐츠를 풀링하는 컨테이너
    - 애플리케이션 컨테이너 및 로깅 컨테이너. 로깅 컨테이너는 주 애플리케이션에서 출력한 로그 및 메트릭을 수집하여 장기 스토리지로 기록합니다.
    - 애플리케이션 컨테이너 및 모니터링 컨테이너. 모니터링 컨테이너는 애플리케이션이 올바르게 실행 중이고 응답하고 있는지 확인하기 위해 애플리케이션에 정기적으로 요청을 보내고, 필요한 경우 경고를 표시합니다.
    - 프런트 엔드 컨테이너 및 백 엔드 컨테이너. 프런트 엔드는 웹 애플리케이션에 서비스를 제공할 수 있고, 백 엔드는 서비스를 실행하여 데이터를 검색할 수 있습니다.
    
    ### **Azure Container Instances를 사용할 때 고려해야 할 사항**
    
    Azure Container Instances를 사용하는 경우 몇 가지 권장 보안 사례가 있습니다.
    
    - **프라이빗 레지스트리를 사용합니다**. 컨테이너는 하나 이상의 리포지토리에 저장된 이미지에서 작성됩니다. 이러한 리포지토리는 퍼블릭 레지스트리 또는 프라이빗 레지스트리에 속할 수 있습니다. 프라이빗 레지스트리의 예로 온-프레미스 또는 가상 프라이빗 클라우드에 설치할 수 있는 [Docker 신뢰할](https://docs.docker.com/datacenter/dtr/) 수 있는 레지스트리가 있습니다. 또 다른 예로 컨테이너 이미지 및 아티팩트 빌드, 저장 및 관리하는 데 사용할 수 있는 [Azure Container Registry](https://learn.microsoft.com/ko-kr/azure/container-registry/) 가 있습니다.
    - **수명 주기 내내 이미지 무결성을 보장합니다**. 컨테이너 수명 주기 전체에서 보안을 관리하는 과정에는 컨테이너 이미지의 무결성을 보장하는 것이 포함됩니다. 아무리 작더라도 취약성이 있는 이미지는 프로덕션 환경에서 실행할 수 없습니다. 효과적으로 관리할 수 있도록 프로덕션 이미지 수를 적게 유지합니다.
    - **컨테이너 리소스 활동을 모니터링**합니다. 컨테이너가 액세스하는 파일, 네트워크 및 기타 리소스와 같은 리소스 활동을 모니터링합니다. 리소스 작업 및 사용 모니터링은 성능 모니터링과 보안 조치 모두에 유용합니다.
    
    **팁)** 컨테이너 인스턴스 구성 모듈에서 [**컨테이너 인스턴스**](https://learn.microsoft.com/ko-kr/training/modules/configure-azure-container-instances/) 에 대해 자세히 알아봅니다.
    
- Azure Kubernetes Service 솔루션을 위한 디자인
    
    [Kubernetes](https://azure.microsoft.com/topic/what-is-kubernetes/) 는 컨테이너화된 워크로드의 배포, 크기 조정 및 관리를 자동화하기 위한 이식 가능한 확장 가능한 오픈 소스 플랫폼입니다. 이 오케스트레이션 플랫폼은 PaaS(Platform as a Service) 및 IaaS(Infrastructure as a Service) 제품을 사용하는 것과 동일한 사용 편의성과 유연성을 제공합니다. Kubernetes는 *컨테이너 관리* 및 *컨테이너 오케스트레이션을* 모두 제공합니다.
    
    ![컨테이너 오케스트레이션이 컨테이너 인스턴스를 동적으로 또는 자동으로 스케일링하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/container-scaling.png)
    
    컨테이너 관리는 많은 컨테이너를 구성, 추가, 제거 또는 업데이트하는 프로세스입니다. 이러한 태스크의 대부분은 수동으로 오류 발생 가능성이 높습니다. 컨테이너 오케스트레이션은 자동으로 컨테이너화된 애플리케이션을 배포하고 관리하는 시스템입니다. 오케스트레이터는 관리되는 애플리케이션의 배포된 인스턴스를 동적으로 늘리거나 줄일 수 있습니다. 또한 오케스트레이터는 최신 버전의 서비스가 릴리스되면 배포된 모든 컨테이너 인스턴스를 업데이트할 수 있습니다.
    
    [AKS(Azure Kubernetes Service)](https://learn.microsoft.com/ko-kr/azure/aks/intro-kubernetes) 는 호스트된 Kubernetes 환경을 관리하고 Azure에서 컨테이너화된 애플리케이션을 간단하게 배포하고 관리할 수 있도록 합니다.
    
    ### **Azure Kubernetes Service에 대해 알아야 할 사항**
    
    자동화된 업데이트, 자동 복구 및 간편한 크기 조정과 같은 다양한 기능을 통해 Azure Kubernetes Service 환경을 사용할 수 있습니다. AKS를 새 워크로드를 빌드하고 리프트 앤 시프트 마이그레이션을 지원하는 매력적인 컴퓨팅 옵션으로 만드는 다음 특성을 검토합니다.
    
    ![새 워크로드를 빌드하고 리프트 앤 시프트 마이그레이션을 지원하기 위해 Azure Kubernetes Service를 선택하는 의사 결정 트리를 보여 주는 순서도입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/select-azure-kubernetes-service.png)
    
    - **무료 클러스터 관리**: Azure가 Kubernetes 클러스터의 관리 노드를 무료로 제공하며, 사용자는 에이전트 노드(VM)에 대한 비용만 지불합니다.
    - **자동화**: ARM(Azure Resource Manager) 템플릿을 사용하여 클러스터 생성 및 고급 네트워킹, Microsoft Entra ID 통합 등을 자동화할 수 있습니다.
    - **오픈 소스 이점**: 복잡한 운영 오버헤드 없이 오픈 소스 Kubernetes의 모든 기능을 활용할 수 있습니다.
    
    ### **Azure Kubernetes Service를 사용할 때 고려해야 할 사항**
    
    Azure Kubernetes Service가 인프라에 적합한 컴퓨팅 솔루션인지 여부를 결정할 때 고려해야 할 몇 가지 요소가 있습니다. 좋은 방법은 두 가지 관점에서 전략을 계획하는 것입니다. *녹색 필드* 새 프로젝트의 접근 방식과 *리프트 앤 시프트* 마이그레이션의 관점에서도 기능을 고려합니다. 다음 기능은 새 클러스터를 만들 때 구성할 수 있고 배포 후에도 구성할 수 있습니다.
    
    | 특징 | 고려 사항 | 솔루션 |
    | --- | --- | --- |
    | **ID 및 보안 관리** | *기존 Azure 리소스를 이미 사용하고 있으며 Microsoft Entra ID를 사용하고 있나요?* | Microsoft Entra ID와 통합하고 기존 ID 및 그룹 멤버 자격을 다시 사용하도록 구성할 수 있습니다. |
    | **통합 로깅 및 모니터링** | *Azure Monitor를 사용하고 있나요?* | Azure Monitor는 클러스터의 성능 가시성을 제공합니다. |
    | **자동 클러스터 노드 및 Pod 크기 조정** | *대규모 컨테이너화 환경을 확장하거나 축소해야 합니까?* | AKS는 두 가지 자동 클러스터 크기 조정 옵션을 지원합니다. *수평 Pod 자동 크기 조정기*는 Pod의 리소스 수요를 감시하고 수요를 충족하기 위해 Pod의 수를 늘립니다. *클러스터 자동 스케일러* 구성 요소는 노드 제약 조건으로 인해 예약할 수 없는 Pod를 감시합니다. 예약된 Pod를 배포하기 위해 클러스터 노드를 자동으로 크기 조정합니다. |
    | **클러스터 노드 업그레이드** | *클러스터 관리 작업의 수를 줄이려고 합니까?* | AKS는 Kubernetes 소프트웨어 업그레이드와 노드를 차단 및 드레이닝하는 프로세스를 관리합니다. |
    | **스토리지 볼륨 지원** | *애플리케이션에 지속형 스토리지가 필요한가요?* | AKS는 정적 및 동적 스토리지 볼륨을 둘 다 지원합니다. Pod는 여러 노드에서 만들어지거나 다시 예약될 때 이 스토리지 볼륨에 연결되고 다시 연결될 수 있습니다. |
    | **가상 네트워크 지원** | *Pod 간 네트워크 통신이 필요하거나 AKS 클러스터에서 온-프레미스 네트워크에 액세스해야 하나요?* | AKS 클러스터는 기존 가상 네트워크로 쉽게 배포될 수 있습니다. |
    | **HTTP 애플리케이션 라우팅 지원이 포함된 인그레스** | *배포된 애플리케이션을 공개적으로 사용할 수 있도록 해야 합니까?* | HTTP 애플리케이션 라우팅 추가 기능을 사용하면 AKS 클러스터 배포된 애플리케이션에 쉽게 액세스할 수 있습니다. |
    | **Docker 이미지 지원** | *컨테이너에 Docker 이미지를 이미 사용하고 있나요?* | 기본적으로 AKS는 Docker 파일 이미지 형식을 지원합니다. |
    | **프라이빗 컨테이너 레지스트리** | *프라이빗 컨테이너 레지스트리가 필요한가요?* | AKS는 ACR(Azure Container Registry)과 통합됩니다. ACR로 제한되지 않지만, 다른 공용 또는 개인 컨테이너 리포지토리를 사용할 수 있습니다. |
    
    **팁)** Kubernetes 서비스 소개 모듈에서 [**Kubernetes**](https://learn.microsoft.com/ko-kr/training/modules/intro-to-azure-kubernetes-service/) 에 대해 자세히 알아봅니다.
    
- Azure Functions 솔루션 디자인
    
    [Azure Functions](https://learn.microsoft.com/ko-kr/azure/azure-functions/functions-overview) 서버리스 애플리케이션 플랫폼입니다. 함수(function)는 인프라에 대한 걱정 없이 클라우드에서 작은 코드를 실행하려는 경우에 사용됩니다.
    
    ### **Azure Functions에 대해 알아야 할 사항**
    
    새 워크로드를 빌드하기 위한 훌륭한 컴퓨팅 솔루션으로 만드는 Azure Functions의 몇 가지 이점과 시나리오를 검토해 보겠습니다.
    
    ![순서도입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/select-azure-functions.png)
    
    - 내장 확장성을 제공합니다. 사용하는 리소스에 대해서만 요금이 청구됩니다.
    - 원하는 언어로 함수 코드를 작성할 수 있습니다.
    - 주문형 컴퓨팅을 두 가지 중요한 방법으로 지원합니다:
        - 시스템의 논리를 쉽게 사용할 수 있는 코드 블록으로 구현할 수 있습니다. 이러한 코드 블록(함수)은 중요한 이벤트에 응답해야 할 때마다 실행할 수 있습니다.
        - 요청이 증가함에 따라 필요한 만큼의 리소스 및 함수 인스턴스로 수요를 충족합니다. 요청이 완료되면 추가 리소스 및 애플리케이션 인스턴스가 자동으로 중단됩니다.
    - 이벤트에 의해 트리거되는 특정 정의 가능한 작업을 처리하기에 이상적인 솔루션입니다. 함수는 API 호출을 처리하고 처리된 데이터를 Azure Cosmos DB에 저장할 수 있습니다. 데이터 전송이 수행되면 다른 함수가 알림을 트리거할 수 있습니다.
        
        Azure Functions가 API 호출에 응답하고 Azure Notification Hubs에 데이터를 출력하는 방법을 보여주는 이미지
        
        ![다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/azure-functions-events.png)
        
    
    ### **Azure Functions를 사용할 때 고려해야 할 사항**
    
    Azure Functions 사용에 대한 몇 가지 모범 사례를 살펴보겠습니다. 이러한 제안을 고려할 때 Tailwind Traders 인프라에서 Azure Functions를 사용하는 이점에 대해 생각해 보세요.
    
    - **장기 실행 함수를 고려합니다.** 예기치 않은 시간 초과 문제를 일으킬 수 있는 대규모 장기 실행 함수를 방지합니다. 가능하면 큰 함수를 함께 작동하고 응답을 더 빠르게 반환하는 더 작은 함수 집합으로 리팩터링합니다. 기본 제한 시간은 소비 계획 함수의 경우 300초, 다른 계획의 경우 30분입니다.
    - **지속성 함수를 고려합니다**. 지속성 함수 및 더 작은 함수 집합을 사용하여 구성의 시간 제한 문제를 해결합니다. [내구성 함수는](https://learn.microsoft.com/ko-kr/azure/azure-functions/durable/durable-functions-overview?tabs=csharp) 상태 저장 함수를 작성할 수 있게 합니다. 이 함수는 백그라운드에서 애플리케이션 상태, 검사점을 관리하고 다시 시작합니다. 지속성 함수에 대한 애플리케이션 패턴의 예는 함수 체인입니다. 함수 체인은 특정 순서로 함수 시퀀스를 실행합니다. 한 함수의 출력은 다른 함수의 입력에 적용됩니다.
    - **성능과 확장성을 고려하라**. 다양한 부하 프로필을 사용하여 함수를 그룹화하는 방법을 계획합니다. 두 개의 함수가 있는 시나리오를 고려합니다. 한 함수는 수천 개의 대기 메시지를 처리하고 메모리 요구 사항이 낮습니다. 다른 함수는 가끔 호출되지만 메모리 요구 사항이 높습니다. 이 시나리오에서는 각 함수에 고유한 리소스 집합이 있는 별도의 함수 애플리케이션을 배포할 수 있습니다. 별도의 리소스는 함수의 크기를 독립적으로 조정할 수 있습니다.
    - **방어 기능을 고려합니다.** 예외에 대한 함수를 디자인합니다. 다운스트림 서비스, 네트워크 중단 또는 메모리 제한으로 인해 함수가 실패할 수 있습니다. 오류가 발생하는 경우 계속할 수 있도록 함수를 작성합니다.
    - **스토리지 계정을 공유하지 않는 것이 좋습니다.** 각 함수 애플리케이션에 대해 별도의 스토리지 계정을 사용하여 성능을 최대화합니다. 함수 앱을 만들 때 고유한 스토리지 계정과 연결합니다. 함수가 대량의 스토리지 트랜잭션을 생성하는 경우 고유한 스토리지 계정을 사용하는 것이 중요합니다.
    
    ### **비즈니스 애플리케이션**
    
    다른 [Azure Functions 모범 사례에 대해 읽는 데 몇 분 정도 시간을 투자해 보세요](https://learn.microsoft.com/ko-kr/azure/azure-functions/functions-best-practices).
    
    **팁)** Azure Functions 탐색 모듈에서 [**Azure Functions**](https://learn.microsoft.com/ko-kr/training/modules/explore-azure-functions/) 에 대해 자세히 알아봅니다.
    
- Azure Logic Apps 솔루션 디자인
    
    [Azure Logic Apps](https://azure.microsoft.com/services/logic-apps) 는 자동화된 워크플로를 만들고 실행하기 위한 클라우드 기반 플랫폼을 제공하는 서버리스 컴퓨팅 솔루션의 또 다른 유형입니다. 워크플로는 애플리케이션, 데이터, 서비스 및 시스템을 통합하는 단계별 프로세스입니다. Azure Logic Apps를 사용하면 엔터프라이즈 및 B2B(기업 간) 시나리오를 위한 확장성이 뛰어난 통합 솔루션을 빠르게 개발할 수 있습니다.
    
    ### **Azure Logic Apps에 대해 알아야 할 사항**
    
    Azure Logic Apps의 몇 가지 특성과 컴퓨팅 솔루션을 사용하여 새 워크로드를 빌드하는 시나리오를 검토해 보겠습니다.
    
    ![새 워크로드를 빌드하기 위한 Azure Logic Apps 솔루션을 선택하는 순서도입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/select-azure-logic-apps.png)
    
    - [Azure Integration Services](https://azure.microsoft.com/product-categories/integration/)의 구성 요소입니다. Logic Apps는 클라우드, 온-프레미스 및 하이브리드 환경에서 레거시, 최신 및 최첨단 시스템을 연결하는 방법을 간소화합니다.
    - 새 파일 업로드와 같은 특정 이벤트가 발생할 때 Office 365를 사용하여 전자 메일 알림을 예약하고 보낼 수 있습니다.
    - 온-프레미스 시스템 및 클라우드 서비스에서 고객 주문을 라우팅하고 처리합니다.
    - 업로드된 파일을 SFTP 또는 FTP 서버에서 Azure Storage로 이동합니다.
    - 트윗을 모니터링하고 감정을 분석하고, 검토가 필요한 항목에 대한 경고 또는 작업을 만듭니다.
    
    ### **Azure Logic Apps와 Azure Functions 비교**
    
    Azure Logic Apps는 컴퓨팅 서비스로 Azure Functions와 유사하지만 기본적인 차이점이 있습니다. Azure Functions는 지속성 함수를 사용하는 **코드 우선** 기술입니다. Azure Logic Apps는 **디자인 우선** 기술입니다. 다음 순서도 및 표를 검토하여 두 솔루션을 비교합니다.
    
    ![Azure Functions 및 Azure Logic Apps를 사용하는 시기에 대한 의사 결정 트리를 보여 주는 순서도입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/select-logic-apps.png)
    
    | 비교 | Azure 기능 | Azure 논리 앱 |
    | --- | --- | --- |
    | **발달** | 코드 우선 | 디자인 우선 |
    | **메서드** | 코드 작성 및 지속성 함수 확장 사용 | GUI를 사용하거나 구성 파일을 편집하여 오케스트레이션 만들기 |
    | **인터넷** | - 기본 제공 바인딩 형식의 큰 선택
    - 사용자 지정 바인딩에 대한 코드 작성 | - 대용량 커넥터 컬렉션
    - B2B용 엔터프라이즈 통합 팩 시나리오
    - 사용자 지정 커넥터 빌드 |
    | **모니터링** | Azure Application Insights | Azure Portal, Azure Monitor 로그(Log Analytics) |
    
    ### **Azure Logic Apps를 사용할 때 고려해야 할 사항**
    
    Azure Logic Apps가 인프라에 이상적인 컴퓨팅 솔루션인지 여부를 결정할 때 고려해야 할 몇 가지 사항이 있습니다. 다음 고려 사항을 검토하고, Azure Logic Apps가 Tailwind Traders의 컴퓨팅 전략을 어떻게 향상시킬 수 있는지 생각해 보세요.
    
    - **통합을 고려합니다**. Logic Apps를 사용하여 서비스 통합의 중요 인프라 구성 요소를 제공합니다. Logic Apps는 여러 애플리케이션과 시스템이 함께 작동하도록 해야 할 때 좋은 옵션입니다. 외부 연결이 없는 앱을 빌드하는 경우 Logic Apps는 가장 좋은 옵션이 아닐 수 있습니다.
    - **성능을 고려합니다**. Logic Apps 실행 엔진으로 자동으로 앱을 스케일링합니다. Logic Apps는 높은 처리량을 달성할 수 있도록 큰 데이터 세트를 병렬로 처리할 수 있습니다. 하지만 빠른 활성화 시간이 항상 보장되지는 않으며, 실행 시간의 실시간 제약 조건 적용도 보장되지 않습니다.
    - **조건식을 고려합니다**. 매우 복잡하고 깊이 중첩된 조건을 Logic Apps에 빌드합니다. Logic Apps는 앱이 데이터를 기반으로 하는 의사 결정을 내릴 수 있도록 부울 식, switch 문, 루프 등과 같은 제어 구문을 제공합니다.
    - **커넥터를 고려합니다**. 사전에 빌드한 커넥터가 액세스해야 하는 모든 서비스에서 사용 가능한지 여부를 조사합니다. 사용자 지정 커넥터를 만들어야 할 수 있습니다. 서비스에 기존 REST 또는 SOAP API가 있으면 코드 작성 없이 몇 시간 안에 사용자 지정 커넥터를 만들 수 있습니다. 그렇지 않은 경우 커넥터를 만들기 전에 먼저 API를 만들어야 합니다.
    - **컴퓨팅 솔루션을 혼합하는 것이 좋습니다**. 오케스트레이션을 빌드할 때 서비스를 혼합하여 다양한 기능을 활용합니다. Logic Apps에서 함수를 호출하고 함수에서 논리 앱을 호출할 수 있습니다. 서비스의 기능 또는 개인 기본 설정에 따라 각 오케스트레이션을 빌드합니다.
    - **다른 옵션을 고려합니다**. Azure Logic Apps를 사용하지 *않는* 경우를 알 수 있습니다. Logic Apps가 최상의 옵션이 아닐 수 있는 경우가 있습니다. Logic Apps는 실시간 요구 사항, 복잡한 비즈니스 규칙 또는 비표준 서비스를 사용하는 경우에는 이상적인 솔루션이 아닙니다.
    
    ### **비즈니스 애플리케이션**
    
    [Azure Logic Apps](https://customers.microsoft.com/story/1567549472346870706-eon-esmartsystems-azure-en)가 전력선을 검사하는 드론에서 데이터를 배포하는 방법을 알아보려면 몇 분 정도 걸립니다.
    
    Azure Logic Apps를 사용할 계획이 있는 경우 다음 순서도를 사용하여 다른 질문을 던질 수 있습니다.
    
    ![Azure Logic Apps를 사용하는 경우에 대한 자세한 의사 결정 트리를 보여 주는 순서도입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-compute-solution/media/investigate-logic-apps-thumbnail.png)
    
    **팁**
    
    Azure Logic Apps 소개 모듈에서 [**Azure Logic Apps**](https://learn.microsoft.com/ko-kr/training/modules/intro-to-logic-apps/) 에 대해 계속 알아봅니다.
    

### 애플리케이션 아키텍처 설계

- 메시지와 이벤트 시나리오 설명
    
    AI 지원 애플리케이션 아키텍처 설계의 첫 번째 결정은 애플리케이션 구성 요소가 통신하는 방법을 계획하는 것
    
    Tailwind Traders의 주택 개선 비디오 공유 애플리케이션을 위한 아키텍처를 설계한다고 가정해 보겠습니다. 애플리케이션이 가급적 안정적이고 확장 가능했으면 합니다. Azure 기술을 사용하여 강력한 통신 인프라를 구축하기로 계획하고 있습니다. 적절한 Azure 서비스를 선택하려면 각 애플리케이션 구성 요소가 다른 구성 요소와 통신하는 방식을 설계해야 합니다. 통신 유형마다 서로 다른 Azure 기술을 선택할 수 있습니다.
    
    ### **메시지 및 이벤트에 대해 알아야 할 사항**
    
    대부분의 애플리케이션 구성 요소는 메시지 또는 이벤트를 전송하여 통신합니다. Azure는 서로 다른 통신 전략을 지원하는 다양한 서비스를 제공합니다.
    
    ### **메시지**
    
    [메시지](https://learn.microsoft.com/ko-kr/azure/event-grid/compare-messaging-services#message)의 특성을 살펴보겠습니다.
    
    - 한 구성 요소에서 생성되고 다른 구성 요소에서 사용하는 원시 데이터가 포함됩니다.
    - 단지 해당 데이터에 대한 참조가 아닌 데이터 자체가 포함됩니다.
    
    메시지 통신에서 전송 구성 요소는 대상이 특정 방식으로 데이터를 처리할 것으로 예상합니다. 전체 시스템의 무결성은 특정 작업을 수행하는 발신자와 수신자에 따라 달라질 수 있습니다.
    
    사용자가 여러분의 모바일 동영상 공유 앱을 사용하여 새 동영상을 업로드한다고 가정해 보겠습니다. 모바일 앱은 Azure에서 실행되는 웹 API로 해당 동영상을 보내야 합니다. 단순히 새 동영상이 있다는 경고가 아니라 동영상 파일 자체를 보내야 합니다. 모바일 앱은 웹 API가 데이터베이스에 새 동영상을 저장하고 다른 사용자에게 제공한다고 예상합니다.
    
    ### [**이벤트**](https://learn.microsoft.com/ko-kr/azure/service-bus-messaging/compare-messaging-services#event)
    
    메시지보다 간단하고 브로드캐스트 통신에 가장 자주 사용됩니다. 이벤트 기반 아키텍처는 이벤트 생산자, 이벤트 소비자(이벤트수신대기), 이벤트 채널(생산→소비 이벤트전송)로 구성됨
    
    ![생산자 및 구독자가 있는 이벤트의 다이어그램입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/event-pull.png)
    
    일반적으로 수신 구성 요소는 이벤트를 이용해 관심이 있는 통신을 결정하고 이벤트를 구독합니다. 매개자는 구독 프로세스를 관리합니다. Azure Event Grid나 Azure Event Hubs와 같은 서비스를 사용합니다. 게시자가 이벤트를 보내면 중개자는 해당 이벤트를 관심이 있는 모든 파트너에게 보냅니다. 이 패턴을 *게시-구독* 아키텍처라고 하며 가장 많이 사용하는 패턴입니다.
    
    이벤트에는 다음과 같은 특성이 있습니다.
    
    - 어떤 일이 발생했음을 알리는 간단한 알림입니다.
    - 여러 수신자에게 발신되거나 누구에게도 발신되지 않을 수 있습니다.
    - 이벤트 게시자에게는 수신 구성 요소의 작업에 대한 기대치가 없습니다.
    - 대부분 "팬 아웃"되거나 게시자별로 많은 구독자를 보유하고 있습니다.
    - 다른 이벤트와 관련이 없는 불연속 단위이지만 순서가 지정된 관련 계열의 일부일 수 있습니다.
    
    ### **메시지 또는 이벤트를 선택할 때 고려해야 할 사항**
    
    Tailwind Traders의 애플리케이션 아키텍처에 대한 메시지 또는 이벤트 통신을 선택하는 경우와 관련해 다음 시나리오를 검토합니다.
    
    - **메시지 및 이벤트를 고려합니다**. 애플리케이션에서 이벤트와 메시지를 모두 구현하는 것은 드문 일이 아닙니다. 앱은 일부 구성 요소 및 함수에 대한 이벤트와 다른 구성 요소에 대한 메시지를 사용할 수 있습니다. 앱의 각 구성 요소의 특정 요구 사항을 충족하도록 각 Azure 서비스를 선택합니다.
    - **보낸 사람의 기대치를 고려합니다**. 애플리케이션의 전송 구성 요소가 대상에서 특정 방식으로 구성 요소를 처리할 것으로 예상하는 경우 메시지를 구현하는 것이 좋습니다. 애플리케이션의 보낸 사람 구성 요소에 대상 구성 요소에 대한 요구 사항이 없는 경우 메시지 대신 이벤트를 구현할 수 있습니다.
    - **보장된 통신을 고려합니다**. 분산 애플리케이션을 빌드하고 모든 통신이 처리되도록 보장하려면 메시지를 사용하는 것이 좋습니다. 메시지 통신에서는 메시지 보낸 사람과 받는 사람 모두 작업을 완료할 것으로 예상합니다.
    - **임시 통신을 고려합니다**. 일시적이라는 것은 구독하는 수신기가 없으면 통신이 끊어진다는 것을 의미합니다. 애플리케이션에 구독자 또는 받는 사람의 작업이 필요하지 않은 경우 이벤트를 사용하는 것이 좋습니다.
    
- 메시지 솔루션 설계
    
    Azure에서는 두 가지 메시지 기반 솔루션인 Azure Queue Storage와 Azure Service Bus를 제공합니다. Queue Storage는 Azure Storage에 많은 수의 메시지를 저장합니다. Service Bus는 애플리케이션과 서비스를 분리하는 메시지 브로커입니다. 이러한 서비스의 다양한 기능을 검토하고 구현할 서비스를 선택하는 방법에 대해 생각해 보겠습니다.
    
    Tailwind Traders를 위해 여러분이 수행해야 할 디자인 작업 중 하나는 제품 데모 애플리케이션에 맞는 디자인을 권장하는 것입니다. 고객은 이 앱을 사용하여 주요 주택 개조 용품에 대한 최신 팁, 리뷰 및 지침을 얻습니다. 앱 디자인에 대한 다음 두 가지 요구 사항이 있습니다.
    
    - 모바일 앱에서 웹 API에 모든 콘텐츠 파일이 안정적으로 업로드되어야 합니다. 파일에는 텍스트, 이미지 및 동영상이 포함됩니다.
    - 고객이 새 제품 리뷰를 게시하거나 동영상이 추가되는 경우 등 새 파일에 대한 세부 정보를 앱에 직접 전달합니다.
    
    이러한 앱 요구 사항에 이상적인 솔루션은 메시지 기반 시스템입니다.
    
    ### **Azure Queue Storage에 대해 알아야 할 사항**
    
    [Azure Queue Storage](https://learn.microsoft.com/ko-kr/azure/storage/queues/storage-queues-introduction)는 Azure Storage를 사용하여 대량의 메시지를 저장하는 서비스입니다
    
    ![Azure Queue Storage에 두 개의 메시지 큐가 있는 스토리지 계정의 그림](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/queue-storage.png)
    
    특징:
    
    - Azure Queue Storage의 큐에는 수백만 개의 메시지가 포함될 수 있습니다.
    - 큐의 수와 크기는 Queue Storage를 소유하는 Azure 스토리지 계정의 용량으로만 제한됩니다.
    - Queue Storage의 메시지에는 간단한 REST 기반 인터페이스를 사용하여 전 세계 어디에서나 안전하게 액세스할 수 있습니다.
    - 대부분의 큐는 향상된 안정성, 메시지 전달 보장 및 트랜잭션 지원을 제공합니다.
    
    ### **Azure Service Bus에 대해 알아야 할 사항**
    
    [Azure Service Bus](https://learn.microsoft.com/ko-kr/azure/service-bus-messaging/service-bus-messaging-overview)는 완전 관리형 엔터프라이즈 통합 메시지 브로커입니다. Service Bus는 애플리케이션과 서비스를 서로 분리하는 데 사용됩니다. 서비스의 다음과 같은 이점 특성을 검토합니다.
    
    - 메시지 큐 및 게시-구독 토픽을 지원합니다.
    - 경쟁 작업자 간에 작업의 부하를 분산할 수 있습니다.
    - 안전하게 데이터를 라우팅 및 전송하고 서비스 및 애플리케이션 경계를 넘어 제어할 수 있습니다.
    - 높은 수준의 안정성이 필요한 트랜잭션 작업을 조정하는 데 도움이 됩니다.
    
    ### **메시지 큐**
    
    [Azure Service Bus 메시지 큐](https://learn.microsoft.com/ko-kr/azure/service-bus-messaging/service-bus-queues-topics-subscriptions#queues)는 전용 메시징 인프라를 기반으로 구축된 메시지 브로커 시스템입니다. Azure 큐처럼 Service Bus는 대상에서 메시지를 수신할 준비가 될 때까지 메시지를 저장합니다.
    
    ![메시지 큐를 통해 통신하는 발신자와 수신자를 보여 주는 그래픽](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/service-bus-queue.png)
    
    Azure Service Bus 메시지 큐는 통신 프로토콜 및 다른 데이터 계약을 사용하는 앱과 같은 엔터프라이즈 애플리케이션을 위해 개발되었습니다.
    
    ### **비즈니스 시나리오**
    
    고객이 앱에서 비디오를 시청하는 시나리오에 대해 생각해 보세요. 앱은 사용자 기록 및 팬 목록을 모두 지원합니다. 게시-구독 토픽 특성을 사용하여 두 작업을 모두 지원할 수 있습니다.
    
    - 모바일 앱에서 `Watched` 토픽에 메시지를 보냅니다.
    - 이 토픽에는 두 개의 구독이 있습니다. 첫 번째 구독은 `UpdateUserWatchHistory` 작업을 완료합니다. 두 번째 구독은 `UpdateProductFanList` 작업을 완료합니다.
    - `Watched` 토픽에 대한 각 구독은 메시지의 자체 복사본을 수신합니다.
    
    ### **메시징 서비스를 선택할 때 고려해야 할 사항**
    
    각 Azure 메시징 솔루션의 기능은 서로 약간씩 다릅니다. 디자인 요구 사항을 충족하기 위해 솔루션을 하나 선택하거나 둘 다 선택할 수 있습니다. 다음 시나리오를 검토하고 Tailwind Traders 애플리케이션 아키텍처에 도움이 될 수 있는 메시징 솔루션에 대해 생각해 보세요.
    
    | 메시징 솔루션 | 예제 시나리오 |
    | --- | --- |
    | **Azure Queue Storage** | 메시지를 구성하기 위한 간단한 큐가 필요합니다.
    큐를 통과하는 모든 메시지의 감사 추적이 필요합니다.
    큐 스토리지가 80GB를 초과합니다.
    큐 내부의 메시지 처리 진행률을 추적하려고 합니다. |
    | **Azure Service Bus***메시지 큐* | 최대 1회 전송 보장이 필요합니다.
    최소 1회 메시지 처리(PeekLock 수신 모드)가 필요합니다.
    최대 1회 메시지 처리(ReceiveAndDelete 수신 모드)가 필요합니다.
    메시지를 트랜잭션으로 그룹화하고 싶습니다.
    큐를 풀(pull)하지 않고 메시지를 수신하려고 합니다.
    64KB를 초과하는 메시지를 처리해야 합니다.
    큐 스토리지는 80GB를 초과하지 않습니다.
    일괄 처리 메시지를 게시하고 사용하기를 원할 것입니다. |
    | **Azure Service Bus**게시-구독 토픽 | 각 메시지를 처리하기 위해 여러 수신기가 필요합니다.
    단일 메시지에 대한 대상이 여러 개 있지만 큐와 비슷한 동작이 필요. |
    
    **팁**
    
    [**Azure 메시지 큐 검색**](https://learn.microsoft.com/ko-kr/training/modules/discover-azure-message-queue/) 모듈을 사용하여 학습을 계속합니다.
    
- Azure Event Hubs 메시지 솔루션 설계
    
    특정 애플리케이션은 대량의 출처에서 대량의 이벤트를 생성합니다. 이러한 애플리케이션 시나리오를 *빅 데이터*라고도 합니다. 빅 데이터에는 광범위한 인프라가 필요할 수 있습니다.
    
    Tailwind Traders 홈 보안 모니터링 애플리케이션의 아키텍처를 설계한다고 가정해 보겠습니다. 각 보안 시스템에는 12개 이상의 카메라 센서가 있습니다. 집이 안전한지 확인하기 위해 센서와 카메라를 테스트 하네스에 연결하고 진행합니다. 또한 캐시된 비디오 카메라 영상 데이터는 보안 시스템이 데이터 센터 모니터링 본사에 연결되면 스트리밍됩니다.
    
    이 아키텍처의 경우 *이벤트 허브*를 사용하는 메시징 솔루션을 선택할 수 있습니다. 이벤트 허브는 초당 수백만 개의 이벤트를 수신하고 처리할 수 있습니다. 이벤트 허브로 전송된 데이터를 실시간으로 변환하고 이후 분석을 위해 저장할 수 있습니다. 개발자 과정의 이 주문형 비디오는 Event Hubs에 대한 멋진 개요를 제공합니다.
    
    ### **Azure Event Hubs에 대해 알아야 할 사항**
    
    [Azure Event Hubs](https://learn.microsoft.com/ko-kr/azure/event-hubs/event-hubs-about)는 완전 관리형 빅 데이터 스트리밍 플랫폼이자 이벤트 수집 서비스입니다. 서비스의 특징을 검토해 보겠습니다.
    
    - Azure Event Hubs는 동일한 스트림에서의 실시간 데이터 수집 및 마이크로 서비스 일괄 처리를 지원합니다.
    - 다양한 언어로 이벤트를 보내고 받을 수 있습니다. Apache Storm을 사용하여 Azure Event Hubs에서 메시지를 받을 수도 있습니다.
    - Azure Event Hubs가 받은 이벤트는 데이터 스트림의 끝에 추가됩니다.
        - 데이터 스트림은 이벤트가 수신된 시간에 따라 이벤트를 정렬합니다.
        - 소비자는 시간 오프셋을 사용하여 데이터 스트림을 따라 검색할 수 있습니다.
    - Event Hubs는 Azure Service Bus 큐와 같은 다른 메시징 서비스와 차별화되는 *끌어오기* 모델을 구현합니다.
        - Event Hubs는 각 메시지를 캐시에 유지하고 읽을 수 있도록 합니다.
        - 다른 소비자에게 전달되는 메시지는 그대로 유지됩니다.
    - Event Hubs에는 예상대로 처리되지 않는 메시지를 처리하는 기본 제공 메커니즘이 없습니다.
    - Azure Event Hubs는 [구매한 처리량(처리) 단위](https://azure.microsoft.com/pricing/details/event-hubs/) 수에 따라 크기가 조정됩니다. 성능 기능은 기본, 표준 또는 프리미엄과 같이 가격 책정 계층마다 다릅니다.
    
    ### **비즈니스 시나리오**
    
    Azure Event Hubs 및 기타 Azure 서비스가 홈 보안 모니터링 애플리케이션의 아키텍처에 어떻게 기여할 수 있는지 살펴보겠습니다.
    
    ![Azure Event Hubs 및 기타 Azure 서비스가 데이터 스트리밍 애플리케이션의 아키텍처에 기여하는 방법을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/event-hubs-integration.png)
    
    - Azure Event Hubs는 카메라 및 센서 테스트 장비에서 스트리밍 비디오 카메라 영상 데이터를 캡처합니다.
    - Azure Blob Storage는 비디오 및 센서 테스트 데이터를 저장합니다.
    - Azure Stream Analytics는 비디오 및 센서 테스트 데이터의 패턴을 식별합니다.
    - Power BI는 테스트 데이터 패턴을 기반으로 경고를 모니터링하고 보안을 개선하기 위한 결정을 내립니다.
    
    ### **Azure Event Hubs를 사용할 때 고려해야 할 사항**
    
    Azure Event Hubs를 메시징 솔루션에 포함시키는 방법을 계획할 때는 다음 사항을 고려하세요.
    
    - **일반적인 구현을 고려합니다**. 애플리케이션 시나리오가 이벤트 허브 메시징에 적합한지 여부를 식별합니다. Azure Event Hubs가 훌륭한 메시징 솔루션인 몇 가지 일반적인 시나리오가 있습니다. Event Hubs는 라이브 대시보드에 적합하며, 클릭스트림과 같은 분석 파이프라인을 지원하고, 사기 또는 이상값 작업과 같은 변칙을 감지하는 데 적합합니다. 또한 이벤트 허브는 실시간 분석 및 보관 데이터를 사용하여 트랜잭션을 처리하기에도 좋은 솔루션입니다.
    - **언어 및 프레임워크 통합을 고려합니다**. Azure Event Hubs는 다양한 언어로 이벤트를 보내고 받는 것을 지원합니다. 강력한 언어 및 프레임워크 지원을 통해 Event Hubs를 다른 Azure 및 비 Azure 서비스와 쉽게 통합할 수 있습니다.
    - **가격 책정 계층 및 처리량 단위를 고려합니다**. 애플리케이션에 필요한 기능을 제공하는 가격 책정 계층을 선택합니다. 필요한 처리량 또는 처리 단위를 구매하여 Azure Event Hubs 구현의 크기를 조정하는 방법을 제어합니다. 처리량 1단위는 다음과 같습니다.
        - **수신**: 초당 최대 1MB 또는 초당 1,000개의 이벤트(둘 중 먼저 수신되는 쪽).
        - **송신**: 초당 최대 2MB 또는 초당 4,096개 이벤트
    - **모델 끌어오기 이점을 고려합니다**. Event Hubs에서 구현된 모델 끌어오기가 애플리케이션 통신에 어떻게 도움이 되는지 조사합니다. Event Hubs는 메시지를 캐시에 유지하고 읽을 수 있도록 합니다. 메시지를 읽어도 삭제되지 않습니다. 메시지는 다른 소비자가 읽을 수 있도록 유지됩니다.
    - **메시지 오류를 고려합니다**. Azure Event Hubs는 예상대로 처리되지 않는 메시지를 처리하지 않습니다. 데이터 형식으로 인해 메시지 소비자에게 오작동이 발생한다고 가정합니다. Event Hubs는 이 문제를 검색하지 않습니다. 메시지는 `time-to-live` 설정이 만료될 때까지 남아 있습니다.
    - **데이터 스트림 액세스를 고려합니다**. Event Hubs는 수신된 이벤트를 데이터 스트림의 끝에 추가하며, 이벤트는 수신된 시간에 따라 정렬됩니다. 이벤트 소비자는 시간 오프셋을 사용하여 데이터 스트림을 따라 검색할 수 있습니다.
    
    **팁**
    
    [**Azure Event Hubs 탐색**](https://learn.microsoft.com/ko-kr/training/modules/azure-event-hubs/) 모듈을 사용하여 자세히 알아봅니다.
    
- 이벤트 기반 솔루션 설계
    
    이벤트 기반 아키텍처를 사용하면 기존 코드를 수정하지 않고도 핵심 애플리케이션에 연결할 수 있습니다. 이벤트가 발생하면 특정 코드로 대응하여 이벤트에 응답할 수 있습니다. 이벤트 기반 애플리케이션에서는 *전송 후 망각* 원칙이 적용됩니다. 이벤트는 (다른 서비스, 이벤트 허브, 스트림 또는 메시지 브로커일 수 있는) 다음 시스템으로 전달됩니다.
    
    Tailwind Traders 제품 데모 애플리케이션의 디자인을 다시 고려하고 Azure에서 실행되는 Web API를 사용하는 방법을 살펴보겠습니다. 새 제품 리뷰 또는 데모 비디오가 업로드되면 제품에 관심이 있는 전 세계 사용자 디바이스의 모든 모바일 앱에 알려야 합니다. Azure Event Grid는 이 요구 사항에 이상적인 솔루션입니다.
    
    - 리뷰 또는 비디오의 게시자는 영향을 받는 제품에 관심 있는 구독자에 대해 알 필요가 없습니다.
    - 여러 구독자를 가질 수 있는 일대다 관계를 가져야 합니다. 구독자는 영향을 받는 제품에 관심이 있는지 여부를 선택적으로 결정할 수 있습니다.
    
    ### **Azure Event Grid에 대해 알아야 할 사항**
    
    [Azure Event Grid](https://learn.microsoft.com/ko-kr/azure/event-grid/overview)는 [Azure Service Fabric](https://learn.microsoft.com/ko-kr/azure/service-fabric/service-fabric-overview)에서 실행되는 완전히 관리되는 이벤트 라우팅 서비스입니다. Event Grid는 Azure에서 이벤트 기반의 서버리스 애플리케이션을 쉽게 빌드하기 위해 존재합니다.
    
    서비스의 다음 특성을 검토합니다.
    
    - Azure Event Grid는 모든 이벤트를 집계하고 모든 원본에서 어떤 대상으로든 라우팅을 제공합니다.
    - Event Grid는 Azure Blob Storage 계정과 같은 원본에서 이벤트를 배포합니다.
    - 이벤트는 Azure 함수 및 웹후크와 같은 처리기에 배포됩니다.
    - 이 서비스는 다양한 원본의 이벤트 라우팅과 전송을 관리합니다. 관리는 폴링의 필요성을 제거하여 비용과 대기 시간을 최소화하는 데 도움이 됩니다.
    
    ### **Azure Event Grid의 작동 방식**
    
    다음 그림은 Azure Event Grid가 여러 이벤트 원본에서 여러 이벤트 처리기까지, 이벤트 프로세스를 관리하는 방법을 보여줍니다.
    
    ![Azure Event Grid가 여러 이벤트 원본에서 여러 이벤트 처리기까지, 이벤트 프로세스를 관리하는 방법을 보여주는 그림.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/event-grid.png)
    
    - Azure Blob Storage 같은 이벤트 원본은 하나 이상의 토픽으로 이벤트에 태그를 지정하고 이벤트를 Azure Event Grid로 보냅니다.
    - Azure Functions 같은 이벤트 처리기는 관심 있는 토픽을 구독합니다.
    - Event Grid는 토픽 태그를 검사하여 어떤 이벤트를 어떤 처리기로 보낼지 결정합니다.
    - Event Grid는 관련 이벤트를 구독자에게 전달합니다.
    - Event Grid는 이벤트가 발생하면 반응합니다. 그러나 변경된 실제 개체(텍스트 파일, 비디오, 오디오 등)는 이벤트 데이터의 일부가 아닙니다. 대신 Event Grid는 URL 또는 식별자를 전달하여 변경된 개체를 참조합니다.
    
    ### **Azure Event Grid를 사용할 때 고려해야 할 사항**
    
    Azure Event Grid는 이벤트 기반 애플리케이션 아키텍처에 이상적인 솔루션일 수 있습니다. 다음 고려 사항을 검토하면서 Event Grid가 Tailwind Traders 애플리케이션 아키텍처에 어떤 도움이 될 수 있는지 생각해보세요.
    
    - **여러 서비스를 고려합니다**. 하나 이상의 Azure 서비스를 선택하여 디자인 요구 사항을 충족합니다.
        
        
        | Azure 서비스 | 목적 | 메시지 또는 이벤트 | 사용 시나리오 |
        | --- | --- | --- | --- |
        | **Azure Event Grid** | 사후 프로그래밍 | 이벤트 배포(불연속) | *상태 변경에 대응* |
        | **Azure Event Hubs** | 빅 데이터 파이프라인 | 이벤트 스트리밍(시리즈) | *원격 분석 및 분산 데이터 스트리밍 수행* |
        | **Azure Service Bus** | 높은 가치의 엔터프라이즈 메시지 | 메시지 | *주문 처리 및 금융 거래 이행* |
    - **서비스에 고유한 역할을 고려합니다**. Azure 서비스를 동시에 사용하여 고유한 역할을 이행하는 방법을 조사합니다. 전자 상거래 사이트는 Azure Service Bus를 사용하여 주문을 처리하고, Azure Event Hubs를 사용하여 사이트 원격 분석을 캡처하고, Azure Event Grid를 사용하여 배송 중인 항목과 같은 이벤트에 응답할 수 있습니다.
    - **서비스 연결을 고려합니다**. 여러 Azure 서비스를 함께 연결하여 이벤트 및 데이터 파이프라인 스트림을 형성합니다. 이 시나리오에서 Azure Event Grid는 다른 서비스의 이벤트에 응답합니다. 다음 그림은 여러 Azure 서비스를 이벤트 및 데이터 파이프라인으로 연결하여 데이터를 스트리밍하는 방법을 보여줍니다.
        
        ![Azure Event Hubs, Event Grid 및 Functions가 함께 연결되어 이벤트에 응답하고 데이터를 스트리밍하는 방법을 보여주는 그림.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/services-integration.png)
        
    
    **팁**
    
    [**Azure Event Grid 탐색**](https://learn.microsoft.com/ko-kr/training/modules/azure-event-grid/) 모듈을 검토하는 것이 좋습니다.
    
- 캐싱 솔루션 설계
    
    *캐싱*은 시스템의 성능 및 스케일링 수준을 개선하는 데 목표를 두는 일반적인 기술입니다. 캐싱은 자주 액세스하는 데이터를 애플리케이션에서 가까이에 있는 고속 스토리지에 임시로 저장합니다. 이 고속 데이터 스토리지가 원래 데이터 저장소보다 애플리케이션에 가까이 위치하는 경우 캐싱은 데이터를 보다 신속하게 제공하여 클라이언트 애플리케이션에 대한 응답 시간을 대폭 향상할 수 있습니다.
    
    캐싱은 클라이언트 인스턴스가 동일한 데이터를 반복해서 읽을 때, 특히 다음 사항이 원래 데이터 저장소에 적용되는 경우에 가장 효과적입니다.
    
    - 원래 데이터 저장소가 상대적으로 정적으로 유지됩니다.
    - 높은 수준의 경합이 발생하기 쉽습니다.
    - 원래 데이터 저장소가 멀리 떨어져 있으며 네트워크 대기 시간으로 인해 저장소에 대한 액세스가 느려질 수 있습니다.
    
    Tailwind Traders가 소매 웹 사이트에 대한 고객 트래픽을 늘리기 위해 제품 데모 애플리케이션에 새로운 기능을 추가한다고 가정해 보겠습니다. 이벤트 기능이 모바일 앱 상단에 배너를 추가하여 특별 혜택 및 제한된 제품 할인을 알립니다. 새로운 혜택이 정시에 게시되고 각 제품의 남아 있는 재고는 모든 주문이 처리된 후 업데이트됩니다. 새 혜택이 적용되는 첫 번째 고객은 할인을 두 배로 받습니다. 고객들에게는 모바일 앱에서 혜택 및 제품 재고에 대한 업데이트를 자주 확인할 동기가 부여됩니다. 이 새로운 기능을 구현하려면 메모리 내 빠른 읽기 및 쓰기를 지원할 수 있는 캐싱 솔루션을 설계해야 합니다.
    
    ### **Azure Cache for Redis에 대해 알아야 할 사항**
    
    [Azure Cache for Redis](https://learn.microsoft.com/ko-kr/azure/azure-cache-for-redis/cache-overview)에서는 Redis 소프트웨어를 기반으로 하는 메모리 내 데이터 저장소를 제공합니다. Redis는 백 엔드 데이터 저장소에서 많이 사용하는 애플리케이션의 성능과 스케일링 수준을 개선합니다. 자주 액세스하는 데이터를 빠르게 쓰고 읽을 수 있는 서버 메모리에 보관하여 대량의 애플리케이션 요청을 처리할 수 있습니다. Redis는 최신 애플리케이션에 매우 짧은 대기 시간 및 높은 처리량의 데이터 스토리지 솔루션을 제공합니다.
    
    서비스의 특성을 검토해 보겠습니다.
    
    - Azure Cache for Redis는 개발자에게 두 가지 구현 옵션을 제공합니다.
        - Redis 오픈 소스(OSS Redis)
        - Redis Labs(Redis Enterprise)에서 관리형 서비스로서 제공하는 상용 제품입니다.
    - Azure Cache for Redis에서는 안전한 전용 Redis 서버 인스턴스와 완전한 Redis API 호환성을 제공합니다.
    - Azure Cache for Redis를 분산 데이터 또는 콘텐츠 캐시, 세션 저장소 또는 메시지 브로커로 사용할 수 있습니다.
    - 독립 실행형으로, 또는 다른 Azure 데이터베이스 서비스(예: Azure SQL 또는 Azure Cosmos DB)와 함께 사용하여 Azure Cache for Redis를 배포합니다.
    
    ### **Azure Cache for Redis 작동 방식**
    
    Azure Cache for Redis는 Azure에 호스트되며 Azure 내부 또는 외부의 모든 애플리케이션에서 사용할 수 있습니다. 다음 그림에 나온 것처럼 Azure Cache for Redis는 Azure SQL Database, Azure Cosmos DB 및 Azure Database for MySQL을 포함한 여러 데이터베이스 솔루션과 상호 작용하는 앱의 성능을 향상시키는 데 도움이 될 수 있습니다.
    
    ![Azure Cache for Redis의 일반적인 사용 사례를 보여 주는 일러스트레이션](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/azure-cache-for-redis.png)
    
    ### **Azure Cache for Redis를 사용할 때 고려해야 할 사항**
    
    Azure Cache for Redis는 일반적인 애플리케이션 아키텍처 패턴을 지원하여 애플리케이션 성능을 향상시킵니다. 다음 패턴을 검토할 때 Tailwind Traders 애플리케이션 아키텍처에 표시될 수 있는 패턴을 고려합니다. Azure Cache for Redis가 패턴 요구 사항을 제공할 수 있는 방법을 생각해 보세요.
    
    | 패턴 | 시나리오 | 솔루션 |
    | --- | --- | --- |
    | **데이터 캐시** | *데이터베이스는 보통 너무 커서 캐시로 직접 로드할 수 없습니다*. | *캐시 배제* 패턴을 사용하여 필요할 때만 캐시에 데이터를 로드하는 것이 일반적입니다. 시스템에서 데이터를 변경하는 경우 시스템은 바로 그때 다른 클라이언트로 배포되는 캐시를 업데이트할 수도 있습니다. 또한 시스템에서 데이터에 대한 만료 날짜를 설정하거나 제거 정책을 사용하여 데이터 업데이트를 캐시로 트리거할 수 있습니다. |
    | **콘텐츠 캐시** | *헤더, 바닥글, 배너와 같은 정적 콘텐츠를 사용하는 템플릿에서 많은 웹 페이지가 생성됩니다. 이러한 정적 항목은 자주 변경되지 않습니다.*. | 메모리 내 캐시를 사용하면 백 엔드 데이터 저장소와 비교할 때 정적 콘텐츠에 빠르게 액세스할 수 있습니다. 이 패턴은 처리 시간 및 서버 부하를 줄여 웹 서버 응답성을 높일 수 있습니다. 콘텐츠 캐시를 통해 로드를 처리하는 데 필요한 서버 수를 줄일 수 있습니다. Azure Cache for Redis는 ASP.NET을 사용하여 이 패턴을 지원할 수 있도록 *Redis 출력 캐시 공급자*를 제공합니다. |
    | **세션 저장소** | *세션 저장소는 일반적으로 웹 애플리케이션에서 사용자 쿠키와 연결할 수 있는 쇼핑 카트 및 다른 사용자의 기록 데이터와 함께 사용됩니다. 쿠키에 너무 많이 저장하면 쿠키 크기가 증가하고 모든 요청에서 전달 및 유효성 검사가 수행되므로 성능이 저하될 수 있습니다.*. | 일반적인 해결책은 쿠키를 키로 사용하여 데이터베이스에 데이터를 쿼리하는 것입니다. Azure Cache for Redis 같은 메모리 내 캐시를 사용하여 정보를 사용자에게 연결하는 방법이 전체 관계형 데이터베이스와 상호작용하는 방법보다 더 빠릅니다. |
    | **작업 및 메시지 큐** | *일부 애플리케이션 작업을 완료하는 데 상당한 시간이 걸리기 때문에 관련 없는 다른 작업이나 메시지가 시작되지 않을 수 있습니다*. | 애플리케이션은 요청과 연결된 작업을 실행하는 데 시간이 걸릴 때 종종 작업을 추가합니다. 오래 실행되는 작업은 종종 다른 서버에 의해 순서대로 처리되도록 큐에 대기됩니다. 이러한 작업 지연 메서드를 *작업 큐*라고 합니다. Azure Cache for Redis는 애플리케이션에서 이 패턴을 사용하도록 설정하는 분산 큐를 제공합니다. |
    | **분산 트랜잭션** | *애플리케이션에는 단일 원자성 작업으로 실행하기 위해 백 엔드 데이터 저장소에 대한 일련의 명령이 필요할 수 있습니다. 모든 명령은 성공하거나 모두 초기 상태로 롤백되어야 합니다.*. | Azure Cache for Redis는 명령의 일괄 처리 실행을 단일 트랜잭션으로 지원합니다. |
- API 통합 설계
    
    API 게시는 시장 점유율을 높이고, 수익을 창출하고, 혁신을 촉진하는 좋은 방법입니다. 그러나 API를 하나라도 유지 관리하려면 사용자 온보딩, 수정 버전 관리와 보안 구현과 같은 중요한 문제를 해결해야 합니다.
    
    개발자에게는 수많은 API 및 관리 지원과 관련된 복잡성을 줄이는 방법이 필요합니다. 모든 API의 *출입문* 역할을 할 수 있는 API Management 기술이 필요합니다. 보안을 구현하고, 수정 버전을 관리하고, 분석을 수행하는 도구가 필요합니다.
    
    Tailwind Traders에서 프리미어 구독자가 프로모션 제품에 대한 배송, 제품 조립 및 직접 지원을 요청하는 새로운 서비스를 시작했다고 가정해 보겠습니다. 이 서비스는 모바일 앱 및 온라인 소매 웹 사이트에서 사용할 수 있습니다. 고객은 프로모션 중인 제품 목록을 탐색하고 주문합니다. Tailwind Traders는 제품을 배송 및 조립하도록 계약된 전문가와 연결하고, 고객에게 지침을 제공합니다.
    
    새 서비스의 기반은 게시된 다수의 API 컬렉션이며, 그 중 일부는 다음 엔터티에서 사용됩니다.
    
    - Tailwind Traders 모바일 앱 및 온라인 웹 사이트
    - 배송 차량의 IoT 디바이스
    - 공급업체 제품 전문가
    - Tailwind Traders 사내 개발 팀
    - Tailwind Traders 직원(예: 비즈니스 분석가)
    
    게시된 각 API는 각기 다른 서버에 상주합니다. 각 API에는 사용자를 온보딩하는 고유한 프로세스가 있고, 보안, 수정 버전, 분석 등에 대한 자체 정책이 있습니다. 이러한 복잡성을 줄이는 데 도움이 되는 Azure 솔루션을 찾고 있습니다.
    
    ### **Azure API Management 대해 알아야 할 사항**
    
    [Azure API Management](https://learn.microsoft.com/ko-kr/azure/api-management/api-management-key-concepts)는 모든 API를 게시, 보호, 유지 관리 및 분석할 수 있는 클라우드 서비스 플랫폼입니다. 다음 다이어그램에서는 Azure API Management가 조직의 API에 대한 출입문 역할을 하고 API가 배포된 서버로 라우팅하는 방법을 보여줍니다.
    
    ![Azure API Management가 조직 API의 출입문 역할을 하는 방법을 보여주는 일러스트레이션.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/api-management.png)
    
    **중요**
    
    Azure API Management는 실제 API를 호스팅하지 않습니다. API는 원래 배포된 위치에 남아 있습니다.
    
    Azure API Management는 API에 대한 출입문 역할을 합니다. Azure API Management는 이 방식을 이용해 **API를 분리**합니다. 배포된 백엔드 API를 그대로 유지하면서 Azure에서 API 정책 및 기타 관리 옵션을 설정할 수 있습니다.
    
    ### **Azure API Management를 사용할 때 고려해야 할 사항**
    
    Azure API Management가 조직의 API 인벤토리를 관리하고 게시하는 데 적합한 선택인지 여부를 확인하기 위해 고려해야 할 세 가지 필수 기준은 API 수, API 변경률 및 API 관리 부하입니다. 자주 수정하고 상당한 관리 오버헤드가 필요한 API가 많이 배포된 경우 Azure API Management는 강력한 솔루션입니다. 하지만 소규모, 정적 또는 간단한 API 배포를 포함하는 시나리오에서는 Azure API Management가 올바른 선택이 아닐 수 있습니다.
    
    다음 기준을 검토하고 Tailwind Traders 애플리케이션을 지원하는 데 필요한 API 및 API 관리에 대해 생각해 보세요.
    
    - **API의 수 고려**. 관리해야 하는 API 수를 파악합니다. 배포한 API가 많을수록 배포 표준화 및 API 제어의 중앙 집중화 필요성이 높습니다.
    - **API 변경률 고려**. 조직에서 API 수정 및 버전을 구현하려는 비율을 확인합니다. API 수정 버전을 만들고 새 API 버전을 게시하는 속도가 빠를수록 강력하고 유연한 버전 관리 제어 시스템에 대한 필요성이 커집니다.
    - **API 관리 부하 고려**. API에 적용해야 하는 정책 오버헤드를 정의합니다. 정책에는 사용 할당량, 호출 속도 제한, 요청 변환 및 요청 유효성 검사가 포함됩니다. API에 필요한 구성 및 옵션이 많을수록 표준화되고 중앙 집중식 정책 구현의 필요성이 높아집니다.
    - **서로 다른 API의 표준화 고려**. API 관리 솔루션을 사용하여 API 사양을 표준화하고, 문서를 작성하고, 사용 편의성을 위해 일관된 기본 URL을 만듭니다. Azure API Management에서는 여러 API에서 일관된 분석을 제공하고 모든 API에서의 규정 준수를 보장합니다.
    - **중앙 집중식 API 관리 고려**. 여러 API를 Azure API Management의 단일 관리 창구로 편입하고 모든 API 작업을 중앙 집중화합니다. API Management 서비스가 없으면 각 API는 관리, 배포 및 개발자 액세스 측면에서 독립적입니다. 중앙 집중식 모델을 이용하면 중복된 노력을 줄이고 효율성이 개선할 수 있습니다.
    - **향상된 API 보안 고려**. Azure API Management는 API 보안을 염두에 두고 설계되었습니다. 서비스를 사용하여 권한 및 액세스를 관리하고, 악의적인 사용으로부터 API를 보호합니다. Azure API Management는 모든 회사 및 정부 관련 규정 준수를 달성하는 데 도움이 됩니다.
    
    **팁**
    
    [**API Management 탐색**](https://learn.microsoft.com/ko-kr/training/modules/explore-api-management/) 모듈에는 더 많은 것을 배울 수 있습니다.
    
- 자동 앱 배포 솔루션 설계
    
    클라우드로 전환하면서 많은 팀이 민첩한 개발 방법을 채택합니다. 이러한 팀은 솔루션을 클라우드에 빠르고 반복적으로 배포해야 합니다. 팀은 인프라가 안정적인 상태임을 보장해야 합니다. 애플리케이션 코드는 통합 프로세스를 통해 관리해야 합니다.
    
    Tailwind Traders를 위한 설계에서 이러한 문제를 해결하기 위해 [인프라를 코드로](https://learn.microsoft.com/ko-kr/devops/deliver/what-is-infrastructure-as-code) 사용하여 배포를 자동화하는 방법을 조사하고 있습니다. 애플리케이션의 배포 및 자동화를 위한 두 가지 Azure 솔루션인 Azure Resource Manager 템플릿 및 Azure Automation을 살펴보겠습니다.
    
    ### **Azure Resource Manager 템플릿에 대해 알아야 할 사항**
    
    [ARM(Azure Resource Manager) 템플릿은](https://learn.microsoft.com/ko-kr/azure/azure-resource-manager/templates/overview) 배포에 대한 인프라 및 구성을 정의하는 파일입니다. ARM 템플릿을 작성할 때 리소스 프로비전에 대한 선언적 접근 방식을 취합니다. ARM 템플릿은 배포의 각 리소스를 설명하지만 리소스 배포 방법을 설명하지는 않습니다.
    
    리소스 프로비저닝에 ARM 템플릿을 사용하면 다양한 이점을 누릴 수 있습니다. 이점을 검토할 때 Tailwind Traders 아키텍처 솔루션에서 ARM 템플릿을 사용하는 방법을 생각해 보세요.
    
    - ARM 템플릿은 *idempotent*이므로 동일한 템플릿을 반복적으로 배포하고 동일한 결과를 얻을 수 있습니다.
    - Azure Resource Manager에 ARM 템플릿 배포가 제출될 때 ARM 템플릿의 리소스가 병렬로 배포됩니다. 이 오케스트레이션 기능 프로세스를 통해 배포를 더 빠르게 완료할 수 있습니다.
    - PowerShell 및 Azure CLI에서 사용할 수 있는 `WhatIf` 매개 변수를 사용하면 ARM 템플릿 배포 전에 사용자 환경에 대한 변경 내용을 미리 볼 수 있습니다. 이 매개 변수는 템플릿에서 만든 내용, 수정 및 삭제에 대해 자세히 설명합니다.
    - Resource Manager에 제출된 ARM 템플릿은 배포 프로세스 전에 유효성이 검사됩니다. 이 유효성 검사는 리소스를 프로비전하기 전에 템플릿의 오류를 경고합니다.
    - ARM 템플릿을 소규모 구성 요소로 분할하고 배포 시 서로 연결할 수 있습니다.
    - ARM 템플릿을 Azure Pipelines 및 GitHub Actions와 같은 여러 CI/CD 도구에 통합할 수 있습니다.
    - 배포 스크립트를 사용하면 ARM 템플릿 내에서 Bash 또는 PowerShell 스크립트를 실행할 수 있습니다. 확장성을 통해 단일 템플릿을 사용하여 전체 솔루션을 배포할 수 있습니다.
    
    ### **ARM 템플릿 형식**
    
    ARM 템플릿과 Azure 리소스 배포, JSON 및 Bicep에 사용할 수 있는 두 가지 형식이 있습니다. JSON(JavaScript Object Notation)은 여러 언어에서 사용할 수 있는 개방형 표준 파일 형식입니다. Bicep은 더 쉬운 구문을 사용하여 템플릿을 작성하기 위해 최근에 개발된 도메인별 언어입니다. Bicep CLI를 사용하면 모든 JSON 템플릿을 Bicep 템플릿으로 디컴파일할 수 있습니다.
    
    ### **Azure Bicep 템플릿에 관해 알아야 할 사항**
    
    [Bicep](https://learn.microsoft.com/ko-kr/azure/azure-resource-manager/bicep/overview) 은 Azure 리소스를 선언적으로 배포하는 데 사용되는 ARM 템플릿 언어입니다. Bicep은 특정 시나리오 또는 도메인용으로 설계된 도메인별 언어입니다. Bicep은 ARM 템플릿을 만드는 데 사용됩니다.
    
    ![Bicep ARM 템플릿을 사용하여 JSON ARM 템플릿을 통해 Azure로 작성하는 프로세스를 보여주는 일러스트레이션.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/bicep-to-json.png)
    
    Bicep을 코드 제공 인프라 배포를 위한 기본 도구 집합으로 선택해야 하는 이유는 여러 가지가 있습니다.
    
    - Bicep은 Azure 에코시스템의 기본 요소입니다. 새 Azure 리소스가 릴리스되거나 업데이트되면 Bicep은 첫째 날에 이러한 기능을 지원합니다.
    - JSON과 Bicep 템플릿은 Azure 플랫폼 내에 완전히 통합됩니다. Resource Manager 기반 배포를 사용하면 Azure Portal에서 배포 진행 상황을 모니터링할 수 있습니다.
    - Bicep은 Microsoft 지원을 통해 완전히 지원되는 제품입니다.
    - 모든 상태는 Azure에 저장됩니다. 사용자는 공동 작업을 수행할 수 있으며 업데이트가 예상대로 처리된다는 확신을 가질 수 있습니다.
    - JSON 템플릿을 이미 선언적 템플릿 언어로 사용하고 있다면 Bicep으로 전환하기가 어렵습니다. Bicep CLI를 사용하면 모든 템플릿을 Bicep 템플릿으로 디컴파일할 수 있습니다.
    
    ### **Azure Automation에 대해 알아야 할 사항**
    
    [Azure Automation은 Azure](https://learn.microsoft.com/ko-kr/azure/automation/automation-intro) 및 비 Azure 환경에서 일관된 관리를 지원하는 클라우드 기반 자동화 및 구성 서비스를 제공합니다. Azure Automation을 사용하면 프로세스 자동화, 구성 관리 및 업데이트 관리의 세 가지 서비스 영역을 완전히 제어할 수 있습니다. 이 서비스에 대해 자세히 살펴보고 Tailwind Traders 애플리케이션 아키텍처에서 구현하는 방법을 생각해 보겠습니다.
    
    | 서비스 | 설명 |
    | --- | --- |
    | **프로세스 자동화** | 프로세스 자동화를 사용하면 자주 실행하며, 시간이 오래 걸리고, 오류가 발생하기 쉬운 클라우드 관리 작업을 자동화할 수 있습니다. 이러한 서비스를 통해 비즈니스 가치를 높이는 작업에 집중할 수 있습니다. 또한 오류를 줄이고 효율성을 높여 운영 비용을 낮출 수 있습니다. 이 서비스를 사용하면 PowerShell에서 또는 Python을 사용하여 그래픽으로 Runbook을 작성할 수 있습니다. |
    | **구성 관리** | 구성 관리를 통해서는 변경 내용 추적 및 인벤토리와 Azure Automation State Configuration이라는 두 가지 기능에 액세스할 수 있습니다. 서비스는 환경 내의 서비스, 디먼, 소프트웨어, 레지스트리, 파일에서 변경 추적을 지원합니다. 변경 내용 추적을 사용하면 원치 않는 변경 내용을 진단하고 경고를 발생시킬 수 있습니다. |
    | **업데이트 관리** | 업데이트 관리 서비스에는 하이브리드 환경의 Windows 및 Linux 시스템용 업데이트 관리 기능이 포함되어 있습니다. 이 기능을 사용하면 정의한 유지 관리 기간 내에 업데이트 설치를 오케스트레이션하는 예약된 배포를 만들 수 있습니다. |
    
    **팁**
    
    [**JSON ARM 템플릿 모듈을 사용하여 Azure 인프라 배포**](https://learn.microsoft.com/ko-kr/training/modules/create-azure-resource-manager-template-vs-code/)에서 학습을 계속합니다.
    
- 앱 구성 관리 솔루션 설계
    
    새 애플리케이션 기능을 제공하려면 일반적으로 애플리케이션 자체를 완전하게 다시 배포해야 합니다. 기능 테스트 또는 배포에는 대부분 여러 버전의 애플리케이션이 필요합니다. 배포는 저마다 다른 구성, 자격 증명, 설정 변경 또는 테스트를 위한 매개 변수를 요구할 수 있습니다.
    
    구성 관리는 코드 배포에서 구성을 분리하고 필요에 따라 기능 가용성을 빠르게 변경할 수 있게 하는 최신 소프트웨어 개발 사례입니다. 구성을 서비스로 분리하면 시스템에서 배포 수명 주기를 동적으로 관리할 수 있습니다.
    
    배포 문제에 집중하도록 도와주는 Azure 솔루션을 살펴보겠습니다.
    
    ### **Azure App Configuration에 관해 알아야 할 사항**
    
    [Azure App Configuration](https://learn.microsoft.com/ko-kr/azure/azure-app-configuration/overview)은 애플리케이션 설정 및 기능 플래그를 중앙에서 관리할 수 있는 서비스를 제공합니다. App Configuration을 사용하여 애플리케이션에 대한 모든 설정을 한 곳에서 저장하고 액세스를 보호할 수 있습니다.
    
    App Configuration은 애플리케이션 아키텍처에 많은 이점을 제공합니다. 기능을 검토할 때 Azure App Configuration이 Tailwind Traders 애플리케이션에 대한 배포를 지원하는 방법을 고려합니다.
    
    - Azure App Configuration은 몇 분 안에 설정할 수 있는 완전 관리형 서비스이며 인기 있는 프레임워크와의 네이티브 통합을 지원합니다.
    - App Configuration은 유연한 키 표현 및 매핑과 설정의 지정 시간 재생을 제공합니다.
    - App Configuration은 기능 플래그 관리를 위한 전용 UI가 있으며 레이블로 리소스 태그 지정을 지원합니다.
    - 사용자 지정 정의 차원의 두 구성 집합을 비교할 수 있습니다.
    - App Configuration은 Azure 리소스에 대한 Microsoft Entra 관리 ID를 통해 향상된 보안을 제공합니다.
    - 중요한 정보는 미사용 및 전송 중에 암호화할 수 있습니다.
    - Azure App Configuration은 개발 환경과 프로덕션 환경 모두에서 작동합니다.
    
    ### **개발**
    
    Azure App Configuration 개발 환경은 Visual Studio, Visual Studio Code 및 Azure CLI로 구성됩니다. 이러한 구성 요소는 Microsoft Entra ID, App Configuration 및 Azure Key Vault에 연결됩니다.
    
    ![Visual Studio, Visual Studio Code 및 Azure CLI를 사용하는 개발 환경의 다이어그램 구성 요소는 Microsoft Entra ID, App Configuration 및 Key Vault에 연결됩니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/app-config-development.png)
    
    ### **생산**
    
    Azure App Configuration 프로덕션 환경은 Azure 및 Azure 서비스와 관련된 Azure 리소스에 대한 Microsoft Entra 관리 ID로 구성됩니다. 이러한 구성 요소는 Microsoft Entra ID, App Configuration 및 Key Vault에 연결됩니다.
    
    ![관련 Azure 서비스를 사용하는 Azure 리소스에 대한 Azure 및 Microsoft Entra 관리 ID를 사용하는 프로덕션 환경의 다이어그램. 구성 요소는 Microsoft Entra ID, App Configuration 및 Key Vault에 연결됩니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-application-architecture/media/app-config-production.png)
    

### 네트워크 솔루션 디자인

- 워크로드 요구 사항에 따라 권장되는 네트워크 아키텍쳐 솔루션
    
    Azure는 워크로드 요구 사항을 지원하기 위해 함께 또는 별도로 사용할 수 있는 기능을 갖춘 여러 AI 지원 [네트워킹 서비스를](https://learn.microsoft.com/ko-kr/azure/networking/fundamentals/networking-overview#connect) 제공합니다. Azure 리소스 및 온-프레미스 리소스를 연결하고, 애플리케이션을 보호하고, 애플리케이션을 제공할 수 있습니다.
    
    Tailwind Traders는 현재 데이터 센터에서 온-프레미스 워크로드를 실행하고 있습니다. 일부 회사 워크로드를 Azure로 마이그레이션하기 위한 전략에서 워크로드 및 서비스를 제대로 지원할 수 있도록 네트워킹 설계 관련 의사 결정을 내려야 합니다. 네트워크 아키텍처를 추천하려면 워크로드 요구 사항이 네트워크 요구 사항으로 변환되는 방식을 고려해야 합니다.
    
    ### **네트워크 요구 사항에 대해 알아야 할 사항**
    
    네트워킹 솔루션을 계획할 때 고려해야 할 몇 가지 요구 사항이 있습니다.
    
    - **명명**: 시간이 지남에 따라 여러 네트워크 리소스를 더 쉽게 관리할 수 있도록 리소스 이름을 지정할 때 일관되게 사용할 수 있는 명명 규칙을 정의합니다.
    - **지역**: 리소스 소비자의 물리적 위치에 따라 리소스의 Azure 지역을 결정합니다. 가상 네트워크는 단일 지역/위치로 범위가 지정됩니다. 그러나 가상 네트워크 피어링을 사용하여 여러 지역의 여러 가상 네트워크를 연결할 수 있습니다.
    - **구독**: 각 Azure 구독 및 Azure 지역 내에서 여러 가상 네트워크를 구현할 수 있다는 점을 고려하여 워크로드 요구 사항을 충족하는 데 필요한 Azure 구독 수를 계획합니다.
    - **IP 주소**: 공용 및 개인(RFC 1918) 주소를 사용하여 사용자 지정 개인 IP 주소 공간을 지정합니다. Azure는 가상 네트워크의 리소스에 사용자가 할당한 주소 공간의 개인 IP 주소를 할당합니다.
    - **구분**: 워크로드 및 보안 요구 사항에 따라 서브넷으로 가상 네트워크를 분할합니다.
    - **필터링**: 워크로드에 대한 네트워크 보안 및 트래픽 필터링 전략을 정의합니다.
    
    ### **워크로드 요구 사항을 정의할 때 고려해야 할 사항**
    
    Tailwind Traders의 워크로드 요구 사항에 따라 네트워크를 계획할 때는 많은 고려 사항을 검토해야 합니다.
    
    - **가상 네트워크에 대한 구분 옵션을 고려합니다**. 각 서브넷에는 가상 네트워크의 주소 공간 내에 CIDR 형식으로 지정된 고유한 주소 범위가 있어야 합니다. 주소 범위는 가상 네트워크의 다른 서브넷과 겹칠 수 없습니다. 다음 표에서는 3계층 애플리케이션을 기반으로 하여 주소 공간이 10.245.16.0/20인 가상 네트워크를 서브넷으로 분할하는 방법을 보여 줍니다.
        
        
        | 서브넷 | CIDR | 주소 | 사용량 |
        | --- | --- | --- | --- |
        | DEV-FE-EUS2 | 10.245.16.0/22 | 1019 | 프런트 엔드 또는 웹 계층 가상 머신 |
        | DEV-APP-EUS2 | 10.245.20.0/22 | 1019 | 애플리케이션 계층 가상 머신 |
        | DEV-DB-EUS2 | 10.245.24.0/23 | 507 | 데이터베이스 가상 머신 |
    - **필요한 인터페이스 및 IP 주소를 고려합니다**. 가상 네트워크에서 얼마나 많은 네트워크 인터페이스와 개인 IP 주소가 필요한지 파악합니다. 가상 네트워크에서 유지할 수 있는 네트워크 인터페이스 및 개인 IP 주소의 개수에는 제한이 있습니다.
    - **네트워크 보안 그룹을 고려합니다**. 네트워크 보안 그룹 및 네트워크 가상 어플라이언스를 사용하여 가상 네트워크에서 리소스를 보내고 받는 네트워크 트래픽을 필터링할 수 있습니다. Azure에서 서브넷의 트래픽을 라우팅하는 방법을 제어할 수 있습니다.
    - **가상 네트워크 트래픽 라우팅을 고려합니다**. 기본적으로 Azure에서는 가상 네트워크 내의 모든 서브넷 간에 네트워크 트래픽을 라우팅합니다. 사용자 지정 경로를 사용하여 Azure의 시스템 경로 중 일부를 재정의할 수 있습니다.
    
    ## **모범 사례**
    
    가상 네트워크 및 서브넷 작업에 권장되는 다음 모범 사례를 검토합니다.
    
    ### **가상 네트워크의 IP 주소 지정 계획**
    
    마이그레이션의 일부로 가상 네트워크를 만들 때 가상 네트워크 IP 주소 공간을 계획합니다. 가상 네트워크에서는 65,536개의 IP 주소를 사용할 수 있습니다.
    
    - 각 가상 네트워크에 대해 /16의 CIDR 범위보다 크지 않은 주소 공간을 할당합니다. 주소가 131,072개인 /16보다 작은 접두사(예: /15)를 할당하면 다른 곳에서는 초과 IP 주소를 사용할 수 없게 됩니다. IP 주소가 RFC 1918에 정의된 프라이빗 범위에 있더라도 IP 주소를 낭비하지 않아야 합니다.
    - 가상 네트워크 주소 공간은 온-프레미스 네트워크 범위와 겹치지 않아야 합니다. 주소가 겹치면 네트워크에 연결할 수 없고 라우팅이 제대로 작동하지 않을 수 있습니다.
    - 네트워크가 겹치는 경우 네트워크를 재설계해야 합니다. 네트워크를 다시 디자인할 수 없는 경우 NAT(Network Address Translation)가 도움이 될 수 있지만 최대한 피하거나 제한해야 합니다.
    
    ### **허브-스포크 네트워크 토폴로지 구현**
    
    허브 및 스포크 네트워크 토폴로지는 ID 및 보안과 같은 서비스를 공유하는 동안 워크로드를 격리합니다. 허브는 중앙 연결 지점 역할을 하는 Azure 가상 네트워크입니다. 스포크는 피어링을 사용하여 허브 가상 네트워크에 연결하는 가상 네트워크입니다. 개별 작업을 스포크로 배포하는 반면 공유 서비스는 허브에 배포됩니다.
    
    ![허브 및 스포크 아키텍처의 예에 대한 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-network-solutions/media/network-hub-spokes-cluster.png)
    
    - Azure에서 허브-스포크 토폴로지를 구현하면 온-프레미스 네트워크 연결, 방화벽 및 가상 네트워크 간 격리와 같은 일반적인 서비스가 중앙 집중화됩니다. 허브 가상 네트워크는 온-프레미스 네트워크에 대한 중앙 연결 지점과 스포크 가상 네트워크에서 호스트되는 워크로드에서 사용하는 서비스를 호스트할 수 있는 위치를 제공합니다.
    - 스포크 가상 네트워크를 사용하여 워크로드를 격리할 수 있으며, 각 스포크는 다른 스포크와 별도로 관리됩니다. 각 워크로드에는 여러 계층과 Azure 부하 분산 장치와 연결된 여러 서브넷이 포함될 수 있습니다.
    - 다른 리소스 그룹 및 다른 구독에서도 허브 및 스포크 가상 네트워크를 구성합니다. 다른 구독에서 가상 네트워크를 피어링하는 경우 구독을 동일하거나 다른 Microsoft Entra ID 테넌트에 연결할 수 있습니다. 허브 네트워크에서 유지 관리되는 서비스를 공유하면서 각 워크로드의 탈중앙화 관리를 구현할 수 있습니다.
- Azure 네트워크 연결 서비스를 위한 디자인 패턴
    
    이제 Azure에서 워크로드를 구성하기 위한 세 가지 일반적인 네트워킹 패턴을 살펴보겠습니다.
    
    - 단일 가상 네트워크.
    - 피어링을 사용하는 여러 가상 네트워크.
    - 허브 스포크 토폴로지의 여러 가상 네트워크.
    
    각 패턴은 서로 다른 유형의 격리 및 연결을 제공합니다. 이러한 옵션을 검토할 때 Tailwind Traders 조직의 요구 사항을 충족할 수 있는 패턴을 고려합니다.
    
    ## **패턴 1: 단일 가상 네트워크**
    
    첫 번째 패턴에서는 워크로드의 모든 구성 요소(또는 경우에 따라 전체 IT 공간)가 단일 가상 네트워크에 배치됩니다. 가상 네트워크는 여러 영역에 걸쳐 있을 수 없기 때문에 이 옵션은 단일 지역에서만 작동할 경우 가능합니다.
    
    가상 네트워크에서 세그먼트를 만드는 데 사용할 가능성이 가장 높은 엔터티는 NSG(네트워크 보안 그룹)입니다. 애플리케이션 보안 그룹(ASG)으로 관리를 단순화할 수도 있습니다.
    
    ![image.png](AZ-305%20(25%2008%2022)/image%208.png)
    
    단일 가상 네트워크 패턴을 구현하는 방법은 다음과 같습니다.
    
    - 하나의 서브넷(`Subnet 1`)은 데이터베이스 워크로드를 포함할 수 있습니다.
    - 다른 서브넷(`Subnet 2`)에는 웹 워크로드가 포함될 수 있습니다.
    - 서브넷 트래픽을 제어하기 위해 NSG를 구현하여 `Subnet 1`이 `Subnet 2`와만 통신하고 `Subnet 2`가 인터넷과 통신할 수 있도록 지정할 수 있습니다.
    - Azure Marketplace 또는 Azure Firewall의 NVA를 사용하여 구분을 적용할 수 있습니다.
    - 패턴을 수정하여 다양한 워크로드를 세분화하고 지원할 수 있습니다.
    
    ## **패턴 2: 피어링을 사용하는 여러 가상 네트워크**
    
    두 번째 패턴은 잠재적인 피어링 연결이 있는 여러 가상 네트워크를 지원하도록 단일 가상 네트워크 패턴을 확장합니다. 이 옵션을 사용하면 애플리케이션을 별도의 가상 네트워크로 그룹화하거나 여러 Azure 지역에서 현재 상태를 구현할 수 있습니다.
    
    ![서로 다른 지역에 두 개의 가상 네트워킹이 있는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-network-solutions/media/multiple-network.png)
    
    서로 통신할 수 있도록 가상 네트워크를 다른 네트워크에 명시적으로 피어링해야 하므로 이 패턴은 가상 네트워크를 통해 기본 제공 분할을 제공합니다. [Azure Virtual Network 피어링](https://learn.microsoft.com/ko-kr/azure/virtual-network/virtual-network-peering-overview) 연결은 전이적 속성을 가지지 않습니다. 가상 네트워크 내에서 패턴 1과 유사하게 NSG를 사용하여 더 많은 세분화를 추가할 수 있습니다.
    
    ## **패턴 3: 허브-스포크 토폴로지의 여러 가상 네트워크**
    
    세 번째 패턴은 해당 지역의 다른 모든 가상 네트워크에 대한 허브로 지정된 지역의 가상 네트워크를 선택하는 고급 가상 네트워크 조직입니다.
    
    ![허브 스포크 네트워크의 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-network-solutions/media/hub-spoke-design.png)
    
    [허브 가상 네트워크와 해당 스포크 가상 네트워크 간의](https://learn.microsoft.com/ko-kr/azure/architecture/networking/guide/spoke-to-spoke-networking) 연결은 Virtual Network 피어링을 사용하여 수행됩니다. 모든 트래픽은 허브 가상 네트워크를 통해 전달되고 다른 지역의 다른 허브에 대한 게이트웨이로 작동할 수 있습니다. 허브에서 보안 태세를 설정하여 확장 가능한 방식으로 가상 네트워크 간의 트래픽을 분할하고 제어합니다.
    
    이 패턴의 한 가지 이점은 네트워크 토폴로지가 성장해도 보안 태세 오버헤드가 증가하지 않는다는 것입니다(새 지역으로 확장하는 경우 제외).
    
    ## **패턴 비교**
    
    다음 표에서는 세 가지 네트워킹 패턴의 기능을 비교합니다. 세부 정보를 검토하고 Tailwind Traders의 네트워크 토폴로지에 적용할 수 있는 패턴을 생각해 보세요.
    
    | 비교 | 단일 가상 네트워크 | 피어링이 있는 여러 네트워크 | 허브-스포크 토폴로지의 여러 네트워크 |
    | --- | --- | --- | --- |
    | **연결/라우팅**(세그먼트가 통신하는 방법) | 시스템 라우팅은 모든 서브넷의 모든 워크로드에 대한 기본 연결을 제공합니다. | 시스템 라우팅은 모든 서브넷의 모든 워크로드에 대한 기본 연결을 제공합니다. | 스포크 가상 네트워크 간의 기본 연결은 없습니다. 허브 가상 네트워크에서 Azure Firewall과 같은 계층 3 라우터는 연결을 설정하는 데 필요합니다. |
    | **네트워크 수준 트래픽 필터링** | 기본적으로 트래픽이 허용됩니다. NSG는 필터링에 사용할 수 있습니다. | 기본적으로 트래픽이 허용됩니다. NSG는 필터링에 사용할 수 있습니다. | 스포크 가상 네트워크 간의 트래픽은 기본적으로 거부됩니다. Azure Firewall 구성은 선택한 트래픽을 사용하도록 설정할 수 있습니다. |
    | **중앙 집중식 로깅** | NSG는 가상 네트워크에 대해 로그합니다. | 모든 가상 네트워크에서 NSG 로그를 집계합니다. | Azure Firewall은 허브를 통해 전송되는 모든 허용/거부된 트래픽을 Azure Monitor에 로그합니다. |
    | **원치 않는 오픈 퍼블릭 엔드포인트** | DevOps는 잘못된 NSG 규칙을 통해 실수로 퍼블릭 엔드포인트를 열 수 있습니다. | DevOps는 잘못된 NSG 규칙을 통해 실수로 퍼블릭 엔드포인트를 열 수 있습니다. | 스포크 가상 네트워크의 열린 포트는 액세스를 허용하지 않습니다. 상태 저장 방화벽을 통해 반환 패킷이 삭제됩니다(비대칭 라우팅). |
    | **애플리케이션 수준 보호** | NSG는 네트워크 계층 지원만 제공합니다. | NSG는 네트워크 계층 지원만 제공합니다. | Azure Firewall은 아웃바운드 트래픽과 가상 네트워크 간에 HTTP/S 및 MSSQL에 대한 FQDN 필터링을 지원합니다. |
    
    모든 패턴에 대해 권장되는 Azure 클라우드 기본 분할 제어는 Azure Firewall입니다. Azure Firewall은 계층 3에서 계층 7 컨트롤을 사용하여 트래픽 흐름을 제어할 수 있도록 Azure 가상 네트워크와 구독 모두에서 작동합니다. 네트워크 X가 네트워크 Y와 통신할 수 없고 네트워크 Z가 인터넷에 액세스할 수 없는 것처럼 통신 규칙을 정의하고 일관되게 적용할 수 있습니다. Azure Firewall Manager를 사용하여 여러 Azure Firewall에서 정책을 중앙에서 관리하고 DevOps 팀이 로컬 정책을 추가로 사용자 지정하도록 할 수 있습니다.
    
- 아웃바운드 연결 및 라우팅 설계
    
    Azure AI 지원 네트워크 솔루션 계획에는 아웃바운드 네트워크 연결 및 트래픽 통신 라우팅을 지원하는 방법을 살펴보는 것이 포함됩니다.
    
    전 세계에서 IPv4 주소 범위는 공급이 부족합니다. v4 범위에서 IP 주소를 구입하려고 하면 인터넷 리소스에 대한 액세스 권한을 부여하는 비용이 많이 들 수 있습니다. 이 문제를 해결하기 위해 설계자는 NAT(Network Address Translation)를 사용하여 개인 네트워크의 내부 리소스가 라우팅 가능한 IPv4 주소를 공유할 수 있도록 합니다. 내부 리소스는 라우팅 가능한 IPv4 주소를 사용하여 공용 네트워크의 외부 리소스에 액세스합니다. 인터넷 액세스가 필요한 각 리소스마다 IPv4 주소를 구매하는 대신 NAT 서비스를 사용하면 내부 리소스에서 외부 IP 주소로 나가는 요청을 매핑할 수 있습니다. Azure는 Azure Virtual Network NAT 서비스를 통해 이 기술을 제공합니다.
    
    Azure는 [경로 테이블](https://learn.microsoft.com/ko-kr/azure/virtual-network/virtual-networks-udr-overview)을 사용하여 온-프레미스 내부 리소스와 외부 인터넷 리소스 간에 *통신 트래픽을 라우팅*합니다. 가상 네트워크를 만들 때 Azure는 네트워크의 각 서브넷에 대한 라우팅 테이블을 자동으로 만듭니다. 라우팅 테이블에는 시스템, 서비스 엔드포인트 및 서브넷 기본값을 포함하여 다양한 유형의 경로가 포함되어 있습니다. 테이블에는 BGP(Border Gateway Protocol), UDR(사용자 정의 경로) 및 다른 가상 네트워크의 경로에 대한 경로 항목도 있습니다.
    
    ### **비즈니스 시나리오**
    
    - 사전 할당 없이 주문형 아웃바운드-인터넷 연결을 지원합니다.
    - 크기 조정을 위해 하나 이상의 고정 공용 IP 주소를 구성합니다.
    - 구성 가능한 유휴 시간 제한을 사용하도록 설정합니다.
    - 인식할 수 없는 연결에 대해 TCP 재설정을 허용합니다.
    
    ### **라우팅 테이블 및 경로에 대해 알아야 할 사항**
    
    라우팅 테이블의 특성과 경로 유형을 자세히 살펴보겠습니다.
    
    - **시스템 경로**: 서브넷을 정의하지 않고 처음으로 가상 네트워크를 만들 경우 Azure는 라우팅 테이블에 시스템 경로 항목을 만듭니다. 시스템 경로는 만들어질 때 특정 위치에 대해 정의됩니다. 시스템 경로는 만든 후에는 수정할 수 없지만 UDR을 구성하여 재정의할 수 있습니다.
        
        ![예제 시스템 경로 아키텍처의 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-network-solutions/media/system-routes.png)
        
    - **사용자 정의 경로(사용자 지정)**: 가상 네트워크 내에서 하나 이상의 서브넷을 만들 경우 Azure는 라우팅 테이블에 기본 항목을 만들어 가상 네트워크 내에서 해당 서브넷 간에 통신을 가능하게 합니다. 이 경로는 Azure에서 UDR로 저장되는 고정 경로를 사용하여 수정할 수 있습니다. UDR을 *사용자 지정 경로*라고도 합니다. Azure에서 UDR을 만들어 Azure의 기본 시스템 경로를 재정의하거나 서브넷의 경로 테이블에 경로를 더 추가합니다.
        
        ![사용자 정의 아키텍처 예제의 다이어그램.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-network-solutions/media/user-defined-route.png)
        
    - **다른 가상 네트워크의 경로**: 두 가상 네트워크 간에 가상 네트워크 피어링을 만들면 각 피어링된 가상 네트워크의 주소 공간 내의 각 주소 범위에 대한 경로가 추가됩니다.
    - **BGP(Border Gateway Protocol) 경로**: 온-프레미스 네트워크 게이트웨이에서 Azure 가상 네트워크 게이트웨이와 BGP 경로를 교환하는 경우 온 프레미스 네트워크 게이트웨이에서 전파되는 각 경로에 대한 경로가 추가됩니다. 이 경로는 라우팅 테이블에 BGP 경로로 표시됩니다.
    - **서비스 엔드포인트 경로**: 서비스에 서비스 엔드포인트를 사용하도록 설정하면 Azure는 특정 서비스에 대한 공용 IP 주소를 경로 테이블에 추가합니다. 서비스 엔드포인트는 가상 네트워크 내에서 개별 서브넷에 대해 사용하도록 설정됩니다. 서비스 엔드포인트를 사용하도록 설정하면 이 서비스에 속하는 서브넷의 경로 테이블에만 경로가 추가됩니다. 주소가 변경되면 Azure는 자동으로 경로 테이블의 주소를 관리합니다.
    - **라우팅 순서**: 라우팅 테이블에 경쟁하는 항목이 있는 경우 Azure는 기존 라우터와 유사한 가장 긴 접두사 일치를 기준으로 다음 홉을 선택합니다. 주소 접두사가 동일한 다음 홉 항목이 여러 개 있는 경우 Azure는 UDR, BGP 경로 및 시스템 경로와 같은 특정 순서로 경로를 선택합니다.
    
    ### **라우팅 테이블 및 경로를 사용할 때 고려해야 할 사항**
    
    경로 정의 및 재정의가 장점이 될 수 있는 많은 네트워킹 시나리오가 있습니다. 다음 제안을 검토하고 Tailwind Traders 솔루션을 지원하는 데 필요한 경로를 고려합니다.
    
    - **시스템 경로 고려**. 수정할 것으로 예상되지 않는 특정 위치 및 시나리오에 대한 시스템 경로를 정의합니다.
        - 동일한 가상 네트워크의 가상 머신 간 또는 피어링된 가상 네트워크 간에 트래픽을 라우팅합니다.
        - 가상 네트워크 간 VPN을 사용하여 가상 머신 간의 통신을 지원합니다.
        - Azure ExpressRoute 또는 Azure VPN Gateway를 통해 사이트 간 통신을 활성화합니다.
    - **사용자 정의 경로 고려**. 사용자 지정 UDR을 만들어 Azure의 기본 시스템 경로를 재정의하거나 서브넷의 경로 테이블에 경로를 더 추가합니다.
        - Azure Firewall 또는 강제 터널링을 사용하여 인터넷 트래픽의 필터링을 활성화합니다.
        - NVA(네트워크 가상 어플라이언스)를 통해 서브넷 간 트래픽을 흐릅니다.
        - 가상 네트워크에서 패킷을 라우팅하는 방법을 지정하는 경로를 정의합니다.
        - 네트워크 트래픽을 제어하는 경로를 정의하고 트래픽 흐름에서 다음 홉을 지정합니다.
    - **경로 재정의 고려**. 트래픽 흐름을 제어하기 위해 경로 재정의를 계획합니다.
        - NVA를 통해 흐름: [서브넷 간의 트래픽이 NVA를 통해 흐르도록 경로 테이블을 구성합니다](https://learn.microsoft.com/ko-kr/azure/virtual-network/tutorial-create-route-table-portal).
        - 강제 터널링: [NVA 또는 온-프레미스를 통해 모든 인터넷으로 향하는 트래픽을 강제하여 Azure VPN Gateway를 통해 통과시키도록 합니다](https://learn.microsoft.com/ko-kr/azure/vpn-gateway/vpn-gateway-forced-tunneling-rm).
- Azure 가상 네트워크에 대한 온-프레미스 연결을 위한 디자인
    
    성공적으로 마이그레이션하려면 온-프레미스 회사 네트워크를 Azure에 연결해야 합니다. 이 방법은 서비스가 Azure 클라우드에서 회사 사용자에게 제공되는 *하이브리드 클라우드 네트워크*라는 상시(always-on) 연결을 만듭니다.
    
    온-프레미스 네트워크에서 Azure 리소스로의 연결을 제공하는 Azure 서비스를 살펴보겠습니다. 온-프레미스 네트워크를 Azure Virtual Network(VNet)에 연결하는 옵션을 비교해 보겠습니다.
    
    ### **Azure VPN Gateway**
    
    [Azure VPN Gateway](https://learn.microsoft.com/ko-kr/azure/vpn-gateway/vpn-gateway-about-vpngateways) 연결은 가상 네트워크와 온-프레미스 위치 간에 암호화된 트래픽을 전송하는 가상 네트워크 게이트웨이의 유형입니다. 암호화된 트래픽은 공용 인터넷을 통해 전송됩니다. VPN Gateway 연결에 사용할 수 있는 다양한 구성(예: 사이트 간, 지점 및 사이트 간 또는 가상 네트워크 및 네트워크 간)이 있습니다.
    
    **참조 아키텍처**: [Azure VPN Gateway가 있는 하이브리드 네트워크](https://learn.microsoft.com/ko-kr/azure/architecture/reference-architectures/hybrid-networking/#vpn-connection)
    
    ### **Azure ExpressRoute**
    
    [Azure ExpressRoute](https://learn.microsoft.com/ko-kr/azure/expressroute/expressroute-introduction) 는 비 Microsoft 연결 공급자를 통해 프라이빗 전용 연결을 사용합니다. 이 연결은 프라이빗 전용입니다. 트래픽은 인터넷을 통해 이동하지 않습니다. 프라이빗 연결은 온-프레미스 네트워크를 Azure로 확장합니다.
    
    **참조 아키텍처**: [Azure ExpressRoute를 사용한 하이브리드 네트워크](https://learn.microsoft.com/ko-kr/azure/architecture/reference-architectures/hybrid-networking/expressroute)
    
    ### **VPN 장애 조치(failover)를 사용하는 Azure ExpressRoute**
    
    ExpressRoute 회로에서 연결이 끊어지는 경우 Azure ExpressRoute와 Azure VPN Gateway를 결합하여 VPN 연결에 대한 장애 조치(failover)를 만듭니다.
    
    **참조 아키텍처**: [Azure ExpressRoute 및 VPN 장애 조치(failover)를 사용하는 하이브리드 네트워크](https://learn.microsoft.com/ko-kr/azure/architecture/reference-architectures/hybrid-networking/expressroute-vpn-failover)
    
    ### **Azure Virtual WAN 및 허브 스포크 네트워크**
    
    허브-스포크 네트워크 토폴로지는 ID 및 보안과 같은 서비스를 공유하는 동안 워크로드를 격리하는 방법입니다. 허브는 온-프레미스 네트워크에 대한 연결의 중심점 역할을 하는 Azure의 가상 네트워크입니다. 스포크는 허브와 피어링하는 가상 네트워크입니다. 개별 작업을 스포크로 배포하는 반면 공유 서비스는 허브에 배포됩니다.
    
    허브 스포크 아키텍처는 고객 관리형 허브 인프라 또는 Microsoft에서 관리하는 허브 인프라를 통해 달성할 수 있습니다. 두 경우 모두 스포크는 가상 네트워크 피어링을 사용하여 허브에 연결됩니다. 트래픽은 ExpressRoute 또는 VPN 게이트웨이 연결을 통해 온-프레미스 데이터 센터와 허브 사이를 흐릅니다. 이 방법의 주요 차이점은 Azure Virtual WAN을 사용하여 허브를 관리되는 서비스로 교체하는 것입니다.
    
    Azure Virtual WAN은 Azure를 통해 최적화된 자동 분기 연결을 제공하는 네트워킹 서비스입니다. Azure 지역은 분기를 연결하도록 선택할 수 있는 허브 역할을 합니다. 또한 Azure 백본을 적용하여 분기를 연결하고 분기 및 VNet 간 연결을 설정할 수 있습니다. Azure Virtual WAN은 사이트 간 VPN, ExpressRoute, 지점 및 사이트 간 사용자 VPN과 같은 다양한 Azure 클라우드 연결 서비스를 단일 운영 인터페이스로 통합합니다. Azure VNet에 대한 연결은 가상 네트워크 연결을 사용하여 설정합니다.
    
    **참조 아키텍처**: [Azure Virtual WAN을 사용하는 허브 스포크 토폴로지](https://learn.microsoft.com/ko-kr/azure/architecture/networking/hub-spoke-vwan-architecture)
    
    Azure Virtual WAN 아키텍처에는 표준 허브 스포크 네트워크 토폴로지의 이점이 포함되며 다음과 같은 몇 가지 장점이 있습니다.
    
    - Azure 가상 네트워크 간의 풀 메시 허브
    - Azure 연결로 분기
    - 분기 간 연결
    - VPN Gateway 및 ExpressRoute 연결의 혼합 사용
    - 사이트에 대한 사용자 VPN의 혼합 사용
    - 가상 네트워크 및 네트워크 간 연결
    
    ## **서비스 비교**
    
    다음 표에서는 네트워크 연결 옵션의 이점과 과제를 비교합니다. 시나리오를 검토하고 Tailwind Traders에 대한 네트워크 솔루션을 개선할 수 있는 서비스에 대해 생각해 보세요.
    
    | 비교 | Azure VPN Gateway | Azure ExpressRoute | ExpressRoute + VPN 장애 조치(failover) | Azure Virtual WAN + 허브 스포크 |
    | --- | --- | --- | --- | --- |
    | **이점** | - 간단한 구성- 높은 대역폭 사용 가능(VPN Gateway SKU에 따라 최대 10Gbps) | - 높은 대역폭 사용 가능(연결 공급자에 따라 최대 10Gbps)- 수요가 낮은 기간 동안 비용을 절감할 수 있도록 대역폭의 동적 크기 조정 지원(모든 연결 공급자가 지원하지 않음)- 국가별 클라우드에 대한 직접 조직 액세스를 사용하도록 설정(연결 공급자에 따라 다름) | - ExpressRoute 회로가 실패할 경우 높은 가용성(낮은 대역폭 네트워크에서 대체 연결) | - 기존 허브를 완전 관리형 서비스로 대체하여 운영 오버헤드 감소- NVA가 불필요한 관리형 서비스를 사용하여 비용 절감- Azure Firewall 및 Virtual WAN으로 중앙에서 관리되는 보안 허브를 통한 보안 향상- 중앙 IT(SecOps, InfraOps)와 워크로드(DevOps) 간의 문제 구분 |
    | **당면 과제** | - 온-프레미스 VPN 디바이스 필요 | - 설정이 복잡할 수 있음- 비 Microsoft 연결 공급자로 작업해야 합니다.- 네트워크 연결 프로비저닝을 담당하는 공급자- 온-프레미스에서 높은 대역폭의 라우터 필요 | - 복잡한 구성- VPN 연결 및 ExpressRoute 회로를 모두 설정해야 함- 중복 하드웨어(VPN 어플라이언스) 필요- 중복 Azure VPN Gateway 연결 필요(유료) | **참고**: Azure Virtual WAN은 앞에 나열된 연결 문제를 줄이기 위해 설계되었습니다. |
    | **시나리오** | - 온-프레미스 하드웨어와 클라우드 간의 트래픽이 가벼운 하이브리드 앱- 클라우드의 유연성 및 처리 능력을 위해 약간 확장된 대기 시간을 거래할 수 있습니다. | - 높은 수준의 확장성이 필요한 대규모 중요 업무용 워크로드를 실행하는 하이브리드 앱 | - ExpressRoute의 높은 대역폭과 고가용성 네트워크 연결이 필요한 하이브리드 앱 | - 워크로드 간의 연결에는 중앙 제어 및 공유 서비스에 대한 액세스가 필요합니다.- 엔터프라이즈는 각 스포크에서 워크로드에 대한 방화벽 및 분리된 관리와 같은 보안 측면에 대한 중앙 제어가 필요합니다. |
- 애플리케이션 제공 서비스 선택
    
    Azure는 여러 컴퓨팅 리소스에 워크로드를 분산하기 위한 여러 AI 지원 부하 분산 서비스를 제공합니다. 옵션을 검토할 때 계획에서 고려해야 할 몇 가지 요소가 있습니다.
    
    ### **부하 분산에 대해 알아야 할 사항**
    
    Azure 부하 분산 서비스를 선택할 때 이러한 구성 특성을 고려합니다.
    
    - **트래픽 유형**: 웹(HTTP/HTTPS) 애플리케이션을 디자인하고 있는지, 앱이 공용인지 비공개지
    - **전역 및 지역**: 가상 네트워크 내에서 가상 머신과 컨테이너의 부하를 분산해야 하는지, 지역 간에 배율 단위/배포의 부하를 분산해야 하는지, 또는 둘 다 필요한지
    - **가용성**: 서비스 [SLA](https://azure.microsoft.com/support/legal/sla/)가 귀하의 요구사항을 충족하는지
    - **비용**: 비용 기대치는 무엇인지, [Azure 가격 책정](https://azure.microsoft.com/pricing/) 옵션을 검토할 수 있습니다. 서비스 자체의 비용 외에도, 해당 서비스에 구축된 솔루션을 관리하기 위한 운영 비용을 고려합니다.
    - **기능 및 제한**: 각 서비스의 전반적인 제한 사항은 무엇인가요? [서비스 한도](https://learn.microsoft.com/ko-kr/azure/azure-subscription-service-limits)를 검토할 수 있습니다.
    
    다음 단원에서는 Azure Front Door, Traffic Manager, Load Balancer 및 Application Gateway를 비롯한 여러 부하 분산 서비스의 기능을 살펴봅니다.
    
    ### **부하 분산을 선택할 때 고려해야 할 사항**
    
    다음 단원에서 Azure 부하 분산 서비스에 대한 설명을 검토할 때 다음 순서도를 사용하여 애플리케이션에 적합한 솔루션을 찾을 수 있습니다. 순서도는 권장 사항에 연결할 주요 의사 결정 기준의 집합을 안내합니다.
    
    **팁) 이 순서도를 시작점으로 처리합니다.** 모든 애플리케이션에는 고유한 요구 사항이 있으므로 이러한 권장 사항을 계획의 시작점으로 사용합니다.
    
    요구 사항에 대한 가능한 솔루션을 식별한 후 시나리오에 옵션을 적용하고 자세한 평가를 수행합니다. 애플리케이션이 여러 워크로드로 구성된 경우 각 워크로드를 개별적으로 평가합니다. 완전한 솔루션은 둘 이상의 부하 분산 솔루션을 통합할 수 있습니다.
    
    ![Azure Load Balancer 네트워크 솔루션을 선택하기 위한 순서도.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-network-solutions/media/load-balancer-decision-tree-thumb.png)
    
- 애플리케이션 제공 서비스를 위한 디자인
    
    Azure는 애플리케이션을 제공하는 데 도움이 되는 여러 AI 지원 네트워킹 서비스를 제공합니다. 이 단원에서는 Front Door, Traffic Manager, Load Balancer 및 Application Gateway를 살펴봅니다. 다음은 상위 수준 비교 테이블입니다.
    
    | 기능/서비스 | Azure Front Door | 애플리케이션 게이트웨이 | 트래픽 매니저 | 부하 분산기 |
    | --- | --- | --- | --- | --- |
    | 유형 | 전역 | 지역 | 전역 | 지역/전역 |
    | 레이어 | 계층 7(HTTP/HTTPS) | 계층 7(HTTP/HTTPS) | DNS 기반 | 계층 4(TCP/UDP) |
    | 기본 사용 사례 | 웹 트래픽 부하 분산, 애플리케이션 가속 및 글로벌 라우팅 | 웹 애플리케이션 방화벽, TSL/SSL 종료 및 HTTP 부하 분산 | 고가용성 및 성능을 위한 DNS 기반 트래픽 라우팅 | 비 HTTP(S) 트래픽에 대한 내부 및 외부 부하 분산 |
    | 주요 기능 | 경로 기반 라우팅, TSL/SSL 오프로드, WAF(웹 애플리케이션 방화벽), URL 기반 라우팅 | 경로 기반 라우팅, TSL/SSL 오프로드, WAF(웹 애플리케이션 방화벽), URL 기반 라우팅 | DNS 기반 라우팅, 지리적 라우팅, 우선 순위 라우팅, 가중 라우팅 | 고가용성, 짧은 대기 시간, 영역 및 영역 중복 엔드포인트 |
    | 확장성 | 높음 | 높음 | 높음 | 높음 |
    | 비용 | 처리된 데이터 및 적용된 규칙에 따라 | 처리된 데이터, 적용된 규칙 및 SKU에 따라 | DNS 쿼리, 상태 검사 및 처리된 데이터 요소에 따라 | 처리된 규칙 및 데이터 기반 |
    
    다양한 부하 분산 장치가 네트워킹 아키텍처에서 함께 작동할 수 있습니다.
    
    ![다른 부하 분산 장치가 있는 아키텍처를 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-network-solutions/media/front-door-application-gateway.png)
    
    ### **Azure Front Door**
    
    [Azure Front Door](https://learn.microsoft.com/ko-kr/azure/frontdoor/front-door-overview) 를 사용하면 고가용성을 위해 최상의 성능 및 즉각적인 글로벌 장애 조치(failover)를 최적화하여 웹 트래픽에 대한 글로벌 라우팅을 정의, 관리 및 모니터링할 수 있습니다. Front Door를 사용하면 글로벌(다중 지역) 소비자 및 기업 애플리케이션을 글로벌 Azure 잠재 고객에게 도달하는 견고한 고성능의 맞춤형 최신 애플리케이션, API 및 콘텐츠로 변환할 수 있습니다.
    
    ### **비즈니스 시나리오**
    
    - 짧은 대기 시간: 요청이 가장 낮은 대기 시간 백 엔드로 전송되는지 확인
    - 우선 순위: 기본 및 보조 백 엔드 지원
    - 가중치: 가중치 계수를 사용하여 트래픽 분산
    - 선호도: 동일한 최종 사용자의 요청이 동일한 백 엔드로 전송되는 것을 확인
    - HTTP(S) 트래픽에 대한 WAF 및 CDN 통합을 지원합니다.
    - 콘텐츠 배달 서비스를 지원합니다.
    
    **팁**
    
    [**Azure Front Door**](https://learn.microsoft.com/ko-kr/training/modules/intro-to-azure-front-door/) 교육 모듈 소개를 통해 자세히 알아보세요.
    
    ### **Azure Traffic Manager**
    
    [Azure Traffic Manager](https://learn.microsoft.com/ko-kr/azure/traffic-manager/traffic-manager-overview)는 고가용성과 응답성을 제공하면서 트래픽을 전역 Azure 지역의 모든 서비스에 최적으로 분산할 수 있는 DNS 기반 트래픽 부하 분산 장치입니다. Traffic Manager는 우선 순위, 가중치, 성능, 지리적, 다중 값 및 서브넷과 같이 트래픽을 분산하는 다양한 트래픽 라우팅 방법을 제공합니다.
    
    ### **비즈니스 시나리오**
    
    - 애플리케이션 가용성을 높입니다.
    - 애플리케이션 성능 향상
    - 하이브리드 애플리케이션을 결합합니다.
    - 복잡한 배포에 대한 트래픽을 분산합니다.
    
    **팁**
    
    Azure Traffic Manager 교육 모듈을 [**사용하여 서비스 가용성 및 데이터 지역성 향상을 통해**](https://learn.microsoft.com/ko-kr/training/modules/distribute-load-with-traffic-manager/) 자세히 알아보세요.
    
    ### **Azure 부하 분산기**
    
    [Azure Load Balancer](https://learn.microsoft.com/ko-kr/azure/load-balancer/load-balancer-overview)는 모든 UDP 및 TCP 프로토콜에 대해 대기 시간이 낮은 고성능 계층 4 부하 분산을 제공합니다.
    
    ### **비즈니스 시나리오**
    
    - 인바운드 및 아웃바운드 연결을 관리합니다.
    - 퍼블릭 및 내부 부하 분산 엔드포인트를 구성합니다.
    - 백 엔드 풀 대상에 대한 인바운드 연결을 매핑하여 서비스 가용성을 관리합니다(TCP 및 HTTP 상태 프로브 규칙을 통해).
    
    **팁**
    
    [**Azure Load Balancer**](https://learn.microsoft.com/ko-kr/training/modules/intro-to-azure-load-balancer/) 학습 모듈 소개를 통해 자세히 알아보세요.
    
    ### **Azure Application Gateway**
    
    [Azure Application Gateway](https://learn.microsoft.com/ko-kr/azure/application-gateway/overview)는 웹 애플리케이션에 대한 트래픽을 관리할 수 있는 웹 트래픽 부하 분산 장치입니다. Application Gateway는 애플리케이션에 다양한 계층 7 부하 분산 기능을 제공하는 서비스형 ADC(Application Delivery Controller)입니다. 트래픽 라우팅에는 경로 기반 라우팅 및 다중 사이트 라우팅의 두 가지 기본 방법이 있습니다.
    
    ### **비즈니스 시나리오**
    
    - 경로 기반 라우팅: URL 경로가 다른 요청을 다른 백 엔드 서버 풀로 보냅니다.
    - 다중 사이트 라우팅: 가상 머신 또는 웹 애플리케이션을 호스트하는 다른 리소스가 있는 테넌트를 지원합니다.
    
    **팁) [Azure Application Gateway](https://learn.microsoft.com/ko-kr/training/modules/intro-to-azure-application-gateway/)** 교육 모듈 소개를 통해 자세히 알아보세요.
    
- 애플리케이션 보호 서비스를 위한 디자인
    
    Azure는 네트워크 리소스를 보호하는 데 도움이 되는 몇 가지 네트워킹 서비스를 제공합니다. 하나의 서비스 또는 서비스 조합을 사용하여 애플리케이션을 보호할 수 있습니다. 이 단원에서는 Azure DDoS Protection, Azure Firewall, Private Link, 웹 애플리케이션 방화벽 및 Virtual Network 보안 그룹을 살펴봅니다. 이 다이어그램은 프라이빗 클라우드의 네트워크 방어를 자세히 보여 줍니다.
    
    ![다양한 보호 수준의 네트워크 요소를 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-network-solutions/media/network-defense-in-depth-private.png)
    
    ### **Azure DDoS Protection(분산 서비스 거부 보호)**
    
    [Azure DDoS Protection](https://learn.microsoft.com/ko-kr/azure/ddos-protection/manage-ddos-protection)은 매우 정교한 DDoS 위협에 대한 대책을 제공합니다. 이 서비스는 가상 네트워크에 배포된 애플리케이션 및 리소스에 대해 향상된 DDoS 완화 기능을 제공합니다. 또한 Azure DDoS Protection을 사용하는 고객은 DDoS Rapid Response 지원에 액세스하여 활성 공격 중에 DDoS 전문가에 참여할 수 있습니다.
    
    ### **비즈니스 시나리오**
    
    - Always-On 트래픽 모니터링, 적응형 튜닝 및 완화 크기 조정을 구현합니다.
    - 공격 분석, 메트릭 및 경고를 포함한 다중 계층 보호에 액세스합니다.
    - DDoS 빠른 대응 팀의 지원을 받습니다.
    
    **팁**
    
    [**Azure DDoS Protection**](https://learn.microsoft.com/ko-kr/training/modules/introduction-azure-ddos-protection/) 학습 모듈 소개를 통해 자세히 알아보세요.
    
    ### **Azure Private Link**
    
    [Azure Private Link](https://learn.microsoft.com/ko-kr/azure/private-link/private-link-overview)를 사용하면 가상 네트워크의 프라이빗 엔드포인트를 통해 Azure PaaS 서비스(예: Azure Storage 및 SQL Database)와 Azure 호스트된 고객 소유/파트너 서비스에 액세스할 수 있습니다. 가상 네트워크와 서비스 사이의 트래픽은 Microsoft 백본 네트워크를 통해 이동합니다. 서비스를 공용 인터넷에 더 이상 노출할 필요가 없습니다. 가상 네트워크에 자체 프라이빗 링크 서비스를 만들어서 고객에게 제공할 수도 있습니다. 프라이빗 링크는 Azure Storage, Azure SQL, App Services 등 PaaS 서비스에 액세스하는 데 사용됩니다.
    
    ### **비즈니스 시나리오**
    
    - Azure의 서비스에 대한 프라이빗 연결을 활성화합니다.
    - 온-프레미스 및 피어된 네트워크와 통합합니다.
    - 공용 인터넷 액세스 없이 Microsoft 네트워크로 트래픽을 제한합니다.
    
    **팁**
    
    [**Azure Private Link**](https://learn.microsoft.com/ko-kr/training/modules/introduction-azure-private-link/) 교육 모듈 소개를 통해 자세히 알아보세요.
    
    ### **Azure Firewall**
    
    Azure Firewall은 Azure Virtual Network 리소스를 보호하는 관리되는 클라우드 기반 네트워크 보안 서비스입니다. 고가용성 및 무제한 클라우드 확장성이 내장되어 있는 서비스 형태의 완전한 상태 저장 방화벽입니다. Azure Firewall은 가상 네트워크 리소스에 정적 공용 IP 주소를 사용하기 때문에 외부 방화벽이 사용자의 가상 네트워크에서 시작된 트래픽을 식별할 수 있습니다. Azure Firewall은 비 HTTP/S 프로토콜(예: RDP, SSH 및 FTP)에 대한 인바운드 보호 기능, 모든 포트 및 프로토콜에 대한 아웃바운드 네트워크 수준 보호 기능 및 아웃바운드 HTTP/S에 대한 애플리케이션 수준 보호 기능을 제공합니다.
    
    ### **비즈니스 시나리오**
    
    - 애플리케이션 및 네트워크 연결 정책의 중앙 집중화된 생성, 적용 및 로깅을 구현합니다.
    - 구독 및 가상 네트워크에 연결 정책을 적용합니다.
    - 가상 머신 관리 포트에 대한 액세스를 제한하려면 Azure Firewall 규칙을 JIT(Just-In-Time) 액세스와 결합합니다.
    
    **팁**
    
    [**Azure Firewall**](https://learn.microsoft.com/ko-kr/training/modules/introduction-azure-firewall/) 교육 모듈 소개를 통해 자세히 알아보세요.
    
    ### **Azure 웹 애플리케이션 방화벽**
    
    [AZURE WAF(웹 애플리케이션 방화벽)](https://learn.microsoft.com/ko-kr/azure/web-application-firewall/overview) 는 일반적인 웹 악용 및 SQL 삽입 및 사이트 간 스크립팅과 같은 취약성으로부터 웹 애플리케이션을 보호합니다. Web Application Firewall은 관리형 규칙을 통해 OWASP 상위 10개 취약성에 대한 보호를 기본 제공합니다. 원본 IP 범위 및 요청 특성(헤더, 쿠키, 양식 데이터 필드, 쿼리 문자열 매개 변수)에 따라 추가 보호를 위한 고객 관리 규칙을 구성합니다. 애플리케이션 코드에서 유사한 공격을 방지하는 것은 어려울 수 있습니다. 프로세스에서 애플리케이션 토폴로지의 여러 계층에서 엄격한 유지 관리, 패치 적용 및 모니터링이 필요할 수 있습니다. 중앙 집중식 웹 애플리케이션 방화벽은 보안 관리를 간소화하는 데 도움이 됩니다. 웹 애플리케이션 방화벽은 애플리케이션 관리자에게 위협 및 침입에 대한 보호를 더 강력하게 보증합니다.
    
    ### **비즈니스 시나리오**
    
    - 개별 웹앱을 보호하는 대신 알려진 취약성을 중앙에서 패치하여 보안 위협에 더 빠르게 대응합니다.
    - Application Gateway, Front Door 및 Content Delivery Network를 사용하여 Web Application Firewall을 배포합니다.
    
    **팁**
    
    [**Azure Web Application Firewall**](https://learn.microsoft.com/ko-kr/training/modules/introduction-azure-web-application-firewall/) 교육 모듈 소개를 통해 자세히 알아보세요.
    
    ### **Azure 가상 네트워크 보안 그룹**
    
    [Azure NSG(네트워크 보안 그룹)](https://learn.microsoft.com/ko-kr/azure/virtual-network/network-security-groups-overview)을 사용하여 Azure 가상 네트워크의 Azure 리소스와 주고받는 네트워크 트래픽을 필터링할 수 있습니다. Azure Firewall 또는 다른 공급업체의 방화벽과 같은 NVA(네트워크 가상 어플라이언스)를 사용할 수 있습니다.
    
    NSG에는 서브넷, NIC(네트워크 인터페이스 카드) 또는 둘 다에 대한 네트워크 트래픽을 허용하거나 거부하는 ACL(액세스 제어 목록) 규칙 목록이 포함되어 있습니다. NSG는 서브넷 또는 서브넷에 연결된 개별 NIC와 연결될 수 있습니다. NSG가 서브넷에 연결된 경우 ACL 규칙은 해당 서브넷의 모든 가상 머신 인스턴스에 적용됩니다.
    
    NSG에는 인바운드 및 아웃바운드의 두 가지 규칙 집합이 포함되어 있습니다. 규칙에 대한 우선 순위는 각 집합 내에서 고유해야 합니다. 각 규칙에는 프로토콜, 원본 및 대상 포트 범위, 주소 접두사, 트래픽 방향, 우선 순위 및 액세스 유형에 관한 속성이 있습니다. 모든 NSG에는 기본 규칙 집합이 포함됩니다. 기본 규칙은 삭제할 수 없지만 가장 낮은 우선 순위가 할당되어 있으므로 사용자 지정 규칙으로 재정의될 수 있습니다.
    
    ### **비즈니스 시나리오**
    
    - Azure가 서브넷에서 트래픽을 라우팅하는 방법을 제어합니다.
    - 조직에서 가상 네트워크의 리소스로 작업할 수 있는 사용자를 제한합니다.
    - NSG를 NIC에 직접 연결하여 트래픽을 개별 NIC로 제한합니다.
    - NSG를 JIT 액세스와 결합하여 가상 머신 관리 포트에 대한 액세스를 제한합니다.

### 마이그레이션 설계

- 클라우드 채택 프레임워크를 사용하여 마이그레이션
    
    Azure용 Microsoft 클라우드 채택 프레임워크는 조직의 Azure 채택을 추진하는 데 도움이 되는 권장 사항, 모범 사례 지침, 설명서 및 도구를 제공합니다. 이 클라우드 채택 프레임워크는 전략 정의, 마이그레이션 계획 및 준비, 팀 및 역할에 맞게 조직 구조를 설정하는 방법론을 지원합니다. 기존 워크로드를 마이그레이션 및 현대화하고 새로운 클라우드 네이티브 또는 하이브리드 솔루션을 개발할 수 있습니다. 클라우드 채택 프레임워크 도구를 사용하여 환경 및 워크로드를 관리하고 클라우드 및 하이브리드 솔루션에 대한 작업을 관리할 수 있습니다.
    
    이 다이어그램은 클라우드 채택 수명 주기 내의 클라우드 채택 프레임워크 방법론을 보여 줍니다.
    
    ![전략, 계획, 준비, 채택, 관리 및 관리를 비롯한 클라우드 채택 프레임워크 방법론을 보여 주는 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-migrations/media/cloud-adoption-framework.png)
    
    ### **클라우드 채택 및 마이그레이션에 대해 알아야 할 사항**
    
    Tailwind Traders는 충분한 계획 없이 클라우드 채택을 수행하면 안 됩니다. 특히 클라우드 채택 수명 주기의 마이그레이션 단계는 신중하게 진행하는 것이 좋습니다. 마이그레이션을 준비하려면 다음 설명서를 검토하세요.
    
    - [Azure 마이그레이션 가이드 개요](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/migrate/azure-migration-guide) Azure 마이그레이션 가이드를 검토하여 Azure 네이티브 도구 및 관련 마이그레이션 방법에 대해 알아보세요.
    - [IT 포트폴리오를 마이그레이션하는 원 마이그레이션 접근 방식](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/scenarios) 마이그레이션 방법론에서 캡처한 시나리오를 살펴봅니다. 예제에서는 Microsoft 및 타사 기술을 마이그레이션하기 위한 동일한 일관적인 지침 및 프로세스 세트를 보여 줍니다.
    - [클라우드 채택 프레임워크 마이그레이션 모델](https://learn.microsoft.com/ko-kr/azure/cloud-adoption-framework/migrate/migration-considerations) 마이그레이션을 이해하고 마이그레이션 프로세스가 집중적인 작업이 될 수 있는 이유를 이해하려면 이 문서를 살펴봅니다. 마이그레이션 활동이 늘어나면 마이그레이션의 여러 측면을 최적화하는 데 도움이 되는 프로세스 개선 사항을 검토하세요.
    
    ### **마이그레이션 채택을 구현할 때 고려해야 할 사항**
    
    Tailwind Traders에 대한 마이그레이션 채택 프로세스는 각 워크로드에 대한 세 가지 단계 또는 *작업*에 해당하는 *평가*, *배포* 및 *릴리스*로 구성되어야 합니다. 다음 표와 그림에는 마이그레이션 채택 작업이 요약되어 있습니다.
    
    | 활동 | 설명 |
    | --- | --- |
    | *평가* | 워크로드를 평가하여 비용, 현대화 및 필수 배포 도구를 확인합니다. |
    | *배포* | 워크로드를 평가한 후 클라우드에서 기존 워크로드 기능이 복제(또는 개선)됩니다. |
    | *릴리스* | 워크로드가 클라우드에 배포(복제)된 후에는 마이그레이션된 워크로드를 테스트, 최적화 및 문서화할 수 있습니다. 준비가 되면 사용자에게 워크로드를 릴리스할 수 있습니다. *릴리스* 작업 동안 지속적인 워크로드 지원을 위해 거버넌스, 운영 관리 및 보안 팀에 워크로드를 전달해야 합니다. |
    
    ![평가, 배포 및 릴리스를 포함한 워크로드에 대한 마이그레이션 채택 작업의 다이어그램](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-migrations/media/migrate-methodology.png)
    
- Azure 마이그레이션 프레임워크에 대해 설명
    
    Tailwind Traders의 온-프레미스 워크로드를 Azure로 마이그레이션하기 전에, 마이그레이션 계획을 수립해야 합니다. 계획을 통해 마이그레이션할 워크로드와 마이그레이션 도중 사용할 적절한 서비스 또는 도구를 알 수 있습니다. 마이그레이션된 서비스를 최적화하는 방법에 대한 자세한 내용까지 계획에 포함하는 것이 가장 좋습니다.
    
    Azure 마이그레이션 프레임워크는 계획을 개발하고 마이그레이션을 통해 작업하는 데 도움이 될 수 있습니다. 프레임워크는 *평가*, *마이그레이션*, *최적화* 및 *모니터*의 네 단계로 구성됩니다.
    
    ### **1단계: 온-프레미스 환경 평가**
    
    첫 번째 단계에서는 현재 온-프레미스 환경을 평가합니다.
    
    - 앱 및 앱과 관련된(즉, 마이그레이션 범위 내에 있는) 서버, 서비스 및 데이터를 파악합니다.
    - IT 부서 및 관련 비즈니스 그룹과 같은 관련자를 참여시키기 시작합니다.
    - 마이그레이션하려는 서버, 서비스 및 앱의 전체 인벤토리 및 종속성 맵을 만듭니다.
    - Azure TCO(총 소유 비용 계산기)를 사용하여 비용 절감액을 예측합니다.
    - 4가지 단계를 수행하는 데 사용할 수 있는 적절한 도구와 서비스를 파악합니다.
    
    ### **마이그레이션 전략 패턴**
    
    워크로드를 클라우드로 마이그레이션하기 위한 네 가지 광범위한 전략 패턴인 다시 호스트, 리팩터링, 재설계 및 다시 빌드가 있습니다. 비즈니스 영향 요소와 마이그레이션 목표에 따라 채택하는 전략이 달라집니다. 여러 패턴을 채택하는 것이 좋습니다. 간단한 앱이나 비즈니스에 중요하지 않은 앱은 다시 호스트하고, 복잡하고 비즈니스에 중요한 앱은 다시 설계하도록 선택할 수 있습니다.
    
    - **다시 호스팅**: 다시 호스팅을 *리프트 앤 시프트 마이그레이션*이라고도 합니다. 이 전략을 사용하면 코드 변경이 필요하지 않으므로 기존 워크로드를 Azure로 빠르게 마이그레이션할 수 있습니다. 각 워크로드는 코드 변경과 관련된 위험이나 비용 없이 현재 상태 그대로 마이그레이션됩니다.
    - **리팩터링**: 리팩터링은 흔히 *재포장*이라고도 합니다. 앱을 최소한으로 변경해야 앱을 Azure PaaS(Platform as a Service)에 연결하여 클라우드 제품을 사용할 수 있습니다. 기존 앱을 Azure App Service 또는 AKS(Azure Kubernetes Service)로 마이그레이션할 수 있습니다. 또는 관계형 및 비관계형 데이터베이스를 다른 옵션으로 리팩터링할 수 있습니다. Azure SQL Managed Instance, Azure Database for MySQL, Azure Database for PostgreSQL, Azure Cosmos DB로 리팩터링합니다(애플리케이션이 Azure에서 작동하도록 쉽게 다시 패키징되는 경우).
    - **아키텍처 변경**: 마이그레이션을 위한 다시 설계는 클라우드 확장성을 위해 앱 아키텍처를 최적화하기 위해 앱 기능 및 코드 베이스를 수정하고 확장하는 데 중점을 둡니다. 모놀리식 애플리케이션을 함께 작동하고 쉽게 스케일링되는 마이크로 서비스 그룹으로 나눌 수 있습니다. 관계형 및 비관계형 데이터베이스를 완전 관리형 데이터베이스 솔루션으로 다시 아키텍처를 지정할 수도 있습니다. Azure SQL Managed Instance, Azure Database for MySQL, Azure Database for PostgreSQL, Azure Cosmos DB를 재설계합니다.
    - **다시 빌드**: 다시 빌드는 Azure 클라우드 기술을 사용하여 앱을 완전히 다시 빌드하여 한 단계 더 발전합니다. Azure Functions, Azure AI, Azure SQL Managed Instance, Azure Cosmos DB 등의 클라우드 네이티브 기술을 사용하여 개발 가능한 앱을 빌드할 수 있습니다.
    
    다음 표에서는 네 가지 패턴으로 작업하기 위한 시나리오를 나열합니다.
    
    | 다시 호스트 | 리팩터링 | 아키텍처 변경 | 다시 빌드 |
    | --- | --- | --- | --- |
    | *워크로드를 클라우드로 빠르게 이동*워크로드를 수정하지 않고 이동마이그레이션 후 Azure IaaS 스케일링 성능을 활용하도록 설계된 앱의 경우워크로드가 비즈니스에 중요하지만 앱 기능을 즉시 변경할 필요가 없는 경우 | Azure에서 제공하는 혁신적인 DevOps 사례 적용워크로드에 대한 DevOps 컨테이너 전략 구현기존 코드 베이스의 이식성 및 사용 가능한 개발 기술 지원 | 새로운 기능을 통합하려면 앱에 주요 수정 버전이 필요앱이 클라우드 플랫폼에서 효과적으로 작동하려면 주 버전 개정 필요기존 애플리케이션 투자 사용스케일링 성능 요구 사항 충족혁신적인 DevOps 사례 적용가상 머신 사용 최소화 | 신속한 개발기능 및 수명이 제한된 기존 앱 지원DevOps 방식을 사용하여 비즈니스 혁신을 빠르게 추진Azure Blockchain과 같은 새로운 클라우드 네이티브 기술로 다시 빌드클라우드에서 레거시 애플리케이션을 “코드 앱 없음” 또는 “낮은 앱”으로 다시 빌드 |
    
    ### **2단계: 워크로드 마이그레이션**
    
    평가를 완료한 후에는 대상 앱과 관련 서비스 및 데이터를 마이그레이션하는 프로세스를 시작할 수 있습니다. 마이그레이션 스테이지는 일반적으로 다음과 같은 활동으로 구성됩니다.
    
    - **클라우드 인프라 대상을 배포합니다**. Tailwind Traders의 워크로드를 마이그레이션하려면 필요한 클라우드 인프라 대상을 만들어야 합니다. 마이그레이션에 사용하는 도구에 따라, 마이그레이션을 시작하기 전에 필요한 Azure 리소스를 만들어야 할 수도 있습니다. Azure Migrate 및 Azure Database Migration Service와 같은 일부 도구는 대상 Azure 리소스를 자동으로 만들 수 있습니다.
    - **워크로드를 마이그레이션합니다**. 워크로드 마이그레이션의 파일럿을 수행하고 파일럿에 중요하지 않은 앱을 선택하는 것이 좋습니다. 이 방법을 사용하면 도구에 익숙해지고, 프로세스 및 절차에 대한 경험을 쌓고, 크거나 복잡한 워크로드를 마이그레이션할 때 위험을 줄일 수 있습니다.
    - **온-프레미스 인프라 서비스 해제**: 원본 앱 및 데이터베이스가 성공적으로 마이그레이션된 것을 만족한 후에는 원본 워크로드를 해제해야 합니다. 원본 워크로드 백업과 보관된 데이터는 유지하는 것이 좋습니다. 이 데이터는 기록 아카이브를 제공하므로 유용하게 사용할 수 있습니다. 백업 및 보관 데이터를 Azure Blob Storage에 저장할 수 있습니다.
    
    ### **3단계: 마이그레이션된 워크로드 최적화**
    
    최적화 단계의 경우 계획에 집중해야 하는 세 가지 주요 작업이 있습니다.
    
    - 워크로드에 대한 마이그레이션 비용을 분석합니다.
    - 비용 절감을 위한 권장 사항을 검토합니다.
    - 워크로드 성능을 개선하기 위한 옵션을 식별합니다.
    
    Azure Portal에서 Microsoft Cost Management를 사용하여 워크로드 비용을 분석할 수 있습니다. 이 도구는 마이그레이션된 워크로드를 포함하는 Azure 리소스 그룹에 사용할 수 있습니다. **비용 분석**>**Cost Management** 섹션에서 도구를 찾을 수 있습니다. 다음 스크린샷은 `ContosoResourceGroup` 리소스 그룹의 마지막 청구 가능 기간에 대한 비용 분석을 보여 줍니다. 서비스 이름, 지역, 리소스에 따라 결과는 비용을 보여 줍니다. 필요에 맞게 표시 결과를 사용자 지정할 수 있습니다.
    
    ![Azure Portal에서 예상 비용이 있는 비용 분석 예제를 보여 주는 스크린샷.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-migrations/media/cost-analysis.png)
    
    비용을 줄이기 위해 **Advisor 권장 사항을** 선택하여 Azure Advisor 기능을 사용할 수 있습니다. 현재 비용을 분석하고 권장 사항을 검토한 후 워크로드 성능을 개선하기 위한 옵션을 결정할 수 있습니다.
    
    ### **4단계: 워크로드 모니터링**
    
    Azure Monitor를 사용하여 Azure 가상 머신의 상태 및 성능 정보를 캡처할 수 있습니다. Azure Monitor는 Linux 또는 Windows를 실행하는 컴퓨터에서 작동합니다. 경고와 보고를 설정하는 것은 쉽습니다. 다양한 데이터 원본을 기반으로 다음과 같은 경고를 설정할 수 있습니다.
    
    - CPU 사용량과 같은 특정 메트릭 값
    - 로그 파일의 특정 텍스트
    - 상태 메트릭
    - 자동 크기 조정 메트릭.
- 온-프레미스 워크로드 평가
    
    Tailwind Traders의 마이그레이션 프로젝트를 시작하기 전에 Azure에서 마이그레이션 프로세스를 지원하기 위해 제공하는 도구, 절차 및 서비스를 검토해야 합니다.
    
    ### **마이그레이션 도구 및 서비스에 대해 알아야 할 사항**
    
    마이그레이션의 4단계를 계획하고 완료하는 데 도움이 되는 다양한 도구와 서비스가 있습니다. 대부분의 마이그레이션에는 여러 절차와 서비스가 필요합니다. 한두 가지 서비스나 도구만 필요한 마이그레이션도 있습니다.
    
    | 서비스 또는 도구 | Stage | Description |
    | --- | --- | --- |
    | **Azure Migrate** | *평가* 및 *마이그레이션* | Azure Migrate는 가상 머신(Hyper-V 및 VMware), 클라우드 기반 가상 머신, 물리적 서버, 데이터베이스, 데이터, 가상 데스크톱 인프라 및 웹 애플리케이션을 평가하고 Azure로 마이그레이션합니다. |
    | **데이터베이스 마이그레이션 서비스** | *평가* 및 *마이그레이션* | Azure Database Migration Service는 Azure SQL 데이터베이스뿐만 아니라 여러 데이터베이스의 평가 및 마이그레이션을 수행합니다. |
    | **데이터 마이그레이션 도구** | *Migrate* | Azure Cosmos DB 데이터 마이그레이션 도구는 기존 데이터베이스를 Azure Cosmos DB로 마이그레이션합니다. |
    | **Microsoft Cost Management** | *Optimize* | Microsoft Cost Management는 진행 중인 Azure 비용을 모니터링, 최적화 및 제어하는 데 도움이 됩니다. |
    | **Advisor** | *Monitor* | Azure Advisor는 Azure 리소스를 최적화하여 안정성, 성능, 비용, 보안 및 운영 효율성을 향상하는 데 도움이 됩니다. |
    | **Monitor** | *Monitor* | Azure Monitor는 데이터를 분석하고, 경고를 설정하며, 문제를 식별하는 데 도움이 되는 온-프레미스 및 Azure 리소스 모두에서 모니터링 데이터를 수집합니다. |
    | **Microsoft Sentinel** | *Monitor* | Microsoft Sentinel은 애플리케이션에 대한 인텔리전트 보안 분석을 제공하여 인시던트를 수집, 탐지, 조사 및 대응할 수 있도록 합니다. |
    
    ## **Azure Migrate**
    
    Azure Migrate를 사용하면 에이전트 없는 환경 검색을 수행하거나 에이전트를 사용하여 종속성 분석을 수행할 수 있습니다. Azure Portal에서 Azure Migrate 기능에 액세스하여 현재 온-프레미스 워크로드를 평가할 수 있습니다. Azure Migrate는 만들어야 하는 가상 머신의 크기에 대한 권장 사항을 제공합니다. 관리 팀이 예산을 설정할 수 있도록 해당 머신이 사용하는 리소스의 예상 비용을 파악해 둘 수 있습니다.
    
    Azure Migrate는 마이그레이션할 머신의 성능 기반 크기 계산(가상 머신 크기, 컴퓨팅/스토리지)을 지원하고, 해당 머신을 Azure에서 실행할 경우 지속적으로 발생할 비용을 추정할 수 있도록 합니다. Azure Migrate에서는 Hyper-V와 VMware 기반 가상 머신 및 물리적 서버를 모두 평가할 수 있습니다.
    
    또한 Azure Migrate는 해당 머신의 종속성을 시각화하도록 지원합니다. 그뿐 아니라 머신의 평가 및 Azure로의 마이그레이션을 한 번에 진행할 수 있도록 머신 그룹을 만들어 줍니다.
    
    ### **서버 평가에 대해 알아야 할 사항**
    
    Azure Migrate에는 마이그레이션을 준비하는 데 도움이 되는 몇 가지 평가 도구가 포함되어 있습니다. 에이전트 없는 검색을 수행하려면 Azure Migrate: Server Assessment 도구를 사용합니다.
    
    서버 평가는 간단한 수집기 어플라이언스를 다운로드하는 과정을 안내합니다. 이 어플라이언스는 사용자 환경의 시스템을 검색합니다. 이 도구는 이 어플라이언스에서 수집한 데이터를 사용하여 가상 머신 코어 수, 메모리, 디스크 크기 및 네트워크 어댑터에 대한 데이터를 파악합니다. 해당하는 경우, CPU 및 메모리 사용량, 디스크 IOPS, 디스크 처리량 및 네트워크 출력과 같은 성능 데이터도 수집합니다.
    
    수집이 완료된 데이터는 Azure Migrate 프로젝트로 푸시됩니다. Azure Portal에서 검색된 시스템을 확인하고 보고서를 다운로드할 수 있습니다. 서버를 평가하는 전체 프로세스는 다음과 같이 시각화할 수 있습니다.
    
    1. 어플라이언스 다운로드 및 구성.
    2. 검색 시작.
    3. 평가 만들기.
    4. 평가를 검토하세요.
    
    ![Azure Migrate 서버 평가 도구를 사용하여 서버 평가를 수행하는 방법을 보여 주는 순서도.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-migrations/media/migrate-discovery.png)
    
- 마이그레이션 도구 선택
    
    Tailwind Traders의 온-프레미스 워크로드를 평가한 후에는 워크로드를 Azure로 마이그레이션하는 방법을 고려할 수 있습니다. Azure Migrate에는 특정 요구 사항에 따라 워크로드를 마이그레이션하기 위한 여러 도구가 있습니다. 이 단원에서는 Azure Migrate를 자세히 살펴보고 Azure Resource Mover도 살펴봅니다.
    
    ## **Azure Migrate (Azure 마이그레이션)**
    
    앞 단원에서 살펴보았듯이 Azure Migrate는 다양한 워크로드를 평가하고 Azure로 마이그레이션하는 데 사용할 수 있는 중앙 집중식 허브의 기능입니다. Azure Migrate를 사용하여 애플리케이션 및 가상 머신을 포함한 워크로드의 마이그레이션을 수행할 수 있습니다. Microsoft Azure로 마이그레이션할 수 있는 워크로드에는 온-프레미스 서버, 인프라, 애플리케이션 및 데이터가 있습니다.
    
    ![Azure Migrate: 검색 및 평가 도구를 보여 주는 스크린샷.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-migrations/media/discover-assess.png)
    
    ### **Azure Migrate에 대해 알아야 할 사항**
    
    Azure Migrate에는 마이그레이션 프로세스를 지원하는 다음 구성 요소가 포함되어 있습니다.
    
    - **통합 마이그레이션 플랫폼**: Azure Migrate는 Azure로 마이그레이션을 수행하고 마이그레이션 상태를 추적할 수 있는 단일 포털을 제공합니다.
    - **평가 및 마이그레이션 도구**: Azure Migrate는 서버 평가, 서버 마이그레이션 및 기타 ISV(독립 소프트웨어 공급업체) 도구를 비롯한 여러 평가 및 마이그레이션 도구를 제공합니다.
    - **다양한 워크로드에 대한 평가 및 마이그레이션 기능**: Azure Migrate 허브는 마이그레이션을 위해 여러 다른 워크로드를 지원합니다.
        - 서버: 온-프레미스 서버를 평가하고 Azure 가상 머신으로 마이그레이션합니다. Linux와 Windows 서버 모두에서 마이그레이션이 가능합니다.
        - 데이터베이스: 온-프레미스 데이터베이스를 평가하고 Azure SQL Database 또는 Azure SQL 관리되는 인스턴스로 마이그레이션합니다.
        - 웹 애플리케이션: Azure App Service Migration Assistant를 사용하여 온-프레미스 웹 애플리케이션을 평가하고 Azure App Service로 마이그레이션합니다.
        - 가상 데스크톱: 온-프레미스 VDI(가상 데스크톱 인프라)를 평가하고 Azure Virtual Desktop으로 마이그레이션합니다.
        - 데이터: Azure Data Box 제품을 사용하여 대량의 데이터를 Azure로 마이그레이션합니다.
    - **Azure Migrate 허브 도구**: Azure Migrate 허브는 많은 마이그레이션 도구에 대한 액세스를 제공합니다.
        
        
        | 도구 | 사용량 |
        | --- | --- |
        | Azure Migrate: 검색 및 평가: 서버 평가 | SQL 및 웹앱을 포함한 서버를 검색하고 평가합니다. |
        | Azure Migrate: 서버 마이그레이션 | 서버 마이그레이션 |
        | 앱 서비스 마이그레이션 어시스턴트 | Windows OS에서 App Service로 .NET 웹앱 마이그레이션 |
        | SQL Server Data Migration Assistant(DMA) | Azure SQL Database, Azure SQL Managed Instance 또는 SQL Server를 실행하는 Azure 가상 머신으로 마이그레이션할 SQL Server 데이터베이스를 평가합니다 |
        | Azure Database Migration Service | 온-프레미스 데이터베이스를 SQL Server, Azure SQL Database, SQL Managed Instance를 실행하는 Azure 가상 머신으로 마이그레이션합니다 |
        | Web App Migration Assistant | 온-프레미스 웹앱을 평가하고 Azure로 마이그레이션 |
        | Azure Data Box | 오프라인 데이터 마이그레이션 |
    
    ## **Azure Resource Mover**
    
    Azure Resource Mover는 구독, 리소스 그룹 및 지역 간에 Azure 리소스를 이동하는 데 도움이 되는 도구입니다. Azure Resource Mover는 다음과 같은 이점을 제공합니다.
    
    - 리소스를 이동하기 위한 단일 위치
    - 간단하게 빠르게 리소스 이동
    - 여러 유형의 Azure 리소스를 이동할 수 있는 일관적인 인터페이스 및 절차
    - 이동하려는 리소스 간 종속성을 파악하는 방법
    - 원본 지역의 리소스 자동 정리
    - 커밋하기 전에 이동 작업을 테스트하는 기능
    
    ### **Azure Resource Mover로 마이그레이션할 때 고려해야 할 사항**
    
    Azure Resource Mover는 다음 두 가지 방법으로 사용할 수 있습니다.
    
    - **마이그레이션하기 전에** 리소스를 구성합니다.
    - **마이그레이션한 후** 리소스 조직을 최적화합니다.
    
    **팁**
    
    Azure로 워크로드를 마이그레이션한 후 Azure Resource Mover를 사용하여 최근에 마이그레이션한 리소스를 구독, 지역 또는 리소스 그룹 간에 이동하는 것을 고려합니다.
    
- 데이터페이스에서 구조화된 데이터 마이그레이션
    
    대부분의 애플리케이션은 데이터베이스를 사용하여 애플리케이션에서 사용하는 데이터를 저장합니다. Tailwind Traders 마이그레이션 계획의 경우 데이터의 클라우드 이동을 적절하게 지원하기 위해서는 데이터베이스를 Azure로 마이그레이션하는 방법을 이해하는 것이 중요합니다. 이 프로세스에서는 Azure Migrate의 다른 구성 요소인 Azure Database Migration Service를 살펴봅니다.
    
    ## **Azure Database Migration Service**
    
    [Azure Database Migration Service](https://learn.microsoft.com/ko-kr/azure/dms/dms-overview)는 Azure Migrate의 일부입니다. 지원되는 시나리오는 다음과 같습니다.
    
    - Azure SQL 데이터베이스
    - Azure SQL Managed Instance (Azure SQL 관리 인스턴스)
    - Azure SQL VM
    - Azure Cosmos DB
    - Azure MySQL용 데이터베이스
    - Azure PostgreSQL 데이터베이스
    
    ### **Database Migration Service에 대해 알아야 할 사항**
    
    Azure Database Migration Service는 완전히 관리되는 서비스입니다. 이 서비스를 사용하면 여러 데이터베이스 원본에서 Azure 데이터 플랫폼으로 원활하게 마이그레이션할 수 있습니다. 데이터베이스를 오프라인으로 또는 온라인 상태일 때 마이그레이션할 수 있습니다.
    
    - **오프라인 마이그레이션**: 오프라인 마이그레이션을 수행하려면 마이그레이션을 시작할 때 서버를 종료해야 합니다. 애플리케이션 가동 중지 시간을 감당할 수 없는 경우 온라인 마이그레이션을 사용합니다.
    - **온라인 마이그레이션**: 온라인 마이그레이션의 경우 라이브 데이터의 지속적인 동기화를 사용하므로 언제든지 Azure 복제 데이터베이스로 전환할 수 있습니다. 온라인 마이그레이션은 가동 중지 시간을 최소화합니다.
    
    모든 마이그레이션 시나리오에 오프라인 및 온라인 기능이 모두 있는 것은 아닙니다.
    
    | 마이그레이션 시나리오 | 마이그레이션 모드 |
    | --- | --- |
    | SQL Server에서 Azure SQL Managed Instance로 | 온라인 또는 오프라인 |
    | SQL Server에서 Azure 가상 머신의 SQL Server로 | 온라인 또는 오프라인 |
    | SQL Server에서 Azure SQL Database로 마이그레이션 | 오프라인 |
    
    ### **Database Migration Service를 사용할 때 고려해야 할 사항**
    
    데이터베이스 마이그레이션 솔루션을 선택할 때 중요한 기능을 결정합니다.
    
    - 호환성 문제를 식별하기 위해 평가가 필요한가요?
    - SKU 권장 사항이 필요한가요?
    - 데이터베이스 로그인 및 스키마를 마이그레이션해야 합니까?
    - 프로세스를 자동화해야 합니까?
    - 특정 제품 시나리오가 있나요?
    - 다른 마이그레이션 도구와 통합해야 합니까?
- 비구조적 데이터에 대한 온라인 스토리지 마이그레이션 도구 선택
    
    조직은 애플리케이션, 가상 머신, 데이터베이스 및 기타 구조적 데이터를 마이그레이션하는 것 외에도 비구조적 데이터를 이동해야 합니다. 이 데이터는 여러 위치에 저장되고 자주 변경될 수 있습니다. 따라서 비구조적 데이터가 포함된 스토리지를 마이그레이션하는 것이 어려울 수 있습니다. Tailwind Traders 마이그레이션을 계획하기 위해 Azure Storage Mover와 Azure 파일 동기화를 사용하여 온-프레미스의 구조화되지 않은 온라인 데이터를 이동하는 방법을 살펴보겠습니다.
    
    ## **Azure Storage Mover**
    
    [Azure Storage Mover](https://learn.microsoft.com/ko-kr/azure/storage-mover/)는 워크로드의 가동 중지 시간을 최소화하면서 파일과 폴더를 Azure Storage로 마이그레이션할 수 있는 비교적 새로운 완전 관리형 마이그레이션 서비스입니다.
    
    리프트 앤 시프트와 같은 다양한 마이그레이션 시나리오와 정기적으로 반복해야 하는 마이그레이션에 Storage Mover를 사용할 수 있습니다. 또한 Azure Storage Mover는 단일 스토리지 이동기 리소스에서 전역적으로 분산된 모든 파일 공유 마이그레이션을 지속적으로 감독하고 관리하는 데 도움이 됩니다.
    
    ### **Azure Storage Mover에 대해 알아야 할 사항**
    
    Azure Storage Mover는 NFS 공유와 SMB 공유 모두에서 작동합니다.
    
    ![Storage Mover 아키텍처를 보여 주는 일러스트레이션입니다.](https://learn.microsoft.com/ko-kr/training/wwl-azure/design-migrations/media/storage-mover.png)
    
    - SMB 2.x 프로토콜 원본 엔드포인트를 마이그레이션할 수 있습니다. 파일 충실도가 유지됩니다. Fidelity에는 파일 및 폴더 타임스탬프, ACL, 파일 특성이 포함됩니다.
    - NFS 3.x 및 4.x 원본 엔드포인트를 마이그레이션할 수 있습니다. 원본 폴더의 메타데이터는 파일과 마찬가지로 Blob의 사용자 지정 메타데이터 필드에 저장됩니다.
    
    ### **Azure Storage Mover 사용 시 고려해야 할 사항**
    
    단일 스토리지 이동기 리소스가 원본 공유에 대한 마이그레이션을 관리할 수 있습니다. 스토리지 이동기 리소스 자체는 파일 및 폴더를 처리하지 않습니다. 대신 원본 공유 근처에 마이그레이션 에이전트를 배포하여 Azure에서 선택한 대상에 직접 데이터를 보냅니다.
    
    Azure Storage Mover는 하이브리드 클라우드 서비스입니다. 하이브리드 서비스에는 클라우드 서비스 구성 요소와 인프라 구성 요소가 모두 있습니다. 서비스 관리자는 회사 환경에서 인프라 구성 요소를 실행합니다. Storage Mover의 경우 해당 하이브리드 구성 요소는 마이그레이션 에이전트로 구성됩니다. 에이전트는 원본 스토리지 근처의 호스트에 배포되고 실행되는 가상 머신입니다.
    
    초기 대량 마이그레이션의 경우 Azure Data Box를 사용하고 이를 온라인 캐치업을 위해 Azure Storage Mover와 결합할 수 있습니다. Azure Data Box를 사용하면 상당한 네트워크 대역폭이 절약됩니다.
    
    ## **Azure File Sync (Azure 파일 동기화)**
    
    [Azure 파일 동기화](https://learn.microsoft.com/ko-kr/azure/storage/file-sync/file-sync-introduction)는 Azure Files의 기능입니다. Azure Files는 PaaS(Platform as a Service) 클라우드 서비스의 이점과 함께 온-프레미스 파일 공유의 기능을 제공하는 Azure 서비스입니다. 엄밀히 말해 마이그레이션 도구는 아니지만 Azure 파일 동기화를 사용하면 파일 공유 관리를 중앙에서 수행할 수 있습니다.
    
    Azure 파일 동기화는 온-프레미스 파일 서버의 유연성, 성능 및 호환성을 제공합니다. Azure 파일 동기화를 사용하여 데이터가 사용되는 위치 가까이에서 빠르게 액세스할 수 있도록 Windows Server 컴퓨터에서 Azure 파일 공유를 캐시할 수도 있습니다. SMB, NFS 및 FTPS를 포함하여 로컬로 데이터에 액세스하기 위해 Windows Server에서 사용할 수 있는 모든 프로토콜을 사용할 수 있습니다.
    
    ### **Azure 파일 동기화를 사용할 때 고려해야 할 사항**
    
    Azure 파일 동기화 및 Azure Files를 사용하는 몇 가지 일반적인 시나리오가 있습니다.
    
    | 시나리오 | 설명 |
    | --- | --- |
    | *온-프레미스 파일 서버 바꾸기 또는 보완* | 거의 모든 회사는 파일 서버를 사용합니다. Azure Files는 기존 온-프레미스 파일 서버 또는 NAS(Network Attached Storage) 디바이스를 완전히 바꾸거나 보완할 수 있습니다. Azure 파일 공유 및 Microsoft Entra Domain Services 인증을 사용하여 데이터를 Azure Files로 마이그레이션하고 고가용성과 스케일링 성능을 활용하여 클라이언트 변경을 최소화할 수 있습니다. |
    | *리프트 앤 시프트(리홈)* | Azure Files를 사용하면 애플리케이션 또는 사용자 데이터를 저장하기 위해 파일 공유를 사용하는 애플리케이션을 클라우드로 쉽게 리프트 앤 시프트할 수 있습니다. |
    | *백업 및 재해 복구* | Azure 파일 공유를 백업 또는 재해 복구를 위한 스토리지로 사용하여 비즈니스 연속성을 향상시킬 수 있습니다. Azure 파일 공유를 사용하여 구성된 Windows DACL(임의 액세스 제어 목록)을 유지하면서 기존 파일 서버에서 데이터를 백업할 수 있습니다. Azure 파일 공유에 저장된 데이터는 온-프레미스 위치에 영향을 줄 수 있는 재해에서 보호됩니다. |
    | *Azure 파일 동기화* | Azure 파일 동기화를 통해 Azure 파일 공유는 사용되는 데이터의 성능 및 분산 캐싱을 위해 온-프레미스 또는 클라우드의 Windows Server에 복제될 수도 있습니다. 공유 폴더 콘텐츠를 Azure로 마이그레이션하려는 경우 Azure 파일 동기화를 사용하는 것이 좋습니다. 이 방법은 온-프레미스 데이터 센터의 Windows Servers에서 분산 파일 시스템을 대체하는 수단으로 특히 유용합니다. |
    
    **참고)** 다른 타사 마이그레이션 도구도 사용할 수 있습니다. 이 [**마이그레이션 비교 테이블**](https://learn.microsoft.com/ko-kr/azure/storage/solution-integration/validated-partners/data-management/migration-tools-comparison#overview-comparison)을 검토합니다.
    
- 오프라인 데이터를 마이그레이션합니다.
    
    Azure는 데이터를 오프라인으로 마이그레이션하기 위한 몇 가지 옵션을 제공합니다. Tailwind Traders의 마이그레이션 계획에 대해 Azure Import/Export 및 Azure Data Box를 검토합니다.
    
    ## **Azure Import/Export 서비스**
    
    [Azure Import/Export](https://learn.microsoft.com/ko-kr/azure/import-export/storage-import-export-service) 서비스는 온-프레미스 위치와 Azure Storage 계정 간에 대량 데이터를 마이그레이션합니다. Import/Export 서비스를 사용하여 온-프레미스 위치와 Azure 데이터 센터 간에 데이터가 포함된 물리적 디스크를 보내고 받습니다. 사용자의 디스크 드라이브에 저장된 데이터를 배송합니다. 이러한 디스크 드라이브는 SATA(Serial ATA) HDD(하드 디스크 드라이브) 또는 SSD(반도체 드라이브)일 수 있습니다.
    
    ### **Import/Export 서비스에 대해 알아야 할 사항**
    
    Azure Import/Export 서비스를 사용하려면 가져오거나 내보낼 데이터를 지정하는 작업을 만듭니다. 그런 다음 데이터를 전송하는 데 사용할 디스크를 준비합니다. 가져오기 작업의 경우 이러한 디스크에 데이터를 쓰고 Azure 데이터 센터로 발송합니다. Microsoft에서 데이터를 업로드합니다. 내보내기 작업의 경우 빈 디스크 세트를 준비하고 Azure 데이터 센터로 발송합니다. Microsoft에서 해당 디스크에 데이터를 복사하여 반송합니다.
    
    다음은 Import/Export 서비스 작업에 대한 몇 가지 추가 사항입니다.
    
    - Azure Blob Storage의 데이터만 Azure Import/Export 서비스를 사용하여 내보낼 수 있습니다.
    - Azure Files에 저장된 데이터는 내보낼 수 없습니다.
    - Import/Export 서비스를 사용하려면 Windows 시스템에서 BitLocker를 사용하도록 설정해야 합니다.
    - Azure 데이터 센터에 드라이브를 배송할 FedEx 또는 DHL 같은 활성 배송업체 계정이 필요합니다.
    - 내보내려면 Azure 데이터 센터로 보낼 수 있는 디스크 집합이 필요합니다. 데이터 센터에서는 이러한 디스크를 사용하여 Azure Storage의 데이터를 복사합니다.
    
    ### **Import/Export 서비스를 사용할 때 고려해야 할 사항**
    
    Azure Import/Export 서비스는 네트워크 백본에 대규모 전송을 지원하기에 충분한 용량이나 안정성이 없는 경우 대량의 데이터를 업로드하고 다운로드하는 데 적합합니다. Import/Export 서비스는 다음을 비롯한 다른 시나리오에서 유용할 수 있습니다.
    
    | 시나리오 | 설명 |
    | --- | --- |
    | *마이그레이션* | 일회성 작업으로 온-프레미스에서 Azure로 대량 데이터를 마이그레이션합니다. |
    | *백업* | Azure Storage의 온-프레미스에 데이터를 백업할 수 있습니다. |
    | *복구* | 이전에 Azure Storage에 저장한 대량의 데이터를 복구할 수 있습니다. |
    | *배포* | Azure Storage에서 고객 사이트로 데이터를 배포할 수 있습니다. |
    
    ## **Azure Data Box**
    
    [Azure Data Box](https://learn.microsoft.com/ko-kr/azure/databox/)는 대량의 데이터를 Azure로 이동하는 빠르고 안정적이고 비싸지 않은 방법을 제공합니다. Data Box를 사용하면 테라바이트 단위의 데이터를 Azure와 주고받을 수 있습니다. 이 솔루션은 사용자의 조직에 배송되는 안전한 스토리지 디바이스를 기반으로 합니다. Data Box에는 디스크, 러기드 서버 섀시 또는 모바일 디스크와 같은 다양한 디바이스가 포함될 수 있습니다.
    
    Azure는 [Data Box](https://learn.microsoft.com/ko-kr/azure/databox/data-box-overview), [Data Box Disk](https://learn.microsoft.com/ko-kr/azure/databox/data-box-disk-overview) 및 [Data Box Heavy](https://learn.microsoft.com/ko-kr/azure/databox/data-box-heavy-overview)와 같은 다양한 시나리오에 맞는 여러 제품을 제공합니다. 구성 프로세스는 기본적으로 모든 제품에서 동일합니다.
    
    스토리지 디바이스를 받은 후에는 로컬 웹 기반 관리 인터페이스를 사용하여 신속하게 설정할 수 있습니다. Azure로 데이터를 내보내는 경우 필요한 데이터를 스토리지 디바이스에 복사한 다음, Azure로 반환합니다.
    
    ### **Azure Data Box에 대해 알아야 할 사항**
    
    Azure Data Box에는 다음과 같은 구성 요소가 포함되어 있습니다.
    
    - **Data Box 디바이스**: 기본 스토리지를 제공하고, 클라우드 스토리지와의 통신을 관리하고, 디바이스에 저장된 모든 데이터의 보안과 기밀성을 보장하는 데 도움이 되는 물리적 디바이스입니다. Data Box 디바이스에는 80TB의 사용 가능한 스토리지 용량이 있습니다.
    - **Data Box 서비스**: 여러 지리적 위치에서 액세스할 수 있는 웹 인터페이스를 사용하여 Data Box 디바이스를 관리할 수 있는 Azure Portal의 확장입니다. Data Box 서비스를 사용하여 사용자의 Data Box 디바이스에 대한 일일 관리를 수행합니다. 서비스 작업에는 주문을 만들고 관리하고, 경고를 살펴보고 관리하고, 공유를 관리하는 방법이 포함됩니다.
    - **Data Box 로컬 웹 기반 사용자 인터페이스**: 로컬 네트워크에 연결할 수 있도록 디바이스를 구성하고 Data Box 서비스에 디바이스를 등록하는 데 사용되는 웹 기반 UI입니다. 로컬 웹 UI를 사용하여 Data Box 디바이스를 종료 및 다시 시작하고, 복사 로그를 보고, 서비스 요청을 보내기 위해 Microsoft 지원에 문의할 수도 있습니다.
    
    **참고)** 스토리지 디바이스에 대한 암호화 키를 정의합니다. 전체 프로세스는 Azure Portal의 Data Box 서비스에 의해 엔드투엔드 추적됩니다.
    
    ### **Azure Data Box를 사용할 때 고려해야 할 사항**
    
    Data Box는 40TB보다 큰 데이터를 전송하는 데 이상적입니다. 이 서비스는 인터넷 연결이 제한된 시나리오에서 특히 유용합니다. 다음과 같은 상황에서는 Data Box를 사용하는 것이 좋습니다.
    
    | 시나리오 | 설명 |
    | --- | --- |
    | *일회성 마이그레이션* | Azure Data Box를 사용하여 많은 양의 온-프레미스 데이터를 Azure로 마이그레이션합니다. 미디어 라이브러리를 오프라인 테이프에서 Azure로 이동하여 온라인 미디어 라이브러리를 만듭니다. 가상 머신 팜, SQL 서버 및 애플리케이션을 Azure로 마이그레이션합니다. 기록 데이터를 심층 분석하고 Azure HDInsight를 사용하여 보고하기 위해 Azure로 이동합니다. |
    | *초기 대량 전송* | Azure Data Box를 사용하여 초기 대량 전송을 수행하고, 이후에는 네트워크를 통해 증분 전송을 수행할 수 있습니다. 대량의 기록 백업을 Azure로 이동합니다. 이 데이터가 추가된 후에는 증분 데이터가 포함된 보관 파일을 네트워크를 통해 Azure Storage로 전송하는 작업을 계속 유지할 수 있습니다. |
    | *정기적 업로드* | Azure Data Box를 사용하여 주기적으로 생성되는 대량의 데이터를 Azure로 이동합니다. 고객이 연결한 IoT 디바이스의 센서에서 생성하는 데이터를 이동합니다. |
    
    ## **Azure Import/Export 및 Azure Data Box 비교**
    
    다음 표에서는 Azure Import/Export 및 Azure Data Box를 비교합니다. Tailwind Traders에 대한 마이그레이션 솔루션을 지원하도록 이러한 서비스를 구현하는 방법을 생각해 보세요.
    
    | 비교 | Azure Import/Export (데이터 가져오기/내보내기 서비스) | Azure Data Box |
    | --- | --- | --- |
    | **폼 팩터** | 내부 SATA HDD 또는 SDD | 안전한, 변조 방지, 단일 하드웨어 어플라이언스 |
    | **Microsoft에서 배송 내부 프로세스 관리** | 아니요 | 예 |
    | **파트너 제품과의 통합** | 아니요 | 예 |
    | **사용자 지정 어플라이언스** | 아니요 | 예 |
    
    **팁)** Azure Blob Storage에서 중간 볼륨의 데이터를 내보내거나 가져오려는 경우 AzCopy, Azure Storage Explorer 등의 다른 도구를 사용하는 것이 좋습니다.