# 계속 틀리는것들

---

**SQL database**

- 업계 최고 가용성으로 확장성이 뛰어난 지능형 관계형 데이터베이스 서비스
- 큰 규모의 데이터베이스(현재 최대 100TB) 및 자동 크기 조정
- SQL Database 탄력적 데이터베이스 풀 생성 가능
- 기본 가격 책정 옵션 : vCore / DTU(데이터베이스 트랜잭션 단위)
- 하이퍼스케일 : sql db에만 있는 인프라 장애 시에도 고가용성을 보장하는 계층(범용, 비지니스도 존재)
- db 크기와 관계없이 거의 즉각적인 데이터베이스 백업을 허용하는 스냅샷 사용
- 확장성이 뛰어난 스토리지 제공, 비즈니스 워크로드에 대한 읽기 확장 요구 사항
비지니스 : 짧은 대기 시간, 오류에 대한 최고 수준의 복원

**SQL Managed instance**

- 애플리케이션을 다시 디자인하지 않고도 Azure로의 리프트 앤 시프트 마이그레이션을 수행 가능
- 오토스케일링 X, 오버헤드 줄이기,
- SQL Server 에이전트, CLR(공용 언어 런타임), 데이터베이스 메일, 분산 트랜잭션 및 Machine Learning Services와 같은 인스턴스 범위 기능에 관심이 있는 고객에게 적합
- vCore 모드 사용

**SQL vm**

- 온-프레미스 머신을 관리하지 않고도 클라우드에서 전체 버전의 SQL Server를 사용 가능
- 특정 버전 및 운영 체제 요구 사항을 충족하도록 만들 수 있으므로 여러 SQL Server 워크로드를 처리하는 데 적합
- SQL Server의 전체 기능에 액세스 가능

**Cosmos DB**

- 최신 앱 개발을 위한 완전 관리형 NoSQL 데이터베이스 서비스,
- 자동 관리, 업데이트, 패치, 비용 효율적인 서버리스 및 자동 확장 옵션
- Azure Table Storage는 손쉽게 마이그레이션 가능

---

### **Azure 데이터베이스 서비스 비교 (비용 및 가용성 포함)**

AZ-305 시험에 필요한 Azure 데이터베이스 서비스의 주요 개념, 특징, 그리고 비용 및 가용성 측면을 종합적으로 비교해 드리겠습니다. SQL 계열 서비스와 NoSQL인 Cosmos DB를 관리, 유연성, 비용, 가용성 측면에서 구분하는 것이 핵심입니다.

---

### **1. 관계형 데이터베이스 솔루션 (SQL 계열)**

Azure의 SQL 계열 서비스는 Microsoft SQL Server 엔진을 기반으로 하지만, 관리 수준과 유연성에서 큰 차이를 보입니다. PaaS(Platform-as-a-Service)부터 IaaS(Infrastructure-as-a-Service)까지 다양한 옵션이 있습니다.

| 특징 | Azure SQL Database | Azure SQL Managed Instance | Azure SQL VM |
| --- | --- | --- | --- |
| **개념** | 클라우드용으로 최적화된 **완전 관리형** PaaS 데이터베이스입니다. | PaaS와 IaaS의 중간 형태. SQL Server 인스턴스의 기능을 대부분 제공하는 완전 관리형 서비스입니다. | Azure VM에 직접 SQL Server를 설치한 IaaS 솔루션입니다. |
| **관리 수준** | **최소화**. OS, 패치, 백업, HA 등을 Azure가 모두 관리합니다. 사용자는 데이터베이스에만 집중하면 됩니다. | **낮음**. 인스턴스 수준의 제어권을 가지며, 백업, HA, 패치 등은 Azure가 관리합니다. | **최대화**. OS, SQL Server, 백업, HA 등을 모두 사용자가 직접 관리해야 합니다. |
| **비용** | 사용한 만큼만 지불하는 종량제 모델. 유연한 확장/축소가 가능하여 비용 효율적입니다. | SQL Database보다 높은 비용이 발생. 인스턴스 수준의 리소스를 사용하므로 예측 가능한 비용 구조를 가집니다. | SQL Server 라이선스 비용과 VM 비용을 모두 지불해야 하므로 가장 비싼 옵션이 될 수 있습니다. |
| **가용성** | **내장된 고가용성**. 기본적으로 99.99% 이상의 SLA를 보장하며, 고가용성(HA) 및 재해 복구(DR)가 자동으로 구성됩니다. | **내장된 고가용성**. SQL Database와 유사한 HA를 제공하며, 장애 조치 그룹을 통해 DR을 구성할 수 있습니다. | **사용자 관리**. 가용성을 위해 Always On AG, FCI 등을 직접 구성하고 관리해야 합니다. VM 가용성 집합(Availability Sets) 또는 가용성 영역(Availability Zones)을 사용해야 합니다. |
| **적합한 워크로드** | 클라우드 네이티브 앱, 소규모 프로젝트, 단순한 데이터베이스가 필요한 SaaS 앱. | 온프레미스 SQL Server를 최소한의 변경으로 마이그레이션할 때. | SQL Server의 모든 기능과 OS 수준의 제어(예: 타사 모니터링 에이전트 설치)가 필요할 때. |

---

### **2. 비관계형 데이터베이스 솔루션 (NoSQL)**

Azure Cosmos DB는 관계형 모델을 벗어나, 현대적인 애플리케이션의 다양한 요구사항을 충족하도록 설계된 NoSQL 데이터베이스입니다.

| 특징 | Azure Cosmos DB |
| --- | --- |
| **개념** | 전역 분산 및 다중 모델(Multi-model)을 지원하는 **완전 관리형 NoSQL** 데이터베이스입니다. |
| **관리 수준** | **최소화**. 인프라 관리가 필요 없으며, 전역 분산, 고가용성, 자동 스케일링을 Azure가 모두 처리합니다. |
| **비용** | 데이터 요청 단위인 **RU(Request Unit)**를 기반으로 요금이 부과됩니다. 필요한 만큼만 확장/축소할 수 있어 비용 효율적입니다. |
| **가용성** | 단일 자릿수 밀리초의 대기 시간을 보장하는 SLA(서비스 수준 약정)와 **99.999%의 가용성**을 제공합니다. 이는 전 세계적으로 복제되는 데이터베이스의 특성 덕분입니다. |
| **적합한 워크로드** | 실시간 데이터를 처리하는 IoT, 게임, 전자상거래 등 전 세계 사용자에게 낮은 지연 시간을 제공해야 하는 애플리케이션에 적합합니다. |